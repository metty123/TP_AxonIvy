[Ivy]
[>Created: Tue Jul 15 09:31:45 ICT 2014]
1208ADD77378CD0B 3.17 #module
>Proto >Proto Collection #zClass
Es0 EnvironmentListProcess Big #zClass
Es0 RD #cInfo
Es0 #process
Es0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Es0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Es0 @TextInP .resExport .resExport #zField
Es0 @TextInP .type .type #zField
Es0 @TextInP .processKind .processKind #zField
Es0 @AnnotationInP-0n ai ai #zField
Es0 @MessageFlowInP-0n messageIn messageIn #zField
Es0 @MessageFlowOutP-0n messageOut messageOut #zField
Es0 @TextInP .xml .xml #zField
Es0 @TextInP .responsibility .responsibility #zField
Es0 @RichDialogInitStart f0 '' #zField
Es0 @RichDialogProcessEnd f1 '' #zField
Es0 @PushWFArc f2 '' #zField
Es0 @RichDialogProcessStart f3 '' #zField
Es0 @RichDialogProcessEnd f6 '' #zField
Es0 @RichDialogProcessStart f8 '' #zField
Es0 @RichDialog f9 '' #zField
Es0 @RichDialogProcessEnd f11 '' #zField
Es0 @PushWFArc f12 '' #zField
Es0 @RichDialogInitStart f13 '' #zField
Es0 @RichDialogMethodStart f17 '' #zField
Es0 @RichDialogProcessEnd f18 '' #zField
Es0 @RichDialogProcessStep f20 '' #zField
Es0 @PushWFArc f19 '' #zField
Es0 @RichDialogFireEvent f22 '' #zField
Es0 @RichDialogProcessStep f7 '' #zField
Es0 @RichDialog f26 '' #zField
Es0 @RichDialogProcessStart f28 '' #zField
Es0 @RichDialog f29 '' #zField
Es0 @Alternative f31 '' #zField
Es0 @PushWFArc f32 '' #zField
Es0 @RichDialogProcessStep f33 '' #zField
Es0 @RichDialogProcessEnd f35 '' #zField
Es0 @PushWFArc f37 '' #zField
Es0 @PushWFArc f14 '' #zField
Es0 @Alternative f42 '' #zField
Es0 @PushWFArc f46 '' #zField
Es0 @Alternative f44 '' #zField
Es0 @PushWFArc f47 '' #zField
Es0 @PushWFArc f38 '' #zField
Es0 @PushWFArc f65 '' #zField
Es0 @Alternative f4 '' #zField
Es0 @PushWFArc f63 '' #zField
Es0 @PushWFArc f10 '' #zField
Es0 @PushWFArc f64 '' #zField
Es0 @RichDialogBroadcastStart f71 '' #zField
Es0 @RichDialogBroadcastStart f73 '' #zField
Es0 @RichDialogProcessEnd f75 '' #zField
Es0 @PushWFArc f76 '' #zField
Es0 @PushWFArc f74 '' #zField
Es0 @RichDialogBroadcastStart f72 '' #zField
Es0 @PushWFArc f77 '' #zField
Es0 @RichDialogProcessStart f21 '' #zField
Es0 @RichDialogProcessEnd f24 '' #zField
Es0 @PushWFArc f25 '' #zField
Es0 @PushWFArc f79 '' #zField
Es0 @PushWFArc f16 '' #zField
Es0 @PushWFArc f27 '' #zField
Es0 @RichDialogFireEvent f15 '' #zField
Es0 @RichDialogBroadcastStart f30 '' #zField
Es0 @RichDialogBroadcastStart f40 '' #zField
Es0 @PushWFArc f41 '' #zField
Es0 @PushWFArc f48 '' #zField
Es0 @PushWFArc f66 '' #zField
Es0 @PushWFArc f34 '' #zField
Es0 @RichDialogProcessStart f23 '' #zField
Es0 @RichDialogProcessEnd f50 '' #zField
Es0 @PushWFArc f5 '' #zField
Es0 @RichDialogProcessStart f87 '' #zField
Es0 @RichDialogProcessEnd f91 '' #zField
Es0 @RichDialog f59 '' #zField
Es0 @PushWFArc f43 '' #zField
Es0 @PushWFArc f95 '' #zField
Es0 @RichDialogProcessStep f45 '' #zField
Es0 @PushWFArc f96 '' #zField
Es0 @PushWFArc f98 '' #zField
Es0 @RichDialog f36 '' #zField
Es0 @PushWFArc f99 '' #zField
Es0 @PushWFArc f39 '' #zField
Es0 @PushWFArc f49 '' #zField
Es0 @PushWFArc f51 '' #zField
>Proto Es0 Es0 EnvironmentListProcess #zField
Es0 f0 guid 1208ADD79698E929 #txt
Es0 f0 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f0 method start() #txt
Es0 f0 disableUIEvents false #txt
Es0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Es0 f0 outParameterDecl '<> result;
' #txt
Es0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
Es0 f0 38 38 20 20 13 0 #rect
Es0 f0 @|RichDialogInitStartIcon #fIcon
Es0 f1 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f1 38 142 20 20 11 0 #rect
Es0 f1 @|RichDialogProcessEndIcon #fIcon
Es0 f2 expr out #txt
Es0 f2 48 58 48 142 #arcP
Es0 f3 guid 1208AE1C41B4BDEF #txt
Es0 f3 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f3 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f3 actionTable 'out=in;
out.counter=0;
' #txt
Es0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>showDetails</name>
        <nameStyle>11,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f3 310 46 20 20 13 0 #rect
Es0 f3 @|RichDialogProcessStartIcon #fIcon
Es0 f6 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f6 310 270 20 20 11 0 #rect
Es0 f6 @|RichDialogProcessEndIcon #fIcon
Es0 f8 guid 1208AFD2F3659F29 #txt
Es0 f8 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f8 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f8 actionTable 'out=in;
' #txt
Es0 f8 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add</name>
        <nameStyle>3,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f8 510 38 20 20 13 0 #rect
Es0 f8 @|RichDialogProcessStartIcon #fIcon
Es0 f9 targetWindow NEW:card: #txt
Es0 f9 targetDisplay TOP #txt
Es0 f9 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentDetails #txt
Es0 f9 startMethod createEnvironment(ch.ivyteam.ivy.application.IApplication,ch.ivyteam.ivy.application.restricted.IEnvironment) #txt
Es0 f9 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f9 panelName 'New environment' #txt
Es0 f9 requestActionDecl '<ch.ivyteam.ivy.application.IApplication application, ch.ivyteam.ivy.application.restricted.IEnvironment environment> param;' #txt
Es0 f9 requestMappingAction 'param.application=in.selectedApplication;
' #txt
Es0 f9 responseActionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f9 responseMappingAction 'out=in;
' #txt
Es0 f9 responseActionCode 'import java.util.Collections;
if (result.environment != null)
{
	in.environments.add(result.environment);
	Collections.sort(in.environments.deepClone());
}' #txt
Es0 f9 windowConfiguration '{/title "Create Environment"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Es0 f9 isAsynch false #txt
Es0 f9 isInnerRd true #txt
Es0 f9 isDialog true #txt
Es0 f9 userContext '* ' #txt
Es0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>create
environment</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f9 502 188 36 24 20 -2 #rect
Es0 f9 @|RichDialogIcon #fIcon
Es0 f11 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f11 510 246 20 20 11 0 #rect
Es0 f11 @|RichDialogProcessEndIcon #fIcon
Es0 f12 expr out #txt
Es0 f12 520 212 520 246 #arcP
Es0 f13 guid 1208AFFD13896847 #txt
Es0 f13 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f13 method start(ch.ivyteam.ivy.application.IApplication) #txt
Es0 f13 disableUIEvents false #txt
Es0 f13 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivyteam.ivy.application.IApplication application> param = methodEvent.getInputArguments();
' #txt
Es0 f13 inParameterMapAction 'out.applicationFilter=param.application;
out.environments=param.application.getEnvironments();
' #txt
Es0 f13 outParameterDecl '<> result;
' #txt
Es0 f13 embeddedRdInitializations '* ' #txt
Es0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start(IApplication)</name>
        <nameStyle>19,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f13 118 38 20 20 13 0 #rect
Es0 f13 @|RichDialogInitStartIcon #fIcon
Es0 f17 guid 120A35CA6DC18580 #txt
Es0 f17 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f17 method refresh() #txt
Es0 f17 disableUIEvents false #txt
Es0 f17 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Es0 f17 outParameterDecl '<> result;
' #txt
Es0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f17 854 38 20 20 13 0 #rect
Es0 f17 @|RichDialogMethodStartIcon #fIcon
Es0 f18 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f18 854 142 20 20 11 0 #rect
Es0 f18 @|RichDialogProcessEndIcon #fIcon
Es0 f20 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f20 actionTable 'out=in;
' #txt
Es0 f20 actionCode 'import ch.ivyteam.ivy.application.restricted.IEnvironment;
import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.server.IServer;

IServer server = ch.ivyteam.ivy.server.ServerFactory.getServer();
in.environments = new List<IEnvironment>();

for (IApplication application : server.getApplicationConfigurationManager().getApplications())
{
	if (!application.isSystem() && (in.#applicationFilter == null || (in.#applicationFilter as Object).equals(application)))
	{
		String defaultEnvName = "Default";
		//Create default environment for default configurations
		IEnvironment default = application.findEnvironment(defaultEnvName);
		if(default == null){
			application.createEnvironment(defaultEnvName,"Default environment configuration for application " + application.getName(),null);
		}
		in.environments.addAll(application.getEnvironments());
	}
}' #txt
Es0 f20 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f20 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load
environments</name>
        <nameStyle>17,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f20 846 84 36 24 -57 -1 #rect
Es0 f20 @|RichDialogProcessStepIcon #fIcon
Es0 f19 expr out #txt
Es0 f19 864 108 864 142 #arcP
Es0 f22 actionDecl 'List paramaters;
' #txt
Es0 f22 actionTable 'paramaters=in.parameterList.deepClone();
' #txt
Es0 f22 actionCode panel.fireSubPanelRequested(paramaters); #txt
Es0 f22 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f22 fireEvent subPanelRequested(List) #txt
Es0 f22 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show
details</name>
        <nameStyle>12,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f22 302 220 36 24 20 -2 #rect
Es0 f22 @|RichDialogFireEventIcon #fIcon
Es0 f7 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f7 actionTable 'out=in;
' #txt
Es0 f7 actionCode 'import ch.ivyteam.ivy.application.IExternalDatabaseConfiguration;
import ch.ivyteam.ivy.application.restricted.IEnvironment;

IEnvironment env = in.selectedEnvironments.get(in.counter);
Number identifier = env.getId();
out.parameterList.clear();
out.parameterList.add("environment");
out.parameterList.add(identifier);
out.parameterList.add(env);
in.counter++;' #txt
Es0 f7 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepare
parameters</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f7 302 156 36 24 20 -2 #rect
Es0 f7 @|RichDialogProcessStepIcon #fIcon
Es0 f26 targetDisplay TOP #txt
Es0 f26 richDialogId ch.ivyteam.ivy.admin.tool.ApplicationChooser #txt
Es0 f26 startMethod chooseApplication(ch.ivyteam.ivy.application.IApplication) #txt
Es0 f26 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f26 requestActionDecl '<ch.ivyteam.ivy.application.IApplication application> param;' #txt
Es0 f26 requestMappingAction 'param.application=in.applicationFilter;
' #txt
Es0 f26 responseActionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f26 responseMappingAction 'out=in;
out.selectedApplication=result.application;
' #txt
Es0 f26 windowConfiguration '{/title "Choose Application"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Es0 f26 isAsynch false #txt
Es0 f26 isInnerRd true #txt
Es0 f26 isDialog true #txt
Es0 f26 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>choose
application</name>
        <nameStyle>18,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f26 502 84 36 24 20 -2 #rect
Es0 f26 @|RichDialogIcon #fIcon
Es0 f28 guid 120A43A7B2167154 #txt
Es0 f28 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f28 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f28 actionTable 'out=in;
out.counter=0;
' #txt
Es0 f28 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove</name>
        <nameStyle>6,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f28 302 302 20 20 13 0 #rect
Es0 f28 @|RichDialogProcessStartIcon #fIcon
Es0 f29 targetWindow NEW:card: #txt
Es0 f29 targetDisplay TOP #txt
Es0 f29 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
Es0 f29 startMethod askQuestion(String,String,List<String>) #txt
Es0 f29 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f29 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
Es0 f29 requestMappingAction 'param.buttons=["yes","no"];
' #txt
Es0 f29 requestActionCode 'import ch.ivyteam.ivy.application.restricted.IEnvironment;
String question = "Would you like to remove the selected environment";

if (in.selectedEnvironments.size() > 1)
{
	question = question + "s:\n\n";
	String name = "";
	for (IEnvironment env : in.selectedEnvironments)
	{
		name = name + env.getName() + ", ";
	}
	name = name.substring(0, name.length() - 2);
	param.question = question + name;
}
else
{
	param.question = question + ": " + in.selectedEnvironment.getName();
}

' #txt
Es0 f29 responseActionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f29 responseMappingAction 'out=in;
' #txt
Es0 f29 responseActionCode 'if (result.pressedButton == "yes")
{
	out.cancel = false;
}
else
{
	out.cancel = true;
}' #txt
Es0 f29 windowConfiguration '{/title "Delete Environment"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Es0 f29 isAsynch false #txt
Es0 f29 isInnerRd true #txt
Es0 f29 isDialog true #txt
Es0 f29 userContext '* ' #txt
Es0 f29 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>confirm dialog</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f29 294 444 36 24 19 -3 #rect
Es0 f29 @|RichDialogIcon #fIcon
Es0 f31 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete?</name>
        <nameStyle>7,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f31 298 490 28 28 14 0 #rect
Es0 f31 @|AlternativeIcon #fIcon
Es0 f32 expr out #txt
Es0 f32 312 468 312 490 #arcP
Es0 f33 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f33 actionTable 'out=in;
' #txt
Es0 f33 actionCode 'import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.application.restricted.IEnvironment;

IEnvironment env = in.selectedEnvironments.get(in.counter);
IApplication app = env.getApplication();
app.deleteEnvironment(env.getName());
in.environments.remove(env);

' #txt
Es0 f33 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete
environment</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f33 406 492 36 24 20 -2 #rect
Es0 f33 @|RichDialogProcessStepIcon #fIcon
Es0 f35 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f35 254 574 20 20 11 0 #rect
Es0 f35 @|RichDialogProcessEndIcon #fIcon
Es0 f37 expr in #txt
Es0 f37 298 504 264 574 #arcP
Es0 f37 1 264 504 #addKink
Es0 f37 1 0.17822247975940145 0 0 #arcLabel
Es0 f14 expr out #txt
Es0 f14 128 58 48 142 #arcP
Es0 f14 1 128 100 #addKink
Es0 f14 2 48 100 #addKink
Es0 f14 1 0.48124999999999984 0 0 #arcLabel
Es0 f42 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Env. 
selected</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f42 306 90 28 28 14 0 #rect
Es0 f42 @|AlternativeIcon #fIcon
Es0 f46 expr in #txt
Es0 f46 outCond 'in.counter >= in.selectedEnvironments.size()' #txt
Es0 f46 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f46 306 104 310 280 #arcP
Es0 f46 1 248 104 #addKink
Es0 f46 2 248 280 #addKink
Es0 f46 1 0.43534981253664906 0 0 #arcLabel
Es0 f44 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f44 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Env. 
selected</name>
        <nameStyle>14,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f44 298 386 28 28 14 0 #rect
Es0 f44 @|AlternativeIcon #fIcon
Es0 f47 expr out #txt
Es0 f47 312 322 312 386 #arcP
Es0 f38 expr in #txt
Es0 f38 outCond 'in.selectedEnvironment == null' #txt
Es0 f38 298 400 264 574 #arcP
Es0 f38 1 264 400 #addKink
Es0 f38 1 0.4439919103898936 0 0 #arcLabel
Es0 f65 expr out #txt
Es0 f65 320 180 320 220 #arcP
Es0 f4 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>App
selected</name>
        <nameStyle>12,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f4 506 130 28 28 14 0 #rect
Es0 f4 @|AlternativeIcon #fIcon
Es0 f63 expr out #txt
Es0 f63 520 108 520 130 #arcP
Es0 f10 expr in #txt
Es0 f10 outCond 'in.selectedApplication != null' #txt
Es0 f10 520 158 520 188 #arcP
Es0 f64 expr in #txt
Es0 f64 506 144 510 256 #arcP
Es0 f64 1 477 144 #addKink
Es0 f64 2 477 256 #addKink
Es0 f64 1 0.40207431730699233 0 0 #arcLabel
Es0 f71 guid 121ED3391C8F10E0 #txt
Es0 f71 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f71 broadcast applicationDeleted #txt
Es0 f71 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f71 actionTable 'out=in;
' #txt
Es0 f71 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>applicationDeleted</name>
        <nameStyle>18,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f71 1046 86 20 20 13 0 #rect
Es0 f71 @|RichDialogBroadcastStartIcon #fIcon
Es0 f73 guid 121ED386AD1CE1CB #txt
Es0 f73 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f73 broadcast applicationCreated #txt
Es0 f73 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f73 actionTable 'out=in;
' #txt
Es0 f73 actionCode 'import ch.ivyteam.ivy.application.restricted.IEnvironment;
import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.server.IServer;

IServer server = ch.ivyteam.ivy.server.ServerFactory.getServer();
out.applicationFilter =  server.getApplicationConfigurationManager().findApplication(param.applicationIdentifier);
		String defaultEnvName = "Default";
		//Create default environment for default configurations
		IEnvironment default = out.applicationFilter.findEnvironment(defaultEnvName);
		if(default == null){
			out.applicationFilter.createEnvironment(defaultEnvName,"Default environment configuration for application " + out.applicationFilter.getName(),null);
		}
		in.environments.addAll(out.applicationFilter.getEnvironments());


' #txt
Es0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>applicationCreated</name>
        <nameStyle>18,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f73 1046 126 20 20 13 0 #rect
Es0 f73 @|RichDialogBroadcastStartIcon #fIcon
Es0 f75 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f75 1014 310 20 20 11 0 #rect
Es0 f75 @|RichDialogProcessEndIcon #fIcon
Es0 f76 expr out #txt
Es0 f76 1046 136 1024 310 #arcP
Es0 f76 1 1024 136 #addKink
Es0 f76 1 0.35333333333333333 0 0 #arcLabel
Es0 f74 expr out #txt
Es0 f74 1046 96 1024 310 #arcP
Es0 f74 1 1024 96 #addKink
Es0 f74 1 0.4043478260869565 0 0 #arcLabel
Es0 f72 guid 1223693ABE03F1D4 #txt
Es0 f72 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f72 broadcast applicationSelected #txt
Es0 f72 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f72 actionTable 'out=in;
out.applicationFilter=param.application;
' #txt
Es0 f72 actionCode 'in.environments = param.application.getEnvironments();
' #txt
Es0 f72 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>applicationSelected</name>
        <nameStyle>19,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f72 1046 166 20 20 13 0 #rect
Es0 f72 @|RichDialogBroadcastStartIcon #fIcon
Es0 f77 expr out #txt
Es0 f77 1046 176 1024 310 #arcP
Es0 f77 1 1024 176 #addKink
Es0 f77 1 0.18571428571428572 0 0 #arcLabel
Es0 f21 guid 1223694F2BD65A8C #txt
Es0 f21 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f21 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f21 actionTable 'out=in;
' #txt
Es0 f21 actionCode 'import ch.ivyteam.ivy.application.restricted.IEnvironment;

in.defaultSelection = false;
for (IEnvironment env : panel.lstEnvironments.getSelectedListEntries())
{
	if ( env != null && env.isDefault() )
	{
		in.defaultSelection = true;
	}
}
' #txt
Es0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>select</name>
        <nameStyle>6,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f21 654 46 20 20 13 0 #rect
Es0 f21 @|RichDialogProcessStartIcon #fIcon
Es0 f24 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f24 654 102 20 20 11 0 #rect
Es0 f24 @|RichDialogProcessEndIcon #fIcon
Es0 f25 expr out #txt
Es0 f25 664 66 664 102 #arcP
Es0 f79 expr out #txt
Es0 f79 864 58 864 84 #arcP
Es0 f16 expr in #txt
Es0 f16 312 414 312 444 #arcP
Es0 f27 expr out #txt
Es0 f27 520 58 520 84 #arcP
Es0 f15 actionDecl 'Number environmentIdentifier;
' #txt
Es0 f15 actionTable 'environmentIdentifier=in.selectedEnvironments.get(in.counter).getId();
' #txt
Es0 f15 actionCode panel.fireEnvironmentDeleted(environmentIdentifier); #txt
Es0 f15 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f15 fireEvent environmentDeleted(Number) #txt
Es0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>send environment 
deleted</name>
        <nameStyle>25,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f15 406 564 36 24 20 -2 #rect
Es0 f15 @|RichDialogFireEventIcon #fIcon
Es0 f30 guid 122742EB6441C6BE #txt
Es0 f30 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f30 broadcast processModelSelected #txt
Es0 f30 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f30 actionTable 'out=in;
out.applicationFilter=param.processModel.getApplication();
' #txt
Es0 f30 actionCode 'in.environments = param.processModel.getApplication().getEnvironments();
' #txt
Es0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>processModelSelected</name>
        <nameStyle>20,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f30 1046 206 20 20 13 0 #rect
Es0 f30 @|RichDialogBroadcastStartIcon #fIcon
Es0 f40 guid 122742EC102D6D09 #txt
Es0 f40 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f40 broadcast processModelVersionSelected #txt
Es0 f40 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f40 actionTable 'out=in;
out.applicationFilter=param.processModelVersion.getApplication();
' #txt
Es0 f40 actionCode 'in.environments = param.processModelVersion.getApplication().getEnvironments();' #txt
Es0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>processModelVersionSelected</name>
        <nameStyle>27,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f40 1046 246 20 20 13 0 #rect
Es0 f40 @|RichDialogBroadcastStartIcon #fIcon
Es0 f41 expr out #txt
Es0 f41 1046 216 1024 310 #arcP
Es0 f41 1 1024 216 #addKink
Es0 f41 1 0.3467145401154155 0 0 #arcLabel
Es0 f48 expr out #txt
Es0 f48 1046 256 1024 310 #arcP
Es0 f48 1 1024 256 #addKink
Es0 f48 1 0.2636484208524994 0 0 #arcLabel
Es0 f66 expr in #txt
Es0 f66 outCond '!in.cancel && in.counter < in.selectedEnvironments.size()' #txt
Es0 f66 326 504 406 504 #arcP
Es0 f34 expr out #txt
Es0 f34 424 516 424 564 #arcP
Es0 f23 guid 13750EF1A816D2E1 #txt
Es0 f23 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f23 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f23 actionTable 'out=in;
' #txt
Es0 f23 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>export</name>
        <nameStyle>6,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f23 486 294 20 20 13 0 #rect
Es0 f23 @|RichDialogProcessStartIcon #fIcon
Es0 f50 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f50 486 398 20 20 13 0 #rect
Es0 f50 @|RichDialogProcessEndIcon #fIcon
Es0 f5 expr in #txt
Es0 f5 320 118 320 156 #arcP
Es0 f87 guid 1377427B9AEBBE2E #txt
Es0 f87 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f87 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f87 actionTable 'out=in;
' #txt
Es0 f87 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>import</name>
        <nameStyle>6,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f87 622 294 20 20 13 0 #rect
Es0 f87 @|RichDialogProcessStartIcon #fIcon
Es0 f91 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f91 622 398 20 20 13 0 #rect
Es0 f91 @|RichDialogProcessEndIcon #fIcon
Es0 f59 targetWindow NEW:card: #txt
Es0 f59 targetDisplay TOP #txt
Es0 f59 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentImport #txt
Es0 f59 startMethod start(List<ch.ivyteam.ivy.application.restricted.IEnvironment>,ch.ivyteam.ivy.application.IApplication) #txt
Es0 f59 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f59 requestActionDecl '<List<ch.ivyteam.ivy.application.restricted.IEnvironment> environments, ch.ivyteam.ivy.application.IApplication selectedApplication> param;' #txt
Es0 f59 requestMappingAction 'param.environments=in.selectedEnvironments;
param.selectedApplication=in.applicationFilter;
' #txt
Es0 f59 responseActionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f59 responseMappingAction 'out=in;
' #txt
Es0 f59 windowConfiguration '{/title "Import Environment(s)"/width 400 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Es0 f59 isAsynch true #txt
Es0 f59 isInnerRd true #txt
Es0 f59 userContext '* ' #txt
Es0 f59 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>import 
dialog</name>
        <nameStyle>8,7
6,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f59 614 348 36 24 20 -2 #rect
Es0 f59 @|RichDialogIcon #fIcon
Es0 f43 expr out #txt
Es0 f43 320 66 320 90 #arcP
Es0 f95 expr out #txt
Es0 f95 338 232 334 104 #arcP
Es0 f95 1 432 232 #addKink
Es0 f95 2 432 104 #addKink
Es0 f95 1 0.4665812266861208 0 0 #arcLabel
Es0 f45 actionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f45 actionTable 'out=in;
' #txt
Es0 f45 actionCode in.counter++; #txt
Es0 f45 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>inc counter</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f45 334 564 36 24 -20 14 #rect
Es0 f45 @|RichDialogProcessStepIcon #fIcon
Es0 f96 expr out #txt
Es0 f96 406 576 370 576 #arcP
Es0 f96 0 0.8955175716273825 0 0 #arcLabel
Es0 f98 expr out #txt
Es0 f98 334 576 312 518 #arcP
Es0 f98 1 312 576 #addKink
Es0 f98 1 0.11561866125760645 0 0 #arcLabel
Es0 f36 targetWindow NEW:card: #txt
Es0 f36 targetDisplay TOP #txt
Es0 f36 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentExport #txt
Es0 f36 startMethod start(List<ch.ivyteam.ivy.application.restricted.IEnvironment>) #txt
Es0 f36 type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
Es0 f36 requestActionDecl '<List<ch.ivyteam.ivy.application.restricted.IEnvironment> environments> param;' #txt
Es0 f36 requestMappingAction 'param.environments=in.selectedEnvironments;
' #txt
Es0 f36 responseActionDecl 'ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData out;
' #txt
Es0 f36 responseMappingAction 'out=in;
' #txt
Es0 f36 windowConfiguration '{/title "Export Environment(s)"/width 400 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
Es0 f36 isAsynch true #txt
Es0 f36 isInnerRd true #txt
Es0 f36 userContext '* ' #txt
Es0 f36 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>export 
dialog</name>
        <nameStyle>14,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Es0 f36 478 348 36 24 20 -2 #rect
Es0 f36 @|RichDialogIcon #fIcon
Es0 f99 expr out #txt
Es0 f99 496 314 496 348 #arcP
Es0 f39 expr out #txt
Es0 f39 496 372 496 398 #arcP
Es0 f49 expr out #txt
Es0 f49 632 372 632 398 #arcP
Es0 f51 expr out #txt
Es0 f51 632 314 632 348 #arcP
>Proto Es0 .ui2RdDataAction 'out.selectedEnvironments=panel.lstEnvironments.#selectedListEntries as List<ch.ivyteam.ivy.application.restricted.IEnvironment>;
out.selectedEnvironment=panel.lstEnvironments.#selectedListEntry as ch.ivyteam.ivy.application.restricted.IEnvironment;
' #txt
>Proto Es0 .rdData2UIAction 'panel.btnDetails.enabled=(in.selectedEnvironment!=null);
panel.btnExport.enabled=(in.selectedEnvironment!=null);
panel.btnImport.enabled=(in.selectedEnvironment!=null);
panel.btnRemove.enabled=!in.defaultSelection&&(in.selectedEnvironment!=null);
panel.detailsMenuItem.enabled=(in.selectedEnvironment!=null);
panel.exportMenuItem.enabled=(in.selectedEnvironment!=null);
panel.importMenuItem.enabled=(in.selectedEnvironment!=null);
panel.lstEnvironments.listData=in.environments;
panel.removeMenuItem.enabled=!in.defaultSelection;
' #txt
>Proto Es0 .type ch.ivyteam.ivy.admin.tool.environment.EnvironmentList.EnvironmentListData #txt
>Proto Es0 .processKind RICH_DIALOG #txt
>Proto Es0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Start</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel>Methods</swimlaneLabel>
        <swimlaneLabel>Broadcasts</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>240</swimlaneSize>
    <swimlaneSize>552</swimlaneSize>
    <swimlaneSize>197</swimlaneSize>
    <swimlaneSize>276</swimlaneSize>
    <swimlaneColor>-6684775</swimlaneColor>
    <swimlaneColor>-6710785</swimlaneColor>
    <swimlaneColor>-26215</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
</elementInfo>
' #txt
>Proto Es0 -8 -8 16 16 16 26 #rect
>Proto Es0 '' #fIcon
Es0 f0 mainOut f2 tail #connect
Es0 f2 head f1 mainIn #connect
Es0 f9 mainOut f12 tail #connect
Es0 f12 head f11 mainIn #connect
Es0 f20 mainOut f19 tail #connect
Es0 f19 head f18 mainIn #connect
Es0 f29 mainOut f32 tail #connect
Es0 f32 head f31 in #connect
Es0 f37 head f35 mainIn #connect
Es0 f13 mainOut f14 tail #connect
Es0 f14 head f1 mainIn #connect
Es0 f42 out f46 tail #connect
Es0 f46 head f6 mainIn #connect
Es0 f28 mainOut f47 tail #connect
Es0 f47 head f44 in #connect
Es0 f44 out f38 tail #connect
Es0 f38 head f35 mainIn #connect
Es0 f7 mainOut f65 tail #connect
Es0 f65 head f22 mainIn #connect
Es0 f26 mainOut f63 tail #connect
Es0 f63 head f4 in #connect
Es0 f4 out f10 tail #connect
Es0 f10 head f9 mainIn #connect
Es0 f4 out f64 tail #connect
Es0 f64 head f11 mainIn #connect
Es0 f73 mainOut f76 tail #connect
Es0 f76 head f75 mainIn #connect
Es0 f71 mainOut f74 tail #connect
Es0 f74 head f75 mainIn #connect
Es0 f72 mainOut f77 tail #connect
Es0 f77 head f75 mainIn #connect
Es0 f21 mainOut f25 tail #connect
Es0 f25 head f24 mainIn #connect
Es0 f17 mainOut f79 tail #connect
Es0 f79 head f20 mainIn #connect
Es0 f44 out f16 tail #connect
Es0 f16 head f29 mainIn #connect
Es0 f8 mainOut f27 tail #connect
Es0 f27 head f26 mainIn #connect
Es0 f30 mainOut f41 tail #connect
Es0 f41 head f75 mainIn #connect
Es0 f40 mainOut f48 tail #connect
Es0 f48 head f75 mainIn #connect
Es0 f31 out f66 tail #connect
Es0 f66 head f33 mainIn #connect
Es0 f31 out f37 tail #connect
Es0 f33 mainOut f34 tail #connect
Es0 f34 head f15 mainIn #connect
Es0 f42 out f5 tail #connect
Es0 f5 head f7 mainIn #connect
Es0 f3 mainOut f43 tail #connect
Es0 f43 head f42 in #connect
Es0 f22 mainOut f95 tail #connect
Es0 f95 head f42 in #connect
Es0 f15 mainOut f96 tail #connect
Es0 f96 head f45 mainIn #connect
Es0 f45 mainOut f98 tail #connect
Es0 f98 head f31 in #connect
Es0 f23 mainOut f99 tail #connect
Es0 f99 head f36 mainIn #connect
Es0 f36 mainOut f39 tail #connect
Es0 f39 head f50 mainIn #connect
Es0 f59 mainOut f49 tail #connect
Es0 f49 head f91 mainIn #connect
Es0 f87 mainOut f51 tail #connect
Es0 f51 head f59 mainIn #connect
