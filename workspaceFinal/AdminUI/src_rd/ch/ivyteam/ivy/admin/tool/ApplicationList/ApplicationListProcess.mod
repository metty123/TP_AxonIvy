[Ivy]
[>Created: Fri Mar 13 09:25:40 ICT 2015]
115D7BF69BE14F6F 3.17 #module
>Proto >Proto Collection #zClass
As0 ApplicationListProcess Big #zClass
As0 RD #cInfo
As0 #process
As0 @TextInP .xml .xml #zField
As0 @TextInP .responsibility .responsibility #zField
As0 @MessageFlowInP-0n messageIn messageIn #zField
As0 @MessageFlowOutP-0n messageOut messageOut #zField
As0 @TextInP .resExport .resExport #zField
As0 @TextInP .type .type #zField
As0 @TextInP .processKind .processKind #zField
As0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
As0 @TextInP .rdData2UIAction .rdData2UIAction #zField
As0 @AnnotationInP-0n ai ai #zField
As0 @RichDialogInitStart f0 '' #zField
As0 @RichDialogProcessEnd f1 '' #zField
As0 @RichDialogProcessStep f3 '' #zField
As0 @PushWFArc f4 '' #zField
As0 @RichDialogProcessEnd f8 '' #zField
As0 @RichDialogProcessStart f9 '' #zField
As0 @RichDialogProcessStart f5 '' #zField
As0 @Alternative f12 '' #zField
As0 @RichDialogProcessStep f15 '' #zField
As0 @PushWFArc f16 '' #zField
As0 @RichDialogProcessEnd f17 '' #zField
As0 @PushWFArc f18 '' #zField
As0 @PushWFArc f19 '' #zField
As0 @RichDialogProcessStep f21 '' #zField
As0 @PushWFArc f22 '' #zField
As0 @PushWFArc f23 '' #zField
As0 @RichDialogProcessStart f30 '' #zField
As0 @RichDialogProcessStart f31 '' #zField
As0 @RichDialogProcessStart f32 '' #zField
As0 @RichDialogProcessStart f33 '' #zField
As0 @RichDialogProcessEnd f34 '' #zField
As0 @RichDialogProcessEnd f35 '' #zField
As0 @RichDialogProcessEnd f36 '' #zField
As0 @RichDialogProcessEnd f37 '' #zField
As0 @RichDialog f38 '' #zField
As0 @RichDialog f39 '' #zField
As0 @RichDialog f40 '' #zField
As0 @RichDialog f41 '' #zField
As0 @Alternative f42 '' #zField
As0 @RichDialogProcessStep f43 '' #zField
As0 @PushWFArc f45 '' #zField
As0 @PushWFArc f48 '' #zField
As0 @RichDialogProcessStep f49 '' #zField
As0 @PushWFArc f50 '' #zField
As0 @PushWFArc f51 '' #zField
As0 @RichDialogProcessStart f57 '' #zField
As0 @RichDialogProcessEnd f59 '' #zField
As0 @Alternative f13 '' #zField
As0 @PushWFArc f44 '' #zField
As0 @RichDialog f63 '' #zField
As0 @Alternative f64 '' #zField
As0 @RichDialogProcessStep f65 '' #zField
As0 @PushWFArc f66 '' #zField
As0 @PushWFArc f70 '' #zField
As0 @Alternative f71 '' #zField
As0 @RichDialogProcessStep f73 '' #zField
As0 @PushWFArc f74 '' #zField
As0 @PushWFArc f52 '' #zField
As0 @PushWFArc f75 '' #zField
As0 @RichDialogProcessStep f76 '' #zField
As0 @Alternative f78 '' #zField
As0 @RichDialogProcessStep f79 '' #zField
As0 @PushWFArc f80 '' #zField
As0 @PushWFArc f81 '' #zField
As0 @PushWFArc f82 '' #zField
As0 @PushWFArc f54 '' #zField
As0 @RichDialogProcessStep f83 '' #zField
As0 @Alternative f85 '' #zField
As0 @PushWFArc f86 '' #zField
As0 @RichDialogProcessStep f87 '' #zField
As0 @PushWFArc f88 '' #zField
As0 @PushWFArc f89 '' #zField
As0 @Alternative f90 '' #zField
As0 @RichDialog f92 '' #zField
As0 @PushWFArc f94 '' #zField
As0 @PushWFArc f93 '' #zField
As0 @PushWFArc f72 '' #zField
As0 @RichDialogMethodStart f95 '' #zField
As0 @PushWFArc f2 '' #zField
As0 @RichDialogProcessStart f97 '' #zField
As0 @PushWFArc f98 '' #zField
As0 @RichDialogFireEvent f99 '' #zField
As0 @RichDialogFireEvent f101 '' #zField
As0 @PushWFArc f103 '' #zField
As0 @PushWFArc f46 '' #zField
As0 @PushWFArc f67 '' #zField
As0 @Alternative f68 '' #zField
As0 @PushWFArc f104 '' #zField
As0 @PushWFArc f106 '' #zField
As0 @Alternative f105 '' #zField
As0 @PushWFArc f107 '' #zField
As0 @PushWFArc f47 '' #zField
As0 @RichDialogProcessStep f100 '' #zField
As0 @PushWFArc f110 '' #zField
As0 @PushWFArc f102 '' #zField
As0 @PushWFArc f111 '' #zField
As0 @PushWFArc f62 '' #zField
As0 @Alternative f69 '' #zField
As0 @PushWFArc f61 '' #zField
As0 @RichDialogProcessStep f115 '' #zField
As0 @RichDialogFireEvent f7 '' #zField
As0 @PushWFArc f6 '' #zField
As0 @RichDialogFireEvent f14 '' #zField
As0 @PushWFArc f24 '' #zField
As0 @PushWFArc f25 '' #zField
As0 @RichDialogBroadcastStart f125 '' #zField
As0 @PushWFArc f56 '' #zField
As0 @PushWFArc f20 '' #zField
As0 @RichDialog f136 '' #zField
As0 @PushWFArc f137 '' #zField
As0 @RichDialogProcessStep f139 '' #zField
As0 @Alternative f143 '' #zField
As0 @PushWFArc f144 '' #zField
As0 @PushWFArc f145 '' #zField
As0 @PushWFArc f135 '' #zField
As0 @RichDialogFireEvent f140 '' #zField
As0 @PushWFArc f146 '' #zField
As0 @RichDialog f147 '' #zField
As0 @RichDialogProcessEnd f148 '' #zField
As0 @RichDialogProcessStart f150 '' #zField
As0 @RichDialogProcessStep f149 '' #zField
As0 @PushWFArc f142 '' #zField
As0 @Alternative f153 '' #zField
As0 @PushWFArc f154 '' #zField
As0 @RichDialogProcessStep f155 '' #zField
As0 @PushWFArc f156 '' #zField
As0 @PushWFArc f157 '' #zField
As0 @PushWFArc f151 '' #zField
As0 @RichDialog f141 '' #zField
As0 @RichDialogProcessStart f159 '' #zField
As0 @RichDialogProcessStart f160 '' #zField
As0 @RichDialog f161 '' #zField
As0 @RichDialogProcessEnd f162 '' #zField
As0 @RichDialogProcessEnd f163 '' #zField
As0 @PushWFArc f165 '' #zField
As0 @PushWFArc f166 '' #zField
As0 @Alternative f168 '' #zField
As0 @PushWFArc f169 '' #zField
As0 @PushWFArc f10 '' #zField
As0 @PushWFArc f170 '' #zField
As0 @PushWFArc f126 '' #zField
As0 @PushWFArc f171 '' #zField
As0 @PushWFArc f11 '' #zField
As0 @PushWFArc f109 '' #zField
As0 @RichDialogProcessEnd f108 '' #zField
As0 @PushWFArc f26 '' #zField
As0 @Alternative f27 '' #zField
As0 @PushWFArc f28 '' #zField
As0 @PushWFArc f29 '' #zField
As0 @RichDialog f58 '' #zField
As0 @PushWFArc f60 '' #zField
As0 @PushWFArc f91 '' #zField
As0 @RichDialog f119 '' #zField
As0 @RichDialogProcessStep f122 '' #zField
As0 @PushWFArc f123 '' #zField
As0 @PushWFArc f121 '' #zField
As0 @PushWFArc f120 '' #zField
As0 @PushWFArc f118 '' #zField
As0 @PushWFArc f117 '' #zField
As0 @Alternative f116 '' #zField
As0 @RichDialog f128 '' #zField
As0 @RichDialogProcessStep f164 '' #zField
As0 @Alternative f158 '' #zField
As0 @RichDialogProcessStart f124 '' #zField
As0 @RichDialogProcessEnd f127 '' #zField
As0 @Alternative f131 '' #zField
As0 @RichDialog f167 '' #zField
As0 @PushWFArc f133 '' #zField
As0 @PushWFArc f134 '' #zField
As0 @PushWFArc f173 '' #zField
As0 @PushWFArc f178 '' #zField
As0 @PushWFArc f179 '' #zField
As0 @RichDialogProcessStep f181 '' #zField
As0 @PushWFArc f182 '' #zField
As0 @PushWFArc f132 '' #zField
As0 @RichDialogProcessStep f176 '' #zField
As0 @PushWFArc f177 '' #zField
As0 @PushWFArc f130 '' #zField
As0 @PushWFArc f129 '' #zField
As0 @PushWFArc f96 '' #zField
As0 @RichDialogBroadcastStart f184 '' #zField
As0 @PushWFArc f185 '' #zField
As0 @RichDialogBroadcastStart f186 '' #zField
As0 @PushWFArc f187 '' #zField
As0 @RichDialogBroadcastStart f172 '' #zField
As0 @Alternative f175 '' #zField
As0 @RichDialogProcessEnd f183 '' #zField
As0 @PushWFArc f188 '' #zField
As0 @PushWFArc f189 '' #zField
As0 @PushWFArc f174 '' #zField
As0 @PushWFArc f77 '' #zField
As0 @PushWFArc f180 '' #zField
As0 @RichDialogBroadcastStart f53 '' #zField
As0 @Alternative f191 '' #zField
As0 @PushWFArc f192 '' #zField
As0 @PushWFArc f152 '' #zField
As0 @PushWFArc f190 '' #zField
As0 @RichDialogProcessEnd f193 '' #zField
As0 @PushWFArc f194 '' #zField
As0 @RichDialogBroadcastStart f195 '' #zField
As0 @PushWFArc f196 '' #zField
As0 @RichDialogBroadcastStart f197 '' #zField
As0 @Alternative f199 '' #zField
As0 @PushWFArc f200 '' #zField
As0 @PushWFArc f198 '' #zField
As0 @PushWFArc f84 '' #zField
As0 @RichDialogProcessEnd f201 '' #zField
As0 @PushWFArc f202 '' #zField
As0 @Alternative f203 '' #zField
As0 @PushWFArc f204 '' #zField
As0 @PushWFArc f55 '' #zField
As0 @RichDialogProcessEnd f205 '' #zField
As0 @PushWFArc f206 '' #zField
As0 @RichDialogBroadcastStart f207 '' #zField
As0 @PushWFArc f208 '' #zField
As0 @RichDialogBroadcastStart f209 '' #zField
As0 @PushWFArc f210 '' #zField
As0 @PushWFArc f211 '' #zField
As0 @PushWFArc f212 '' #zField
As0 @RichDialogBroadcastStart f213 '' #zField
As0 @PushWFArc f214 '' #zField
As0 @RichDialog f215 '' #zField
As0 @PushWFArc f216 '' #zField
As0 @Alternative f217 '' #zField
As0 @PushWFArc f218 '' #zField
As0 @RichDialogProcessStep f219 '' #zField
As0 @PushWFArc f222 '' #zField
As0 @PushWFArc f138 '' #zField
As0 @RichDialogFireEvent f223 '' #zField
As0 @PushWFArc f224 '' #zField
As0 @PushWFArc f221 '' #zField
As0 @CallSub f226 '' #zField
As0 @PushWFArc f227 '' #zField
As0 @Alternative f225 '' #zField
As0 @PushWFArc f228 '' #zField
As0 @RichDialogMethodStart f229 '' #zField
As0 @RichDialog f230 '' #zField
As0 @PushWFArc f231 '' #zField
As0 @RichDialogProcessEnd f232 '' #zField
As0 @PushWFArc f233 '' #zField
As0 @RichDialogMethodStart f234 '' #zField
As0 @RichDialog f235 '' #zField
As0 @RichDialogProcessEnd f236 '' #zField
As0 @PushWFArc f237 '' #zField
As0 @PushWFArc f238 '' #zField
As0 @RichDialogProcessStep f239 '' #zField
As0 @RichDialogProcessEnd f241 '' #zField
As0 @PushWFArc f242 '' #zField
As0 @PushWFArc f240 '' #zField
As0 @PushWFArc f220 '' #zField
As0 @RichDialogBroadcastStart f243 '' #zField
As0 @RichDialogProcessStep f244 '' #zField
As0 @PushWFArc f245 '' #zField
As0 @RichDialogProcessEnd f246 '' #zField
As0 @PushWFArc f247 '' #zField
As0 @RichDialogProcessStep f248 '' #zField
As0 @PushWFArc f249 '' #zField
As0 @PushWFArc f112 '' #zField
As0 @PushWFArc f250 '' #zField
>Proto As0 As0 ApplicationListProcess #zField
As0 f0 guid 115D7BFCD0280114 #txt
As0 f0 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f0 method start() #txt
As0 f0 disableUIEvents false #txt
As0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
As0 f0 outParameterDecl '<> result;
' #txt
As0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
As0 f0 38 38 20 20 13 0 #rect
As0 f0 @|RichDialogInitStartIcon #fIcon
As0 f1 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f1 35 179 26 26 14 0 #rect
As0 f1 @|RichDialogProcessEndIcon #fIcon
As0 f3 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f3 actionTable 'out=in;
' #txt
As0 f3 actionCode 'import ch.ivyteam.ivy.application.IApplication;

in.tree = new Tree(null, "root");
in.tree.createChildren(ch.ivyteam.ivy.server.ServerFactory.getServer().getApplicationConfigurationManager().getApplicationsSortedByName(in.showSystemApp), ApplicationTreeHelper.TREE_ITEM_APPLICATION);' #txt
As0 f3 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Init applications</name>
        <nameStyle>17,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f3 102 100 36 24 20 5 #rect
As0 f3 @|RichDialogProcessStepIcon #fIcon
As0 f4 expr out #txt
As0 f4 120 124 61 192 #arcP
As0 f4 1 120 192 #addKink
As0 f4 0 0.9701859372581908 0 0 #arcLabel
As0 f8 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f8 1891 611 26 26 14 0 #rect
As0 f8 @|RichDialogProcessEndIcon #fIcon
As0 f9 guid 115D7D5FCCF6DCC4 #txt
As0 f9 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f9 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f9 actionTable 'out=in;
' #txt
As0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>nodeSelected</name>
        <nameStyle>12,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f9 1902 46 20 20 13 0 #rect
As0 f9 @|RichDialogProcessStartIcon #fIcon
As0 f5 guid 116D37DB03E8E2DD #txt
As0 f5 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f5 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f5 actionTable 'out=in;
' #txt
As0 f5 actionCode 'import ch.ivyteam.ivy.richdialog.component.event.TreeLoadEvent;

in.expandNode = (event as TreeLoadEvent).getTreeNode();' #txt
As0 f5 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>expandTree</name>
        <nameStyle>10,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f5 1582 30 20 20 13 0 #rect
As0 f5 @|RichDialogProcessStartIcon #fIcon
As0 f12 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Node type?</name>
        <nameStyle>10,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f12 1578 106 28 28 9 -28 #rect
As0 f12 @|AlternativeIcon #fIcon
As0 f15 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f15 actionTable 'out=in;
' #txt
As0 f15 actionCode 'import java.util.ArrayList;
import ch.ivyteam.ivy.application.restricted.IEnvironment;
import ch.ivyteam.ivy.application.IApplication;

IApplication application = in.expandNode.value as IApplication;
in.expandNode.createChildren(application.getProcessModelsSortedByName(), ApplicationTreeHelper.TREE_ITEM_PM);

Tree envRoot = in.expandNode.createChild("Environments", ApplicationTreeHelper.TREE_ITEM_ENVROOT);
envRoot.createChildren(application.getEnvironmentsSortedByName(), ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT);

' #txt
As0 f15 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Load PM''s</name>
        <nameStyle>9,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f15 1622 196 36 24 23 -8 #rect
As0 f15 @|RichDialogProcessStepIcon #fIcon
As0 f16 expr out #txt
As0 f16 1592 50 1592 106 #arcP
As0 f17 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f17 1579 283 26 26 14 0 #rect
As0 f17 @|RichDialogProcessEndIcon #fIcon
As0 f18 expr in #txt
As0 f18 outCond ApplicationTreeHelper.TREE_ITEM_APPLICATION.equalsIgnoreCase(in.expandNode.info) #txt
As0 f18 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Application</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f18 1606 120 1640 196 #arcP
As0 f18 1 1640 120 #addKink
As0 f18 1 0.70125828841635 35 0 #arcLabel
As0 f19 expr out #txt
As0 f19 1640 220 1592 283 #arcP
As0 f19 1 1640 272 #addKink
As0 f19 2 1592 272 #addKink
As0 f19 1 0.14356045236559106 0 0 #arcLabel
As0 f21 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f21 actionTable 'out=in;
' #txt
As0 f21 actionCode 'import ch.ivyteam.ivy.admin.tool.ApplicationListHelper;
import ch.ivyteam.ivy.application.ReleaseState;
import ch.ivyteam.ivy.application.IProcessModel;
import ch.ivyteam.ivy.application.IProcessModelVersion;

if (in.expandNode.value instanceof IProcessModel)
{
	List<IProcessModelVersion> noDeletedPmvs;
	List<IProcessModelVersion> pmvs = (in.expandNode.value as IProcessModel).getProcessModelVersions();
	
	// add only pmvs not in DELETED state
	for (IProcessModelVersion pmv : pmvs)
	{
		if (pmv.getReleaseState() != ReleaseState.DELETED)
		{
			noDeletedPmvs.add(pmv);
		}
	}
	in.expandNode.createChildren(ApplicationListHelper.sortPMV(noDeletedPmvs), "pmv");
}' #txt
As0 f21 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Load PMV''s</name>
        <nameStyle>10,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f21 1742 196 36 24 26 -7 #rect
As0 f21 @|RichDialogProcessStepIcon #fIcon
As0 f22 expr out #txt
As0 f22 1760 220 1601 286 #arcP
As0 f22 1 1760 280 #addKink
As0 f22 2 1608 280 #addKink
As0 f22 1 0.2824876566380647 0 0 #arcLabel
As0 f23 expr in #txt
As0 f23 outCond "pm".equalsIgnoreCase(in.expandNode.info) #txt
As0 f23 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ProcessModel</name>
        <nameStyle>12,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f23 1606 120 1760 196 #arcP
As0 f23 1 1760 120 #addKink
As0 f23 1 0.6964175466358546 43 0 #arcLabel
As0 f30 guid 116D7F654C6F12FC #txt
As0 f30 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f30 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f30 actionTable 'out=in;
' #txt
As0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addApplication</name>
        <nameStyle>14,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f30 622 46 20 20 13 0 #rect
As0 f30 @|RichDialogProcessStartIcon #fIcon
As0 f31 guid 116D7F6636B4C6A6 #txt
As0 f31 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f31 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f31 actionTable 'out=in;
' #txt
As0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addProcessModel</name>
        <nameStyle>15,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f31 1398 446 20 20 15 -8 #rect
As0 f31 @|RichDialogProcessStartIcon #fIcon
As0 f32 guid 116D7F679E082873 #txt
As0 f32 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f32 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f32 actionTable 'out=in;
' #txt
As0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addProcessModelVersion</name>
        <nameStyle>22,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f32 1174 46 20 20 -38 -28 #rect
As0 f32 @|RichDialogProcessStartIcon #fIcon
As0 f33 guid 116D7F68326C770E #txt
As0 f33 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f33 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f33 actionTable 'out=in;
out.index=0;
' #txt
As0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete</name>
        <nameStyle>6,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f33 350 542 20 20 -13 -29 #rect
As0 f33 @|RichDialogProcessStartIcon #fIcon
As0 f34 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f34 675 483 26 26 14 0 #rect
As0 f34 @|RichDialogProcessEndIcon #fIcon
As0 f35 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f35 1291 771 26 26 14 0 #rect
As0 f35 @|RichDialogProcessEndIcon #fIcon
As0 f36 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f36 1093 391 23 19 14 0 #rect
As0 f36 @|RichDialogProcessEndIcon #fIcon
As0 f37 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f37 267 1387 26 26 14 0 #rect
As0 f37 @|RichDialogProcessEndIcon #fIcon
As0 f38 targetWindow NEW:card: #txt
As0 f38 targetDisplay TOP #txt
As0 f38 richDialogId ch.ivyteam.ivy.admin.tool.NewApplication #txt
As0 f38 startMethod createApplication() #txt
As0 f38 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f38 requestActionDecl '<> param;' #txt
As0 f38 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f38 responseMappingAction 'out=in;
out.newApplication=result.#createdApplication;
' #txt
As0 f38 windowConfiguration '{/title "Create New Application"/width 500 /height 450 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f38 isAsynch false #txt
As0 f38 isInnerRd true #txt
As0 f38 isDialog true #txt
As0 f38 userContext '* ' #txt
As0 f38 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>new application dialog</name>
        <nameStyle>22,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f38 670 172 36 24 24 -8 #rect
As0 f38 @|RichDialogIcon #fIcon
As0 f39 targetWindow NEW #txt
As0 f39 targetDisplay TOP #txt
As0 f39 richDialogId ch.ivyteam.ivy.admin.tool.NewProcessModel #txt
As0 f39 startMethod createProcessModel(ch.ivyteam.ivy.application.IApplication) #txt
As0 f39 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f39 requestActionDecl '<ch.ivyteam.ivy.application.IApplication application> param;' #txt
As0 f39 requestMappingAction 'param.application=in.application;
' #txt
As0 f39 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f39 responseMappingAction 'out=in;
out.newProcessModel=result.#createdProcessModel;
' #txt
As0 f39 windowConfiguration '#Tue Mar 11 12:24:33 CET 2008
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Create New Process Model
' #txt
As0 f39 isAsynch false #txt
As0 f39 isInnerRd true #txt
As0 f39 isDialog true #txt
As0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>new process model dialog</name>
        <nameStyle>24,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f39 1286 660 36 24 22 -7 #rect
As0 f39 @|RichDialogIcon #fIcon
As0 f40 targetWindow NEW #txt
As0 f40 targetDisplay TOP #txt
As0 f40 richDialogId ch.ivyteam.ivy.admin.tool.NewProcessModelVersion #txt
As0 f40 startMethod createProcessModelVersion(ch.ivyteam.ivy.application.IProcessModel) #txt
As0 f40 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f40 requestActionDecl '<ch.ivyteam.ivy.application.IProcessModel processModel> param;' #txt
As0 f40 requestMappingAction 'param.processModel=in.processModel;
' #txt
As0 f40 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f40 responseMappingAction 'out=in;
out.newProcessModelVersion=result.#createdProcessModelVersion;
' #txt
As0 f40 windowConfiguration '#Tue Mar 11 12:24:45 CET 2008
height=0
maximized=false
centered=true
close_after_last_rd=true
resizable=true
width=0
title=Create New Process Model Version
' #txt
As0 f40 isAsynch false #txt
As0 f40 isInnerRd true #txt
As0 f40 isDialog true #txt
As0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>new process model version dialog</name>
        <nameStyle>32,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f40 1086 268 36 24 18 -26 #rect
As0 f40 @|RichDialogIcon #fIcon
As0 f41 targetWindow NEW:card: #txt
As0 f41 targetDisplay TOP #txt
As0 f41 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
As0 f41 startMethod askQuestion(String,String,List<String>) #txt
As0 f41 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f41 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
As0 f41 requestMappingAction 'param.icon="question";
param.question="Do you really want to delete the application " + (in.selectedNode.value as ch.ivyteam.ivy.application.IApplication).getName() + "?";
param.buttons=["yes", "no"];
' #txt
As0 f41 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f41 responseMappingAction 'out=in;
out.delete=result.pressedButton == "yes";
' #txt
As0 f41 windowConfiguration '{/title "Delete Object"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f41 isAsynch false #txt
As0 f41 isInnerRd true #txt
As0 f41 isDialog true #txt
As0 f41 userContext '* ' #txt
As0 f41 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Confirm dialog</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f41 262 972 36 24 22 -8 #rect
As0 f41 @|RichDialogIcon #fIcon
As0 f42 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete?</name>
        <nameStyle>7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f42 266 1026 28 28 14 0 #rect
As0 f42 @|AlternativeIcon #fIcon
As0 f43 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f43 actionTable 'out=in;
' #txt
As0 f43 actionCode 'import ch.ivyteam.ivy.application.IApplication;

in.selectedNode.removeFromParent();

ch.ivyteam.ivy.server.ServerFactory.getServer().getApplicationConfigurationManager().deleteApplication((in.selectedNode.value as IApplication).getName());

' #txt
As0 f43 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f43 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete app</name>
        <nameStyle>10,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f43 358 1100 36 24 24 -9 #rect
As0 f43 @|RichDialogProcessStepIcon #fIcon
As0 f45 expr out #txt
As0 f45 280 996 280 1026 #arcP
As0 f48 expr in #txt
As0 f48 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f48 280 1054 280 1387 #arcP
As0 f48 0 0.05161653809482547 0 0 #arcLabel
As0 f49 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f49 actionTable 'out=in;
out.enableNewEnvironment=true;
out.enableNewProcessModel=true;
out.enableShowDetail=true;
' #txt
As0 f49 actionCode 'import ch.ivyteam.ivy.admin.tool.ApplicationTreeHelper;
import ch.ivyteam.ivy.application.IProcessModelVersion;
import ch.ivyteam.ivy.application.restricted.IEnvironment;
import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.application.IProcessModel;

if (in.selectedNode == null)
{
  in.enableDelete = false;
	in.enableNewProcessModel = false;
	in.enableNewProcessModelVersion = false;
	in.enableNewEnvironment = false;
	in.enableShowDetail = false;
	in.enableExportImport = false;
} 
else if (in.selectedTreeNodes.size() > 1)
{
	in.enableShowDetail = true;
	in.enableDelete = false;
	in.enableNewProcessModelVersion = false;
	in.enableNewProcessModel = false;
	in.enableNewEnvironment = false;
	in.enableExportImport = false;

	if (ApplicationTreeHelper.isSelectionFromSameApplication(in.selectedTreeNodes))
	{
		in.enableNewProcessModel = true;
		in.enableNewEnvironment = true;
		if (ApplicationTreeHelper.isOnlyOneTypeSelected(in.selectedTreeNodes) &&				
				in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT))
		{
			in.enableExportImport = true;		
		}
	}
}
else
{
	in.enableShowDetail = true;
	in.enableNewEnvironment = true;
	in.enableNewProcessModel = true;
	in.enableNewProcessModelVersion = false;
	in.enableExportImport = false;
	if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_APPLICATION))
	{
		IApplication application = in.selectedNode.value as IApplication;
		in.enableDelete = !application.isSystem();
		in.enableExportImport = true;
	}
	else if (in.selectedNode.info.equalsIgnoreCase("pm"))
	{
		IProcessModel pm = in.selectedNode.value as IProcessModel;
		in.enableDelete = !pm.getApplication().isSystem();
		in.enableNewProcessModelVersion = true;
	}
	else if (in.selectedNode.info.equalsIgnoreCase("pmv"))
	{
		IProcessModelVersion pmv = in.selectedNode.value as IProcessModelVersion;
		in.enableDelete = !pmv.getApplication().isSystem();
		in.enableNewProcessModelVersion = true;
	}
	else if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT))
	{
		IEnvironment env = in.selectedNode.value as IEnvironment;
		in.enableDelete = !env.getApplication().isSystem() && !		env.isDefault();
		in.enableExportImport = true;
	}
		else if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT))
	{
		in.enableDelete = false;
		in.enableShowDetail = false;
		in.enableExportImport = true;
	}
}' #txt
As0 f49 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f49 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>enable Toolbar Buttons</name>
        <nameStyle>22,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f49 1894 92 36 24 22 -10 #rect
As0 f49 @|RichDialogProcessStepIcon #fIcon
As0 f50 expr out #txt
As0 f50 1912 66 1912 92 #arcP
As0 f51 expr out #txt
As0 f51 636 65 688 172 #arcP
As0 f57 guid 116D802C72963016 #txt
As0 f57 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f57 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f57 actionTable 'out=in;
out.index=0;
' #txt
As0 f57 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>showDetails</name>
        <nameStyle>11,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f57 1878 342 20 20 13 0 #rect
As0 f57 @|RichDialogProcessStartIcon #fIcon
As0 f59 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f59 1899 147 26 26 14 0 #rect
As0 f59 @|RichDialogProcessEndIcon #fIcon
As0 f13 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Node type?</name>
        <nameStyle>10,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f13 266 866 28 28 14 0 #rect
As0 f13 @|AlternativeIcon #fIcon
As0 f44 expr in #txt
As0 f44 outCond in.selectedNode.info==ApplicationTreeHelper.TREE_ITEM_APPLICATION #txt
As0 f44 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Application</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f44 280 894 280 972 #arcP
As0 f44 0 0.38235294117647056 33 0 #arcLabel
As0 f63 targetWindow NEW:card: #txt
As0 f63 targetDisplay TOP #txt
As0 f63 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
As0 f63 startMethod askQuestion(String,String,List<String>) #txt
As0 f63 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f63 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
As0 f63 requestMappingAction 'param.icon="question";
param.question="Do you really want to delete the process model  " + (in.selectedNode.value as ch.ivyteam.ivy.application.IProcessModel).getName() + "?";
param.buttons=["yes","no"];
' #txt
As0 f63 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f63 responseMappingAction 'out=in;
out.delete=result.pressedButton == "yes";
' #txt
As0 f63 windowConfiguration '{/title "Delete Object"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f63 isAsynch false #txt
As0 f63 isInnerRd true #txt
As0 f63 isDialog true #txt
As0 f63 userContext '* ' #txt
As0 f63 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Confirm dialog</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f63 462 972 36 24 20 -2 #rect
As0 f63 @|RichDialogIcon #fIcon
As0 f64 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f64 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete?</name>
        <nameStyle>7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f64 466 1026 28 28 14 0 #rect
As0 f64 @|AlternativeIcon #fIcon
As0 f65 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f65 actionTable 'out=in;
' #txt
As0 f65 actionCode 'import ch.ivyteam.ivy.application.IProcessModel;


IProcessModel pm = in.selectedNode.value as IProcessModel;
out.tmpNumber = pm.getId(); //prepare for event fire


Tree removedNode = in.selectedNode;
out.selectedNode = null;
//this event fires an immediate RD logic process!!! (not even waiting till end of this process)
removedNode.removeFromParent();



//real delete - PM becomes unusable!!
pm.getApplication().deleteProcessModel(pm.getName()); 

' #txt
As0 f65 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f65 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete pm</name>
        <nameStyle>9,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f65 558 1100 36 24 24 -8 #rect
As0 f65 @|RichDialogProcessStepIcon #fIcon
As0 f66 expr out #txt
As0 f66 480 996 480 1026 #arcP
As0 f70 expr in #txt
As0 f70 outCond 'in.selectedNode.info == "pm"' #txt
As0 f70 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Process Model</name>
        <nameStyle>13,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f70 294 880 480 972 #arcP
As0 f70 1 480 880 #addKink
As0 f70 1 0.33776817270232046 42 1 #arcLabel
As0 f71 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f71 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app != null</name>
        <nameStyle>11,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f71 674 386 28 28 13 -26 #rect
As0 f71 @|AlternativeIcon #fIcon
As0 f73 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f73 actionTable 'out=in;
' #txt
As0 f73 actionCode 'import ch.ivyteam.ivy.admin.tool.ApplicationTreeHelper;
import ch.ivyteam.ivy.application.IApplication;

int pos;
for (pos = 0; pos < in.tree.getChildCount(); pos++)
{
	if ((in.tree.getChildAt(pos).value as IApplication).getName().compareToIgnoreCase(in.newApplication.getName())>0)
	{
		break;
	}
}
Tree newApp = in.tree.createChildAt(pos, in.newApplication, ApplicationTreeHelper.TREE_ITEM_APPLICATION);
in.selectedNode = newApp;
panel.applicationTree.setSelectedTreeNode(newApp);
' #txt
As0 f73 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add new node to tree</name>
        <nameStyle>20,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f73 774 428 36 24 23 -8 #rect
As0 f73 @|RichDialogProcessStepIcon #fIcon
As0 f74 expr in #txt
As0 f74 outCond 'in.#newApplication != null' #txt
As0 f74 702 400 792 428 #arcP
As0 f74 1 792 400 #addKink
As0 f74 0 0.6997654521655269 0 0 #arcLabel
As0 f52 expr out #txt
As0 f52 792 452 701 496 #arcP
As0 f52 1 792 496 #addKink
As0 f52 1 0.23517729588920322 0 0 #arcLabel
As0 f75 expr in #txt
As0 f75 688 414 688 483 #arcP
As0 f76 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f76 actionTable 'out=in;
' #txt
As0 f76 actionCode 'import ch.ivyteam.ivy.application.IApplication;

Tree node;

node = in.selectedNode;

while (node.info != ApplicationTreeHelper.TREE_ITEM_APPLICATION)
{
  node = node.getParent();
}
in.application = node.value as IApplication;' #txt
As0 f76 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f76 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get application</name>
        <nameStyle>15,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f76 1286 588 36 24 25 -7 #rect
As0 f76 @|RichDialogProcessStepIcon #fIcon
As0 f78 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f78 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Was process model created?</name>
        <nameStyle>26,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f78 1290 706 28 28 14 -25 #rect
As0 f78 @|AlternativeIcon #fIcon
As0 f79 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f79 actionTable 'out=in;
' #txt
As0 f79 actionCode 'import ch.ivyteam.ivy.application.IProcessModel;

Tree tree = in.selectedNode;
while (tree.info != ApplicationTreeHelper.TREE_ITEM_APPLICATION)
{
  tree = tree.getParent();
}
int pos;
for (pos = 0; pos < tree.getChildCount() - 1; pos++)
{
	if (tree.getChildAt(pos).value instanceof IProcessModel && (tree.getChildAt(pos).value as IProcessModel).getName().compareToIgnoreCase(in.newProcessModel.getName()) > 0)
	{
		break;
	}
}

tree = tree.createChildAt(pos, in.newProcessModel, "pm");
panel.applicationTree.setSelectedTreeNode(tree);

// update toolbar button
out.enableNewProcessModelVersion=true;
out.enableDelete = true;
out.enableExportImport = false;
' #txt
As0 f79 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add node to tree</name>
        <nameStyle>16,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f79 1366 740 36 24 22 -8 #rect
As0 f79 @|RichDialogProcessStepIcon #fIcon
As0 f80 expr in #txt
As0 f80 outCond 'in.#newProcessModel != null' #txt
As0 f80 1318 720 1384 740 #arcP
As0 f80 1 1384 720 #addKink
As0 f80 0 0.7196833656034615 0 0 #arcLabel
As0 f81 expr out #txt
As0 f81 1384 764 1317 784 #arcP
As0 f81 1 1384 784 #addKink
As0 f81 1 0.2740963034759103 0 0 #arcLabel
As0 f82 expr out #txt
As0 f82 1304 684 1304 706 #arcP
As0 f54 expr in #txt
As0 f54 1304 734 1304 771 #arcP
As0 f83 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f83 actionTable 'out=in;
' #txt
As0 f83 actionCode 'import ch.ivyteam.ivy.application.IProcessModel;

Tree node;

node = in.selectedNode;
while (!ApplicationTreeHelper.TREE_ITEM_APPLICATION.equalsIgnoreCase(node.info) 
				&& !ApplicationTreeHelper.TREE_ITEM_PM.equalsIgnoreCase(node.info))
{
  node = node.getParent();
}
if (ApplicationTreeHelper.TREE_ITEM_PM.equalsIgnoreCase(node.info)) 
{
	in.processModel = node.value as IProcessModel;
}' #txt
As0 f83 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f83 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get process model</name>
        <nameStyle>17,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f83 1086 164 36 24 22 -15 #rect
As0 f83 @|RichDialogProcessStepIcon #fIcon
As0 f85 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f85 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Was process model version created?</name>
        <nameStyle>34,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f85 1090 330 28 28 8 -29 #rect
As0 f85 @|AlternativeIcon #fIcon
As0 f86 expr out #txt
As0 f86 1104 292 1104 330 #arcP
As0 f87 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f87 actionTable 'out=in;
' #txt
As0 f87 actionCode 'import ch.ivyteam.ivy.admin.tool.ApplicationListHelper;
import ch.ivyteam.ivy.application.IProcessModelVersion;

Tree tree = in.selectedNode;
while (tree.info != "pm")
{
  tree = tree.getParent();
}

int position = ApplicationListHelper.findPositionForNewPmv(tree, in.newProcessModelVersion);
tree.createChildAt(position, in.newProcessModelVersion, "pmv");

//Select this node
panel.applicationTree.setSelectedTreeNode(tree);

// update toolbar button
out.enableDelete=false;

panel.fireProcessModelVersionCreated(in.newProcessModel);' #txt
As0 f87 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f87 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add node to tree</name>
        <nameStyle>16,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f87 1158 356 36 24 20 -2 #rect
As0 f87 @|RichDialogProcessStepIcon #fIcon
As0 f88 expr in #txt
As0 f88 outCond 'in.#newProcessModelVersion != null' #txt
As0 f88 1118 344 1176 356 #arcP
As0 f88 1 1176 344 #addKink
As0 f88 0 0.7082073028835525 0 0 #arcLabel
As0 f89 expr in #txt
As0 f89 1104 358 1103 390 #arcP
As0 f90 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f90 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Is JNDI?</name>
        <nameStyle>8,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f90 674 322 28 28 9 -20 #rect
As0 f90 @|AlternativeIcon #fIcon
As0 f92 targetWindow NEW:card: #txt
As0 f92 targetDisplay TOP #txt
As0 f92 richDialogId ch.ivyteam.ivy.admin.tool.NewJndiSecuritySystem #txt
As0 f92 startMethod start(ch.ivyteam.ivy.security.ISecurityContext) #txt
As0 f92 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f92 requestActionDecl '<ch.ivyteam.ivy.security.ISecurityContext securityContext> param;' #txt
As0 f92 requestMappingAction 'param.securityContext=in.newApplication.getSecurityContext();
' #txt
As0 f92 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f92 responseMappingAction 'out=in;
out.newApplication=result.canceled?null:in.newApplication;
' #txt
As0 f92 windowConfiguration '{/title "<%=in.newApplication.getSecurityContext().getExternalSecuritySystemName()%>"/width 0 /height 0 /centered true /resizable false /maximized false /close_after_last_rd true }' #txt
As0 f92 isAsynch false #txt
As0 f92 isInnerRd true #txt
As0 f92 isDialog true #txt
As0 f92 userContext '* ' #txt
As0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Configure Jndi Security System</name>
        <nameStyle>30,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f92 774 324 36 24 -6 -35 #rect
As0 f92 @|RichDialogIcon #fIcon
As0 f94 expr out #txt
As0 f94 792 348 702 400 #arcP
As0 f94 1 792 400 #addKink
As0 f94 1 0.2240094693793121 0 0 #arcLabel
As0 f93 expr in #txt
As0 f93 outCond 'in.#newApplication.getSecurityContext().getExternalSecuritySystemName()==ch.ivyteam.ivy.security.ISecurityConstants.MICROSOFT_ACTIVE_DIRECTORY_SECURITY_SYSTEM_PROVIDER_NAME ||in.newApplication.getSecurityContext().getExternalSecuritySystemName()==ch.ivyteam.ivy.security.ISecurityConstants.NOVELL_E_DIRECTORY_SECURITY_SYSTEM_PROVIDER_NAME' #txt
As0 f93 702 336 774 336 #arcP
As0 f72 expr in #txt
As0 f72 688 350 688 386 #arcP
As0 f95 guid 118E5CE73C2E7081 #txt
As0 f95 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f95 method refresh() #txt
As0 f95 disableUIEvents false #txt
As0 f95 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh()</name>
    </language>
</elementInfo>
' #txt
As0 f95 110 38 20 20 13 0 #rect
As0 f95 @|RichDialogMethodStartIcon #fIcon
As0 f2 expr out #txt
As0 f2 120 58 120 100 #arcP
As0 f97 guid 119C301C79C84900 #txt
As0 f97 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f97 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f97 actionTable 'out=in;
' #txt
As0 f97 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh</name>
        <nameStyle>7,5,6,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f97 174 38 20 20 13 0 #rect
As0 f97 @|RichDialogProcessStartIcon #fIcon
As0 f98 expr out #txt
As0 f98 184 58 138 112 #arcP
As0 f98 1 184 112 #addKink
As0 f98 0 0.9635848971188601 0 0 #arcLabel
As0 f99 actionDecl 'Number processModelId;
' #txt
As0 f99 actionTable 'processModelId=in.tmpNumber;
' #txt
As0 f99 actionCode panel.fireProcessModelDeleted(processModelId); #txt
As0 f99 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f99 fireEvent processModelDeleted(Number) #txt
As0 f99 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>send pm deleted</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f99 558 1164 36 24 20 -2 #rect
As0 f99 @|RichDialogFireEventIcon #fIcon
As0 f101 actionDecl 'Number applicationId;
' #txt
As0 f101 actionTable 'applicationId=(in.selectedNode.value as ch.ivyteam.ivy.application.IApplication).getId();
' #txt
As0 f101 actionCode panel.fireApplicationDeleted(applicationId); #txt
As0 f101 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f101 fireEvent applicationDeleted(Number) #txt
As0 f101 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>send app deleted</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f101 358 1164 36 24 20 -2 #rect
As0 f101 @|RichDialogFireEventIcon #fIcon
As0 f103 expr in #txt
As0 f103 outCond in.delete #txt
As0 f103 294 1040 376 1100 #arcP
As0 f103 1 376 1040 #addKink
As0 f103 1 0.014810562594225234 0 0 #arcLabel
As0 f46 expr out #txt
As0 f46 376 1124 376 1164 #arcP
As0 f67 expr out #txt
As0 f67 576 1124 576 1164 #arcP
As0 f68 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f68 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>ended Dialog Ok?</name>
        <nameStyle>16,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f68 674 218 28 28 17 -22 #rect
As0 f68 @|AlternativeIcon #fIcon
As0 f104 expr out #txt
As0 f104 688 196 688 218 #arcP
As0 f106 expr in #txt
As0 f106 outCond 'in.newApplication == null' #txt
As0 f106 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f106 674 232 675 496 #arcP
As0 f106 1 640 232 #addKink
As0 f106 2 640 496 #addKink
As0 f106 1 0.4916595240041209 0 0 #arcLabel
As0 f105 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f105 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>has 
Selection?</name>
        <nameStyle>15,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f105 266 618 28 28 14 0 #rect
As0 f105 @|AlternativeIcon #fIcon
As0 f107 expr out #txt
As0 f107 352 559 287 625 #arcP
As0 f47 expr in #txt
As0 f47 outCond in.delete #txt
As0 f47 494 1040 576 1100 #arcP
As0 f47 1 576 1040 #addKink
As0 f47 1 0.014810562594225234 0 0 #arcLabel
As0 f100 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f100 actionTable 'out=in;
out.enableDelete=false;
out.enableNewProcessModel=false;
out.enableNewProcessModelVersion=false;
out.enableShowDetail=false;
' #txt
As0 f100 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f100 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>adjust enabling</name>
        <nameStyle>15,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f100 358 1308 36 24 20 -2 #rect
As0 f100 @|RichDialogProcessStepIcon #fIcon
As0 f110 expr out #txt
As0 f110 376 1188 376 1308 #arcP
As0 f102 expr out #txt
As0 f102 362 1332 289 1391 #arcP
As0 f111 expr out #txt
As0 f111 576 1188 394 1320 #arcP
As0 f111 1 576 1320 #addKink
As0 f111 1 0.339572192513369 0 0 #arcLabel
As0 f62 expr in #txt
As0 f62 outCond !in.delete #txt
As0 f62 480 1054 293 1400 #arcP
As0 f62 1 480 1400 #addKink
As0 f62 0 0.7676470588235295 0 0 #arcLabel
As0 f69 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f69 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is not SYSTEM app?</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f69 266 754 28 28 -34 23 #rect
As0 f69 @|AlternativeIcon #fIcon
As0 f61 expr in #txt
As0 f61 outCond in.isNotSystemApp #txt
As0 f61 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f61 280 782 280 866 #arcP
As0 f115 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f115 actionTable 'out=in;
' #txt
As0 f115 actionCode 'import ch.ivyteam.ivy.application.restricted.IEnvironment;
import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.application.IProcessModel;
import ch.ivyteam.ivy.application.IProcessModelVersion;

String info = in.selectedTreeNodes.get(in.index).info;
Object value = in.selectedTreeNodes.get(in.index).value;
out.index = in.index + 1;

if (info == ApplicationTreeHelper.TREE_ITEM_APPLICATION)
{
	IApplication app = value as IApplication;
	out.parameterList = [ApplicationTreeHelper.TREE_ITEM_APPLICATION, app.getId(), app];
}
else if (info == "pm")
{
	IProcessModel pm = value as IProcessModel;
	out.parameterList = [ApplicationTreeHelper.TREE_ITEM_PM, pm.getId(), pm];
}
else if (info == "pmv")
{
	IProcessModelVersion pmv = value as IProcessModelVersion;
	out.parameterList = [ApplicationTreeHelper.TREE_ITEM_PMV, pmv.getId(), pmv];
}
else if (info == ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT)
{
	IEnvironment env = value as IEnvironment;
	out.parameterList = [ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT, env.getId(), env];
}' #txt
As0 f115 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f115 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepare parameters</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f115 1870 476 36 24 20 -2 #rect
As0 f115 @|RichDialogProcessStepIcon #fIcon
As0 f7 actionDecl 'List parameters;
' #txt
As0 f7 actionTable 'parameters=in.parameterList;
' #txt
As0 f7 actionCode panel.fireSubPanelRequested(parameters); #txt
As0 f7 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f7 fireEvent subPanelRequested(List) #txt
As0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>request panel</name>
        <nameStyle>13,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f7 1870 540 36 24 20 -2 #rect
As0 f7 @|RichDialogFireEventIcon #fIcon
As0 f6 expr out #txt
As0 f6 1888 500 1888 540 #arcP
As0 f14 actionDecl 'Number applicationIdentifier;
' #txt
As0 f14 actionTable 'applicationIdentifier=in.newApplication.getId();
' #txt
As0 f14 actionCode panel.fireApplicationCreated(applicationIdentifier); #txt
As0 f14 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f14 fireEvent applicationCreated(Number) #txt
As0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire application
created event</name>
        <nameStyle>30,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f14 670 276 36 24 23 -23 #rect
As0 f14 @|RichDialogFireEventIcon #fIcon
As0 f24 expr in #txt
As0 f24 outCond 'in.newApplication != null' #txt
As0 f24 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f24 688 246 688 276 #arcP
As0 f24 0 0.36666666666666664 -16 0 #arcLabel
As0 f25 expr out #txt
As0 f25 688 300 688 322 #arcP
As0 f125 guid 131DD698FA421FC9 #txt
As0 f125 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f125 broadcast processModelVersionCreated #txt
As0 f125 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f125 actionTable 'out=in;
out.index=0;
' #txt
As0 f125 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>processModelVersionCreated</name>
        <nameStyle>26,5,6
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f125 1982 342 20 20 13 0 #rect
As0 f125 @|RichDialogBroadcastStartIcon #fIcon
As0 f56 expr out #txt
As0 f56 1176 380 1115 399 #arcP
As0 f56 1 1176 399 #addKink
As0 f56 1 0.21510158169390345 0 0 #arcLabel
As0 f20 expr in #txt
As0 f20 1592 134 1592 283 #arcP
As0 f136 targetWindow NEW:card: #txt
As0 f136 targetDisplay TOP #txt
As0 f136 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
As0 f136 startMethod askQuestion(String,String,List<String>) #txt
As0 f136 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f136 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
As0 f136 requestMappingAction 'param.icon="question";
param.question="Do you really want to delete the environment  " + (in.selectedNode.value as ch.ivyteam.ivy.application.restricted.IEnvironment).getName() + "?";
param.buttons=["yes","no"];
' #txt
As0 f136 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f136 responseMappingAction 'out=in;
out.delete=result.pressedButton == "yes";
' #txt
As0 f136 windowConfiguration '{/title "Delete Environment"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f136 isAsynch false #txt
As0 f136 isInnerRd true #txt
As0 f136 isDialog true #txt
As0 f136 userContext '* ' #txt
As0 f136 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Confirm dialog</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f136 974 972 36 24 20 -2 #rect
As0 f136 @|RichDialogIcon #fIcon
As0 f137 expr in #txt
As0 f137 outCond ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT.equalsIgnoreCase(in.selectedNode.info) #txt
As0 f137 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Environment</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f137 294 880 992 972 #arcP
As0 f137 1 992 880 #addKink
As0 f137 1 0.33695652173913043 4 0 #arcLabel
As0 f139 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f139 actionTable 'out=in;
' #txt
As0 f139 actionCode 'import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.application.restricted.IEnvironment;

IEnvironment env = in.selectedNode.value as IEnvironment;

out.tmpNumber = env.getId();

in.selectedNode.removeFromParent();

IApplication app = env.getApplication();
app.deleteEnvironment(env.getName());

' #txt
As0 f139 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f139 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete
environment</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f139 1094 1100 36 24 20 -2 #rect
As0 f139 @|RichDialogProcessStepIcon #fIcon
As0 f143 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete?</name>
        <nameStyle>7,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f143 978 1026 28 28 14 0 #rect
As0 f143 @|AlternativeIcon #fIcon
As0 f144 expr out #txt
As0 f144 992 996 992 1026 #arcP
As0 f145 expr in #txt
As0 f145 outCond !in.delete #txt
As0 f145 992 1054 293 1400 #arcP
As0 f145 1 992 1400 #addKink
As0 f145 1 0.18896321070234104 0 0 #arcLabel
As0 f135 expr in #txt
As0 f135 outCond in.delete #txt
As0 f135 1006 1040 1112 1100 #arcP
As0 f135 1 1112 1040 #addKink
As0 f135 0 0.914633462761024 0 0 #arcLabel
As0 f140 actionDecl 'Number enviromentIdentifier;
' #txt
As0 f140 actionTable 'enviromentIdentifier=in.tmpNumber;
' #txt
As0 f140 actionCode panel.fireEnvironmentDeleted(enviromentIdentifier); #txt
As0 f140 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f140 fireEvent environmentDeleted(Number) #txt
As0 f140 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>send environment 
deleted</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f140 1094 1172 36 24 20 -2 #rect
As0 f140 @|RichDialogFireEventIcon #fIcon
As0 f146 expr out #txt
As0 f146 1112 1196 394 1320 #arcP
As0 f146 1 1112 1320 #addKink
As0 f146 1 0.506289584799437 0 0 #arcLabel
As0 f147 targetWindow NEW:card: #txt
As0 f147 targetDisplay TOP #txt
As0 f147 richDialogId ch.ivyteam.ivy.admin.tool.environment.NewEnvironment #txt
As0 f147 startMethod start(ch.ivyteam.ivy.application.IApplication) #txt
As0 f147 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f147 panelName 'New environment' #txt
As0 f147 requestActionDecl '<ch.ivyteam.ivy.application.IApplication application> param;' #txt
As0 f147 requestMappingAction 'param.application=in.application;
' #txt
As0 f147 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f147 responseMappingAction 'out=in;
out.newEnvironment=result.#environment;
' #txt
As0 f147 windowConfiguration '{/title "Create Environment"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f147 isAsynch false #txt
As0 f147 isInnerRd true #txt
As0 f147 isDialog true #txt
As0 f147 userContext '* ' #txt
As0 f147 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>create
environment</name>
        <nameStyle>18,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f147 286 261 36 22 36 -4 #rect
As0 f147 @|RichDialogIcon #fIcon
As0 f148 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f148 294 414 20 20 11 0 #rect
As0 f148 @|RichDialogProcessEndIcon #fIcon
As0 f150 guid 13ADAB25A1F810EA #txt
As0 f150 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f150 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f150 actionTable 'out=in;
' #txt
As0 f150 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add environment</name>
        <nameStyle>15,5,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f150 294 30 20 20 -26 -35 #rect
As0 f150 @|RichDialogProcessStartIcon #fIcon
As0 f149 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f149 actionTable 'out=in;
' #txt
As0 f149 actionCode 'import ch.ivyteam.ivy.application.IApplication;

Tree node = in.selectedNode;
while (node.info != ApplicationTreeHelper.TREE_ITEM_APPLICATION)
{
  node = node.getParent();
}
in.application = node.value as IApplication;' #txt
As0 f149 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f149 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Get application</name>
        <nameStyle>15,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f149 286 188 36 24 25 -7 #rect
As0 f149 @|RichDialogProcessStepIcon #fIcon
As0 f142 expr out #txt
As0 f142 304 212 304 261 #arcP
As0 f153 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f153 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>was env created?</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f153 290 306 28 28 12 50 #rect
As0 f153 @|AlternativeIcon #fIcon
As0 f154 expr out #txt
As0 f154 304 283 304 306 #arcP
As0 f155 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f155 actionTable 'out=in;
' #txt
As0 f155 actionCode 'import ch.ivyteam.ivy.application.restricted.IEnvironment;
import ch.ivyteam.ivy.application.IProcessModel;

Tree tree = in.selectedNode;
while (tree.info != ApplicationTreeHelper.TREE_ITEM_APPLICATION)
{
  tree = tree.getParent();
}

for (Tree appChild : tree.getChildren())
{
	if (appChild.info == ApplicationTreeHelper.TREE_ITEM_ENVROOT)
	{
		tree = appChild;
		break;
	}
}
	
int pos;
for (pos = 0; pos < tree.getChildCount(); pos++)
{
	if ((tree.getChildAt(pos).value as IEnvironment).getName().compareToIgnoreCase(in.newEnvironment.getName())>0)
	{
		break;
	}
}


tree = tree.createChildAt(pos, in.newEnvironment, ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT);
panel.applicationTree.setSelectedTreeNode(tree);

out.enableNewProcessModelVersion = false;
out.enableExportImport = true;
out.enableDelete = true;
' #txt
As0 f155 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f155 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add node to tree</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f155 350 308 36 24 8 13 #rect
As0 f155 @|RichDialogProcessStepIcon #fIcon
As0 f156 expr in #txt
As0 f156 outCond 'in.#newEnvironment != null' #txt
As0 f156 318 320 350 320 #arcP
As0 f157 expr out #txt
As0 f157 368 332 314 424 #arcP
As0 f157 1 368 424 #addKink
As0 f157 0 0.8234265329090864 0 0 #arcLabel
As0 f151 expr in #txt
As0 f151 304 334 304 414 #arcP
As0 f141 targetWindow NEW:card: #txt
As0 f141 targetDisplay TOP #txt
As0 f141 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentImport #txt
As0 f141 startMethod start(List<ch.ivyteam.ivy.application.restricted.IEnvironment>,ch.ivyteam.ivy.application.IApplication) #txt
As0 f141 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f141 requestActionDecl '<List<ch.ivyteam.ivy.application.restricted.IEnvironment> environments, ch.ivyteam.ivy.application.IApplication selectedApplication> param;' #txt
As0 f141 requestMappingAction 'param.environments=ch.ivyteam.ivy.admin.tool.ApplicationTreeHelper.getSelectedEnvironments(in.selectedTreeNodes);
' #txt
As0 f141 requestActionCode 'import ch.ivyteam.ivy.application.IApplication;

if (!in.selectedTreeNodes.isEmpty()) {
	Tree tree = in.selectedTreeNodes.get(0);
	while (!(tree.value instanceof IApplication)) {
		tree = tree.getParent();
	}
	param.selectedApplication = tree.value as IApplication;
}' #txt
As0 f141 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f141 responseMappingAction 'out=in;
' #txt
As0 f141 windowConfiguration '{/title "Import Environment(s)"/width 400 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f141 isAsynch true #txt
As0 f141 isInnerRd true #txt
As0 f141 userContext '* ' #txt
As0 f141 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>import for
environments</name>
        <nameStyle>11,7
12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f141 1910 876 36 24 -72 -57 #rect
As0 f141 @|RichDialogIcon #fIcon
As0 f159 guid 13AE688731813BAF #txt
As0 f159 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f159 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f159 actionTable 'out=in;
' #txt
As0 f159 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>export</name>
        <nameStyle>6,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f159 1750 702 20 20 -18 -29 #rect
As0 f159 @|RichDialogProcessStartIcon #fIcon
As0 f160 guid 13AE688732820BEA #txt
As0 f160 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f160 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f160 actionTable 'out=in;
' #txt
As0 f160 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>import</name>
        <nameStyle>6,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f160 2086 702 20 20 -18 -29 #rect
As0 f160 @|RichDialogProcessStartIcon #fIcon
As0 f161 targetWindow NEW:card: #txt
As0 f161 targetDisplay TOP #txt
As0 f161 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentExport #txt
As0 f161 startMethod start(List<ch.ivyteam.ivy.application.restricted.IEnvironment>) #txt
As0 f161 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f161 requestActionDecl '<List<ch.ivyteam.ivy.application.restricted.IEnvironment> environments> param;' #txt
As0 f161 requestMappingAction 'param.environments=ch.ivyteam.ivy.admin.tool.ApplicationTreeHelper.getSelectedEnvironments(in.selectedTreeNodes);
' #txt
As0 f161 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f161 responseMappingAction 'out=in;
' #txt
As0 f161 windowConfiguration '{/title "Export Environment(s)"/width 400 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f161 isAsynch true #txt
As0 f161 isInnerRd true #txt
As0 f161 userContext '* ' #txt
As0 f161 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>export 
for envs</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f161 1590 876 36 24 -58 -48 #rect
As0 f161 @|RichDialogIcon #fIcon
As0 f162 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f162 2022 966 20 20 13 0 #rect
As0 f162 @|RichDialogProcessEndIcon #fIcon
As0 f163 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f163 1678 958 20 20 13 0 #rect
As0 f163 @|RichDialogProcessEndIcon #fIcon
As0 f165 expr out #txt
As0 f165 1608 900 1678 968 #arcP
As0 f165 1 1608 968 #addKink
As0 f165 0 0.9187219981917439 0 0 #arcLabel
As0 f166 expr out #txt
As0 f166 1928 900 2022 976 #arcP
As0 f166 1 1928 976 #addKink
As0 f166 0 0.7760899037768554 0 0 #arcLabel
As0 f168 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f168 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>more selected
nodes?</name>
        <nameStyle>14,7
6,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f168 1874 402 28 28 14 0 #rect
As0 f168 @|AlternativeIcon #fIcon
As0 f169 expr out #txt
As0 f169 1888 362 1888 402 #arcP
As0 f10 expr in #txt
As0 f10 outCond 'in.enableShowDetail && in.selectedTreeNodes.size() > in.index' #txt
As0 f10 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f10 1888 430 1888 476 #arcP
As0 f170 expr out #txt
As0 f170 1983 357 1897 411 #arcP
As0 f126 expr in #txt
As0 f126 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f126 1874 416 1891 624 #arcP
As0 f126 1 1832 416 #addKink
As0 f126 2 1832 624 #addKink
As0 f126 1 0.5027173913043478 0 0 #arcLabel
As0 f171 expr out #txt
As0 f171 1906 552 1902 416 #arcP
As0 f171 1 2032 552 #addKink
As0 f171 2 2032 416 #addKink
As0 f171 1 0.5147058823529411 0 0 #arcLabel
As0 f11 expr out #txt
As0 f11 1912 116 1912 147 #arcP
As0 f109 expr in #txt
As0 f109 294 632 411 632 #arcP
As0 f108 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f108 411 619 26 26 14 0 #rect
As0 f108 @|RichDialogProcessEndIcon #fIcon
As0 f26 expr out #txt
As0 f26 1112 1124 1112 1172 #arcP
As0 f27 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f27 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app or env
selection?</name>
        <nameStyle>11,7
10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f27 1674 770 28 28 10 -44 #rect
As0 f27 @|AlternativeIcon #fIcon
As0 f28 expr out #txt
As0 f28 1752 719 1695 777 #arcP
As0 f29 expr in #txt
As0 f29 outCond 'in.enableExportImport && in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT)' #txt
As0 f29 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>list of envs</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f29 1674 784 1608 876 #arcP
As0 f29 1 1608 784 #addKink
As0 f29 1 0.17391304347826086 25 0 #arcLabel
As0 f58 targetWindow NEW:card: #txt
As0 f58 targetDisplay TOP #txt
As0 f58 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentExport #txt
As0 f58 startMethod start(ch.ivyteam.ivy.application.IApplication) #txt
As0 f58 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f58 requestActionDecl '<ch.ivyteam.ivy.application.IApplication application> param;' #txt
As0 f58 requestActionCode 'if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_APPLICATION))
{
	param.application = in.selectedNode.value as ch.ivyteam.ivy.application.IApplication;
}
else if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT))
{
	param.application = in.selectedNode.getParent().value as ch.ivyteam.ivy.application.IApplication;
}' #txt
As0 f58 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f58 responseMappingAction 'out=in;
' #txt
As0 f58 windowConfiguration '{/title "Export Environment(s)"/width 400 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f58 isAsynch true #txt
As0 f58 isInnerRd true #txt
As0 f58 userContext '* ' #txt
As0 f58 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>export 
for app</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f58 1750 876 36 24 26 -6 #rect
As0 f58 @|RichDialogIcon #fIcon
As0 f60 expr in #txt
As0 f60 outCond 'in.enableExportImport && in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_APPLICATION) || in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT)' #txt
As0 f60 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f60 1702 784 1768 876 #arcP
As0 f60 1 1768 784 #addKink
As0 f60 0 0.7121212121212122 0 15 #arcLabel
As0 f91 expr out #txt
As0 f91 1768 900 1698 968 #arcP
As0 f91 1 1768 968 #addKink
As0 f91 0 0.9259272894342921 0 0 #arcLabel
As0 f119 targetWindow NEW:card: #txt
As0 f119 targetDisplay TOP #txt
As0 f119 richDialogId ch.ivyteam.ivy.admin.tool.environment.EnvironmentImport #txt
As0 f119 startMethod start(ch.ivyteam.ivy.application.IApplication) #txt
As0 f119 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f119 requestActionDecl '<ch.ivyteam.ivy.application.IApplication application> param;' #txt
As0 f119 requestActionCode 'import ch.ivyteam.ivy.admin.tool.ApplicationTreeHelper;
if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_APPLICATION))
{
	param.application = in.selectedNode.value as ch.ivyteam.ivy.application.IApplication;
}
else if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT))
{
	param.application = in.selectedNode.getParent().value as ch.ivyteam.ivy.application.IApplication;
}' #txt
As0 f119 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f119 responseMappingAction 'out=in;
' #txt
As0 f119 windowConfiguration '{/title "Import Environment(s)"/width 400 /height 200 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f119 isAsynch true #txt
As0 f119 isInnerRd true #txt
As0 f119 userContext '* ' #txt
As0 f119 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>import for 
application</name>
        <nameStyle>7,7
16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f119 2126 852 36 24 23 -16 #rect
As0 f119 @|RichDialogIcon #fIcon
As0 f122 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f122 actionTable 'out=in;
' #txt
As0 f122 actionCode 'import ch.ivyteam.ivy.admin.tool.ApplicationTreeHelper;
import ch.ivyteam.ivy.application.IApplication;

Tree envRootNode;

IApplication application;
if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_APPLICATION))
{
	application = in.selectedNode.value as ch.ivyteam.ivy.application.IApplication;
	
	// Find envRootNode
	for (Tree child : in.selectedNode.getChildren())
	{
		if (child.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT))
		{
			envRootNode = child;
			break;
		}
	}
}
else if (in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT))
{
	application = in.selectedNode.getParent().value as ch.ivyteam.ivy.application.IApplication;
	
	envRootNode = in.selectedNode;
}

if (envRootNode.getChildCount() != application.getEnvironments().size())
{
	envRootNode.removeAllChildren();
	envRootNode.createChildren(application.getEnvironmentsSortedByName(), ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT);
}' #txt
As0 f122 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f122 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update env 
nodes in tree</name>
        <nameStyle>18,7
7,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f122 2126 908 36 24 23 -16 #rect
As0 f122 @|RichDialogProcessStepIcon #fIcon
As0 f123 expr out #txt
As0 f123 2144 876 2144 908 #arcP
As0 f121 expr out #txt
As0 f121 2144 932 2042 976 #arcP
As0 f121 1 2144 976 #addKink
As0 f121 1 0.150256804714986 0 0 #arcLabel
As0 f120 expr in #txt
As0 f120 outCond 'in.enableExportImport && in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_APPLICATION) || in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVROOT)' #txt
As0 f120 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f120 2046 792 2144 852 #arcP
As0 f120 1 2144 792 #addKink
As0 f120 0 0.62 0 15 #arcLabel
As0 f118 expr in #txt
As0 f118 outCond 'in.enableExportImport && in.selectedNode.info.equalsIgnoreCase(ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT)' #txt
As0 f118 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>env</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f118 2018 792 1928 876 #arcP
As0 f118 1 1928 792 #addKink
As0 f118 0 0.696969696969697 0 16 #arcLabel
As0 f117 expr out #txt
As0 f117 2089 719 2038 784 #arcP
As0 f116 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f116 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selection on 
app or env?</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f116 2018 778 28 28 -68 -40 #rect
As0 f116 @|AlternativeIcon #fIcon
As0 f128 targetWindow NEW:card: #txt
As0 f128 targetDisplay TOP #txt
As0 f128 richDialogId ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main #txt
As0 f128 startMethod startWithSelection(List<ch.ivyteam.ivy.application.IApplication>,List<ch.ivyteam.ivy.application.IProcessModel>,List<ch.ivyteam.ivy.application.IProcessModelVersion>) #txt
As0 f128 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f128 requestActionDecl '<List<ch.ivyteam.ivy.application.IApplication> appsFromAdmin, List<ch.ivyteam.ivy.application.IProcessModel> pmsFromAdmin, List<ch.ivyteam.ivy.application.IProcessModelVersion> pmvsFromAdmin> param;' #txt
As0 f128 requestMappingAction 'param.appsFromAdmin=in.selectedApps;
param.pmsFromAdmin=in.selectedPMs;
param.pmvsFromAdmin=in.selectedPMVs;
' #txt
As0 f128 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f128 responseMappingAction 'out=in;
out.willRefresh=result.willRefresh;
' #txt
As0 f128 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Source\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f128 isAsynch false #txt
As0 f128 isInnerRd true #txt
As0 f128 userContext '* ' #txt
As0 f128 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>call deployment wizard with selected App, Pm, Pmv</name>
        <nameStyle>49,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f128 398 1900 36 24 23 -6 #rect
As0 f128 @|RichDialogIcon #fIcon
As0 f164 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f164 actionTable 'out=in;
' #txt
As0 f164 actionCode 'import ch.ivyteam.ivy.application.IProcessModelVersion;
import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.application.IProcessModel;

for (Tree item: in.selectedTreeNodes as List<Tree>)
{
	if (item.info.equals(ApplicationTreeHelper.TREE_ITEM_APPLICATION))
	{
		in.selectedApps.add(item.value as IApplication);
	}
	else if (item.info.equals(ApplicationTreeHelper.TREE_ITEM_PM))
	{
		in.selectedPMs.add(item.value as IProcessModel);
	}
	else if (item.info.equals(ApplicationTreeHelper.TREE_ITEM_PMV))
	{
		in.selectedPMVs.add(item.value as IProcessModelVersion);
	}	
	
}


for (IProcessModel pm: in.selectedPMs)
{
	IApplication app = pm.getApplication();
	if (in.selectedApps.contains(app) == false)
	{
		in.selectedApps.add(app);
	}
}

for (IProcessModelVersion pmv: in.selectedPMVs)
{
	IApplication app = pmv.getApplication();
	if (in.selectedApps.contains(app) == false)
	{
		in.selectedApps.add(app);
	}
}' #txt
As0 f164 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f164 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get selected App, Pm, Pmv</name>
        <nameStyle>25
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f164 398 1836 36 24 26 -7 #rect
As0 f164 @|RichDialogProcessStepIcon #fIcon
As0 f158 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f158 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>node type?</name>
        <nameStyle>10
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f158 402 1762 28 28 14 0 #rect
As0 f158 @|AlternativeIcon #fIcon
As0 f124 guid 13C70C9B37EBF49D #txt
As0 f124 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f124 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f124 actionTable 'out=in;
' #txt
As0 f124 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>callDeploymentWizard</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f124 342 1590 20 20 -59 -30 #rect
As0 f124 @|RichDialogProcessStartIcon #fIcon
As0 f127 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f127 406 2038 20 20 13 0 #rect
As0 f127 @|RichDialogProcessEndIcon #fIcon
As0 f131 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f131 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>has Selection?</name>
        <nameStyle>14
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f131 402 1690 28 28 14 0 #rect
As0 f131 @|AlternativeIcon #fIcon
As0 f167 targetWindow NEW:card: #txt
As0 f167 targetDisplay TOP #txt
As0 f167 richDialogId ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main #txt
As0 f167 startMethod start() #txt
As0 f167 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f167 requestActionDecl '<> param;' #txt
As0 f167 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f167 responseMappingAction 'out=in;
out.willRefresh=result.willRefresh;
' #txt
As0 f167 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Source\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f167 isAsynch false #txt
As0 f167 isInnerRd true #txt
As0 f167 userContext '* ' #txt
As0 f167 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>call deployment wizard without selected App, Pm, Pmv</name>
        <nameStyle>52
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f167 782 1764 36 24 20 -2 #rect
As0 f167 @|RichDialogIcon #fIcon
As0 f133 expr in #txt
As0 f133 outCond 'in.selectedTreeNodes.size() > 0' #txt
As0 f133 416 1718 416 1762 #arcP
As0 f134 expr in #txt
As0 f134 430 1704 800 1764 #arcP
As0 f134 1 800 1704 #addKink
As0 f134 0 0.5752317190043772 0 0 #arcLabel
As0 f173 expr in #txt
As0 f173 outCond ' in.selectedNode.info.equals(ApplicationTreeHelper.TREE_ITEM_APPLICATION) || 
 in.selectedNode.info.equals(ApplicationTreeHelper.TREE_ITEM_PM) || 
 in.selectedNode.info.equals(ApplicationTreeHelper.TREE_ITEM_PMV)' #txt
As0 f173 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>pm</name>
        <nameStyle>2
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f173 416 1790 416 1836 #arcP
As0 f173 0 0.43478260869565216 -14 0 #arcLabel
As0 f178 expr in #txt
As0 f178 430 1776 782 1776 #arcP
As0 f178 0 0.5657368375590104 0 0 #arcLabel
As0 f179 expr out #txt
As0 f179 416 1860 416 1900 #arcP
As0 f181 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f181 actionTable 'out=in;
' #txt
As0 f181 actionCode 'in.selectedApps.clear();
in.selectedPMs.clear();
in.selectedPMVs.clear();' #txt
As0 f181 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f181 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clean up</name>
        <nameStyle>8
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f181 398 1628 36 24 20 -2 #rect
As0 f181 @|RichDialogProcessStepIcon #fIcon
As0 f182 expr out #txt
As0 f182 360 1605 398 1629 #arcP
As0 f132 expr out #txt
As0 f132 416 1652 416 1690 #arcP
As0 f176 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f176 actionTable 'out=in;
' #txt
As0 f176 actionCode 'if (in.willRefresh)
{
	panel.refresh();
}' #txt
As0 f176 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f176 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh 
app tree</name>
        <nameStyle>17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f176 398 1972 36 24 28 -15 #rect
As0 f176 @|RichDialogProcessStepIcon #fIcon
As0 f177 expr out #txt
As0 f177 416 1924 416 1972 #arcP
As0 f130 expr out #txt
As0 f130 416 1996 416 2038 #arcP
As0 f129 expr out #txt
As0 f129 800 1788 434 1984 #arcP
As0 f129 1 800 1984 #addKink
As0 f129 0 0.9078797255525914 0 0 #arcLabel
As0 f96 expr out #txt
As0 f96 48 58 48 179 #arcP
As0 f184 guid 146D7B0E61D6E961 #txt
As0 f184 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f184 broadcast addApplication #txt
As0 f184 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f184 actionTable 'out=in;
' #txt
As0 f184 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addApplication</name>
    </language>
</elementInfo>
' #txt
As0 f184 749 45 22 22 14 0 #rect
As0 f184 @|RichDialogBroadcastStartIcon #fIcon
As0 f184 -13016147|-1|-16777216 #nodeStyle
As0 f185 expr out #txt
As0 f185 754 65 688 172 #arcP
As0 f186 guid 146D7D3510DA0DDB #txt
As0 f186 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f186 broadcast callDeploymentWizard #txt
As0 f186 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f186 actionTable 'out=in;
' #txt
As0 f186 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>callDeploymentWizard</name>
    </language>
</elementInfo>
' #txt
As0 f186 517 1589 22 22 -65 -32 #rect
As0 f186 @|RichDialogBroadcastStartIcon #fIcon
As0 f186 -13016147|-1|-16777216 #nodeStyle
As0 f187 expr out #txt
As0 f187 517 1603 434 1640 #arcP
As0 f172 guid 146DB418E4617BA9 #txt
As0 f172 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f172 broadcast addProcessModel #txt
As0 f172 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f172 actionTable 'out=in;
' #txt
As0 f172 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addProcessModel</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f172 1197 445 22 22 21 -7 #rect
As0 f172 @|RichDialogBroadcastStartIcon #fIcon
As0 f172 -13016147|-1|-16777216 #nodeStyle
As0 f175 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f175 1290 514 28 28 14 0 #rect
As0 f175 @|AlternativeIcon #fIcon
As0 f175 -13016147|-1|-16777216 #nodeStyle
As0 f183 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f183 1461 517 22 22 14 0 #rect
As0 f183 @|RichDialogProcessEndIcon #fIcon
As0 f183 -13016147|-1|-16777216 #nodeStyle
As0 f188 expr in #txt
As0 f188 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>node is not selected</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f188 1318 528 1461 528 #arcP
As0 f188 0 0.4965034965034965 0 14 #arcLabel
As0 f189 expr out #txt
As0 f189 1216 462 1296 522 #arcP
As0 f174 expr out #txt
As0 f174 1399 461 1312 522 #arcP
As0 f77 expr out #txt
As0 f77 1304 612 1304 660 #arcP
As0 f180 expr in #txt
As0 f180 outCond 'in.#selectedNode is initialized' #txt
As0 f180 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>node is selected</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f180 1304 542 1304 588 #arcP
As0 f180 0 0.5217391304347826 -52 0 #arcLabel
As0 f53 guid 146DB56A44D51D23 #txt
As0 f53 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f53 broadcast addEnvironment #txt
As0 f53 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f53 actionTable 'out=in;
' #txt
As0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addEnvironment</name>
    </language>
</elementInfo>
' #txt
As0 f53 421 29 22 22 -7 -33 #rect
As0 f53 @|RichDialogBroadcastStartIcon #fIcon
As0 f53 -13016147|-1|-16777216 #nodeStyle
As0 f191 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f191 290 114 28 28 14 0 #rect
As0 f191 @|AlternativeIcon #fIcon
As0 f191 -13016147|-1|-16777216 #nodeStyle
As0 f192 expr out #txt
As0 f192 304 50 304 114 #arcP
As0 f152 expr out #txt
As0 f152 422 46 312 122 #arcP
As0 f152 0 0.49999999999999983 0 0 #arcLabel
As0 f190 expr in #txt
As0 f190 outCond 'in.#selectedNode is initialized' #txt
As0 f190 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>node is selected</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f190 304 142 304 188 #arcP
As0 f193 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f193 373 117 22 22 14 0 #rect
As0 f193 @|RichDialogProcessEndIcon #fIcon
As0 f193 -13016147|-1|-16777216 #nodeStyle
As0 f194 expr in #txt
As0 f194 318 128 373 128 #arcP
As0 f195 guid 146DB5C728EC1BAE #txt
As0 f195 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f195 broadcast showDetails #txt
As0 f195 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f195 actionTable 'out=in;
out.index=0;
' #txt
As0 f195 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>showDetails</name>
        <nameStyle>11,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f195 1813 341 22 22 -15 -31 #rect
As0 f195 @|RichDialogBroadcastStartIcon #fIcon
As0 f195 -13016147|-1|-16777216 #nodeStyle
As0 f196 expr out #txt
As0 f196 1831 359 1881 409 #arcP
As0 f197 guid 146DB69216643EEA #txt
As0 f197 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f197 broadcast addProcessModelVersion #txt
As0 f197 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f197 actionTable 'out=in;
out.processModel=null;
' #txt
As0 f197 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addProcessModelVersion</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f197 1021 45 22 22 -63 -30 #rect
As0 f197 @|RichDialogBroadcastStartIcon #fIcon
As0 f197 -13016147|-1|-16777216 #nodeStyle
As0 f199 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f199 1090 106 28 28 14 0 #rect
As0 f199 @|AlternativeIcon #fIcon
As0 f199 -13016147|-1|-16777216 #nodeStyle
As0 f200 expr out #txt
As0 f200 1040 63 1097 113 #arcP
As0 f198 expr out #txt
As0 f198 1176 62 1112 114 #arcP
As0 f84 expr in #txt
As0 f84 outCond 'in.#selectedNode is initialized' #txt
As0 f84 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>node is selected</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f84 1104 134 1104 164 #arcP
As0 f201 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f201 1181 109 22 22 14 0 #rect
As0 f201 @|RichDialogProcessEndIcon #fIcon
As0 f201 -13016147|-1|-16777216 #nodeStyle
As0 f202 expr in #txt
As0 f202 1118 120 1181 120 #arcP
As0 f203 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f203 1090 218 28 28 14 0 #rect
As0 f203 @|AlternativeIcon #fIcon
As0 f203 -13016147|-1|-16777216 #nodeStyle
As0 f204 expr out #txt
As0 f204 1104 188 1104 218 #arcP
As0 f55 expr in #txt
As0 f55 outCond 'in.#processModel is initialized' #txt
As0 f55 1104 246 1104 268 #arcP
As0 f205 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f205 1181 221 22 22 14 0 #rect
As0 f205 @|RichDialogProcessEndIcon #fIcon
As0 f205 -13016147|-1|-16777216 #nodeStyle
As0 f206 expr in #txt
As0 f206 1118 232 1181 232 #arcP
As0 f207 guid 146DB90753BABF2B #txt
As0 f207 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f207 broadcast exportEnvironment #txt
As0 f207 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f207 actionTable 'out=in;
' #txt
As0 f207 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>exportEnvironment</name>
    </language>
</elementInfo>
' #txt
As0 f207 1629 701 22 22 -44 -36 #rect
As0 f207 @|RichDialogBroadcastStartIcon #fIcon
As0 f207 -13016147|-1|-16777216 #nodeStyle
As0 f208 expr out #txt
As0 f208 1646 721 1682 776 #arcP
As0 f209 guid 146DB9130039F68C #txt
As0 f209 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f209 broadcast importEnvironment #txt
As0 f209 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f209 actionTable 'out=in;
' #txt
As0 f209 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>importEnvironment</name>
    </language>
</elementInfo>
' #txt
As0 f209 1973 701 22 22 -30 -31 #rect
As0 f209 @|RichDialogBroadcastStartIcon #fIcon
As0 f209 -13016147|-1|-16777216 #nodeStyle
As0 f210 expr out #txt
As0 f210 1989 721 2027 783 #arcP
As0 f211 expr in #txt
As0 f211 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>not selected
app or envs</name>
        <nameStyle>24,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f211 1688 798 1688 958 #arcP
As0 f212 expr in #txt
As0 f212 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>not selected
app or envs</name>
        <nameStyle>24,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f212 2032 806 2032 966 #arcP
As0 f213 guid 146DC0A8518ACCD8 #txt
As0 f213 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f213 broadcast delete #txt
As0 f213 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f213 actionTable 'out=in;
' #txt
As0 f213 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete</name>
    </language>
</elementInfo>
' #txt
As0 f213 269 541 22 22 -17 -29 #rect
As0 f213 @|RichDialogBroadcastStartIcon #fIcon
As0 f213 -13016147|-1|-16777216 #nodeStyle
As0 f214 expr out #txt
As0 f214 280 563 280 618 #arcP
As0 f215 targetWindow NEW:card: #txt
As0 f215 targetDisplay TOP #txt
As0 f215 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
As0 f215 startMethod askQuestion(String,String,List<String>) #txt
As0 f215 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f215 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
As0 f215 requestMappingAction 'param.icon="question";
param.question=ivy.cms.co("/ch/ivyteam/ivy/admin/tool/message/confirmDeletePMV", [(in.selectedNode.value as ch.ivyteam.ivy.application.IProcessModelVersion).getName()]);
param.buttons=["yes","no"];
' #txt
As0 f215 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f215 responseMappingAction 'out=in;
out.delete=result.pressedButton == "yes";
' #txt
As0 f215 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/admin/tool/message/deleteObject\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f215 isAsynch false #txt
As0 f215 isInnerRd true #txt
As0 f215 isDialog true #txt
As0 f215 userContext '* ' #txt
As0 f215 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Confirm dialog</name>
        <nameStyle>14,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f215 678 972 36 24 20 -2 #rect
As0 f215 @|RichDialogIcon #fIcon
As0 f216 expr in #txt
As0 f216 outCond ApplicationTreeHelper.TREE_ITEM_PMV.equalsIgnoreCase(in.selectedNode.info) #txt
As0 f216 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Process Model Version</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f216 294 880 696 972 #arcP
As0 f216 1 696 880 #addKink
As0 f216 1 0.34782608695652173 -4 0 #arcLabel
As0 f217 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f217 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete?</name>
        <nameStyle>7,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f217 682 1026 28 28 14 0 #rect
As0 f217 @|AlternativeIcon #fIcon
As0 f217 -13016147|-1|-16777216 #nodeStyle
As0 f218 expr out #txt
As0 f218 696 996 696 1026 #arcP
As0 f219 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f219 actionTable 'out=in;
' #txt
As0 f219 actionCode 'import ch.ivyteam.ivy.application.IProcessModelVersion;
import ch.ivyteam.ivy.application.IProcessModel;

IProcessModelVersion pmv = in.selectedNode.value as IProcessModelVersion;
out.tmpNumber = pmv.getId(); //prepare for event fire
out.selectedNode = null;' #txt
As0 f219 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f219 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete pmv</name>
        <nameStyle>10,7,9
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f219 758 1172 36 24 24 -8 #rect
As0 f219 @|RichDialogProcessStepIcon #fIcon
As0 f222 expr in #txt
As0 f222 outCond !in.delete #txt
As0 f222 696 1054 394 1320 #arcP
As0 f222 1 696 1320 #addKink
As0 f222 1 0.32450331125827814 0 0 #arcLabel
As0 f138 expr in #txt
As0 f138 266 880 267 1400 #arcP
As0 f138 1 248 880 #addKink
As0 f138 2 248 1400 #addKink
As0 f138 1 0.5012755102040817 0 0 #arcLabel
As0 f223 actionDecl 'Number deletedProcessModelVersionId;
' #txt
As0 f223 actionTable 'deletedProcessModelVersionId=in.tmpNumber;
' #txt
As0 f223 actionCode panel.fireProcessModelVersionDeleted(deletedProcessModelVersionId); #txt
As0 f223 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f223 fireEvent processModelVersionDeleted(Number) #txt
As0 f223 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>send pmv deleted</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f223 758 1236 36 24 20 -2 #rect
As0 f223 @|RichDialogFireEventIcon #fIcon
As0 f223 -13016147|-1|-16777216 #nodeStyle
As0 f224 expr out #txt
As0 f224 776 1196 776 1236 #arcP
As0 f224 0 0.35561497326203223 0 0 #arcLabel
As0 f221 expr out #txt
As0 f221 776 1260 394 1320 #arcP
As0 f221 1 776 1320 #addKink
As0 f221 1 0.35561497326203223 0 0 #arcLabel
As0 f226 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f226 processCall 'Functional Processes/DeletePMV:deletePMV(ch.ivyteam.ivy.application.IProcessModelVersion)' #txt
As0 f226 doCall true #txt
As0 f226 requestActionDecl '<ch.ivyteam.ivy.application.IProcessModelVersion deletedPMV> param;
' #txt
As0 f226 requestMappingAction 'param.deletedPMV=in.selectedNode.value as ch.ivyteam.ivy.application.IProcessModelVersion;
' #txt
As0 f226 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f226 responseMappingAction 'out=in;
out.exception=result.exception;
out.isDeleted=result.isDeleted;
' #txt
As0 f226 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DeletePMV</name>
        <nameStyle>9,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f226 758 1028 36 24 20 -2 #rect
As0 f226 @|CallSubIcon #fIcon
As0 f226 -13016147|-1|-16777216 #nodeStyle
As0 f227 expr in #txt
As0 f227 outCond in.delete #txt
As0 f227 710 1040 758 1040 #arcP
As0 f225 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f225 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>deleted?</name>
        <nameStyle>8,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f225 762 1098 28 28 14 0 #rect
As0 f225 @|AlternativeIcon #fIcon
As0 f225 -13016147|-1|-16777216 #nodeStyle
As0 f228 expr out #txt
As0 f228 776 1052 776 1098 #arcP
As0 f229 guid 1470F11292A8AF58 #txt
As0 f229 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f229 method showException(java.lang.Exception) #txt
As0 f229 disableUIEvents false #txt
As0 f229 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Exception exception> param = methodEvent.getInputArguments();
' #txt
As0 f229 inParameterMapAction 'out.exception=param.exception;
' #txt
As0 f229 outParameterDecl '<> result;
' #txt
As0 f229 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>showException(Exception)</name>
    </language>
</elementInfo>
' #txt
As0 f229 2301 85 22 22 14 0 #rect
As0 f229 @|RichDialogMethodStartIcon #fIcon
As0 f229 -13016147|-1|-16777216 #nodeStyle
As0 f230 targetWindow NEW:card: #txt
As0 f230 targetDisplay TOP #txt
As0 f230 richDialogId ch.ivyteam.ivy.commondialogs.ErrorDialog #txt
As0 f230 startMethod showError(java.lang.Throwable,Boolean,Boolean) #txt
As0 f230 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f230 requestActionDecl '<java.lang.Throwable error, Boolean showCopyButton, Boolean showDetailButton> param;' #txt
As0 f230 requestMappingAction 'param.error=in.exception;
param.showCopyButton=true;
param.showDetailButton=true;
' #txt
As0 f230 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f230 responseMappingAction 'out=in;
' #txt
As0 f230 windowConfiguration '{/title "<%=in.errorTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f230 isAsynch false #txt
As0 f230 isInnerRd true #txt
As0 f230 userContext '* ' #txt
As0 f230 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>display error dialog</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f230 2294 156 36 24 20 -2 #rect
As0 f230 @|RichDialogIcon #fIcon
As0 f230 -13016147|-1|-16777216 #nodeStyle
As0 f231 expr out #txt
As0 f231 2312 107 2312 156 #arcP
As0 f232 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f232 2301 229 22 22 14 0 #rect
As0 f232 @|RichDialogProcessEndIcon #fIcon
As0 f232 -13016147|-1|-16777216 #nodeStyle
As0 f233 expr out #txt
As0 f233 2312 180 2312 229 #arcP
As0 f234 guid 1470F182024A27F8 #txt
As0 f234 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f234 method showErrorMessage(String) #txt
As0 f234 disableUIEvents false #txt
As0 f234 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.String errorMessage> param = methodEvent.getInputArguments();
' #txt
As0 f234 inParameterMapAction 'out.errorMessage=param.errorMessage;
' #txt
As0 f234 outParameterDecl '<> result;
' #txt
As0 f234 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>showErrorMessage(String,String)</name>
        <nameStyle>31,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f234 2517 85 22 22 14 0 #rect
As0 f234 @|RichDialogMethodStartIcon #fIcon
As0 f234 -13016147|-1|-16777216 #nodeStyle
As0 f235 targetWindow NEW:card: #txt
As0 f235 targetDisplay TOP #txt
As0 f235 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
As0 f235 startMethod askQuestion(String,String,List<String>) #txt
As0 f235 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f235 requestActionDecl '<String icon, String question, List<String> buttons> param;' #txt
As0 f235 requestMappingAction 'param.icon="error";
param.question=in.errorMessage;
param.buttons=[ivy.cms.co("/Dialogs/general/ok")];
' #txt
As0 f235 responseActionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f235 responseMappingAction 'out=in;
' #txt
As0 f235 windowConfiguration '{/title "<%=in.errorTitle%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
As0 f235 isAsynch false #txt
As0 f235 isInnerRd true #txt
As0 f235 userContext '* ' #txt
As0 f235 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>display error dialog</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f235 2510 156 36 24 20 -2 #rect
As0 f235 @|RichDialogIcon #fIcon
As0 f235 -13016147|-1|-16777216 #nodeStyle
As0 f236 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f236 2517 221 22 22 14 0 #rect
As0 f236 @|RichDialogProcessEndIcon #fIcon
As0 f236 -13016147|-1|-16777216 #nodeStyle
As0 f237 expr out #txt
As0 f237 2528 107 2528 156 #arcP
As0 f238 expr out #txt
As0 f238 2528 180 2528 221 #arcP
As0 f239 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f239 actionTable 'out=in;
' #txt
As0 f239 actionCode 'import ch.ivyteam.ivy.application.ILibrary;
import ch.ivyteam.ivy.application.IProcessModelVersion;
import ch.ivyteam.ivy.persistence.PersistencyException;

in.errorTitle = ivy.cms.co("/ch/ivyteam/ivy/admin/tool/message/failDeletePMVTitle");

if (in.exception instanceof PersistencyException) {
	panel.showException(in.exception);
} else if (in.exception instanceof IllegalStateException) {
	IProcessModelVersion deletedPMV = in.selectedNode.value as IProcessModelVersion;
	
	if (deletedPMV.isRequired()) {
		in.errorMessage = ivy.cms.co("/ch/ivyteam/ivy/admin/tool/message/failDeletePMVDueToRequired");
		
		if (deletedPMV.getLibrary() is initialized) {
			for (ILibrary library : deletedPMV.getLibrary().getAllDependentLibraries()) {
				in.errorMessage += String.format("<br>&#32;&#32;&#32;&#8226;&#32;%s:%s (%s)</br>", library.id, library.version, library.getProcessModelVersion().getVersionName());
			}
		}
	} else {
		in.errorMessage = ivy.cms.co("/ch/ivyteam/ivy/admin/tool/message/failDeletePMVDueToState", [deletedPMV.getReleaseState().name()]);
	}
	
	panel.showErrorMessage(in.errorMessage);
}' #txt
As0 f239 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f239 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show error</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f239 878 1100 36 24 20 -2 #rect
As0 f239 @|RichDialogProcessStepIcon #fIcon
As0 f239 -13016147|-1|-16777216 #nodeStyle
As0 f241 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f241 885 1165 22 22 14 0 #rect
As0 f241 @|RichDialogProcessEndIcon #fIcon
As0 f241 -13016147|-1|-16777216 #nodeStyle
As0 f242 expr out #txt
As0 f242 896 1124 896 1165 #arcP
As0 f240 expr in #txt
As0 f240 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f240 790 1112 878 1112 #arcP
As0 f220 expr in #txt
As0 f220 outCond in.isDeleted #txt
As0 f220 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f220 776 1126 776 1172 #arcP
As0 f243 guid 14713D99758A0CFC #txt
As0 f243 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f243 broadcast processModelVersionDeleted #txt
As0 f243 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f243 actionTable 'out=in;
out.tmpNumber=param.pmvId;
' #txt
As0 f243 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>processModelVersionDeleted</name>
        <nameStyle>26,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f243 1597 365 22 22 14 0 #rect
As0 f243 @|RichDialogBroadcastStartIcon #fIcon
As0 f243 -13016147|-1|-16777216 #nodeStyle
As0 f244 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f244 actionTable 'out=in;
' #txt
As0 f244 actionCode 'import ch.ivyteam.ivy.application.IProcessModelVersion;

for (Tree tree: in.tree.getAllDeepChildren()) {
	if (tree.value instanceof IProcessModelVersion) {
		IProcessModelVersion pmv = tree.value as IProcessModelVersion;
		
		if (pmv.getId() == in.tmpNumber) {
			tree.removeFromParent();
			break;
		}
	}
}' #txt
As0 f244 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f244 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove deleted pmv from tree</name>
        <nameStyle>28,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f244 1590 436 36 24 20 -2 #rect
As0 f244 @|RichDialogProcessStepIcon #fIcon
As0 f244 -13016147|-1|-16777216 #nodeStyle
As0 f245 expr out #txt
As0 f245 1608 387 1608 436 #arcP
As0 f246 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f246 1597 501 22 22 14 0 #rect
As0 f246 @|RichDialogProcessEndIcon #fIcon
As0 f246 -13016147|-1|-16777216 #nodeStyle
As0 f247 expr out #txt
As0 f247 1608 460 1608 501 #arcP
As0 f248 actionDecl 'ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData out;
' #txt
As0 f248 actionTable 'out=in;
' #txt
As0 f248 actionCode 'import javax.persistence.PersistenceException;

try
{
	in.isNotSystemApp = (ApplicationTreeHelper.TREE_ITEM_APPLICATION.equals(in.selectedNode.info) && !(in.selectedNode.value as ch.ivyteam.ivy.application.IApplication).isSystem()) || 
									 		(ApplicationTreeHelper.TREE_ITEM_PM.equals(in.selectedNode.info) && !(in.selectedNode.value as ch.ivyteam.ivy.application.IProcessModel).getApplication().isSystem()) ||
									 		(ApplicationTreeHelper.TREE_ITEM_PMV.equals(in.selectedNode.info) && !(in.selectedNode.value as ch.ivyteam.ivy.application.IProcessModelVersion).getApplication().isSystem()) ||
									 		(ApplicationTreeHelper.TREE_ITEM_ENVIRONMENT.equals(in.selectedNode.info) && !(in.selectedNode.value as ch.ivyteam.ivy.application.restricted.IEnvironment).getApplication().isSystem());
} 
catch (PersistenceException pe)
{
	in.isNotSystemApp = false;
	panel.showException(pe);
}' #txt
As0 f248 type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
As0 f248 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check selected app is System or not</name>
        <nameStyle>35
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f248 262 692 36 24 20 -2 #rect
As0 f248 @|RichDialogProcessStepIcon #fIcon
As0 f249 expr in #txt
As0 f249 outCond 'in.enableDelete && in.selectedTreeNodes.size() > 0' #txt
As0 f249 280 646 280 692 #arcP
As0 f112 expr out #txt
As0 f112 280 716 280 754 #arcP
As0 f250 expr in #txt
As0 f250 294 768 424 645 #arcP
As0 f250 1 424 768 #addKink
As0 f250 0 0.9452036843789668 0 0 #arcLabel
>Proto As0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>start</swimlaneLabel>
        <swimlaneLabel>add/delete entity events</swimlaneLabel>
        <swimlaneLabel>tree manipulation</swimlaneLabel>
        <swimlaneLabel>show error/exception dialog</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>240</swimlaneSize>
    <swimlaneSize>1304</swimlaneSize>
    <swimlaneSize>706</swimlaneSize>
    <swimlaneSize>472</swimlaneSize>
    <swimlaneColor>-1</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
    <swimlaneColor>-10040065</swimlaneColor>
    <swimlaneColor>-1</swimlaneColor>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
</elementInfo>
' #txt
>Proto As0 .type ch.ivyteam.ivy.admin.tool.ApplicationList.ApplicationListData #txt
>Proto As0 .processKind RICH_DIALOG #txt
>Proto As0 .ui2RdDataAction 'out.selectedNode=panel.applicationTree.#selectedTreeNode;
out.selectedTreeNodes=panel.applicationTree.#selectedTreeNodes;
out.showSystemApp=panel.showSystemCheckBox.selected;
' #txt
>Proto As0 .rdData2UIAction 'panel.applicationTree.treeData=in.tree;
panel.deleteMenuItem.enabled=in.enableDelete;
panel.exportEnvironmentMenuItem.enabled=in.enableExportImport;
panel.importEnvironmentMenuItem.enabled=in.enableExportImport;
panel.newEnvironmentMenuItem.enabled=in.enableNewEnvironment;
panel.newProcessModelMenuItem.enabled=in.enableNewProcessModel;
panel.newProcessModelVersionMenuItem.enabled=in.enableNewProcessModelVersion;
panel.showDetailButton.enabled=in.enableShowDetail;
panel.showDetailsMenuItem.enabled=in.enableShowDetail;
panel.showSystemCheckBox.selected=in.showSystemApp;
' #txt
>Proto As0 -8 -8 16 16 16 26 #rect
>Proto As0 '' #fIcon
As0 f3 mainOut f4 tail #connect
As0 f4 head f1 mainIn #connect
As0 f5 mainOut f16 tail #connect
As0 f16 head f12 in #connect
As0 f12 out f18 tail #connect
As0 f18 head f15 mainIn #connect
As0 f15 mainOut f19 tail #connect
As0 f19 head f17 mainIn #connect
As0 f21 mainOut f22 tail #connect
As0 f22 head f17 mainIn #connect
As0 f12 out f23 tail #connect
As0 f23 head f21 mainIn #connect
As0 f41 mainOut f45 tail #connect
As0 f45 head f42 in #connect
As0 f48 head f37 mainIn #connect
As0 f9 mainOut f50 tail #connect
As0 f50 head f49 mainIn #connect
As0 f30 mainOut f51 tail #connect
As0 f51 head f38 mainIn #connect
As0 f13 out f44 tail #connect
As0 f44 head f41 mainIn #connect
As0 f63 mainOut f66 tail #connect
As0 f66 head f64 in #connect
As0 f13 out f70 tail #connect
As0 f70 head f63 mainIn #connect
As0 f71 out f74 tail #connect
As0 f74 head f73 mainIn #connect
As0 f73 mainOut f52 tail #connect
As0 f52 head f34 mainIn #connect
As0 f71 out f75 tail #connect
As0 f75 head f34 mainIn #connect
As0 f78 out f80 tail #connect
As0 f80 head f79 mainIn #connect
As0 f79 mainOut f81 tail #connect
As0 f81 head f35 mainIn #connect
As0 f39 mainOut f82 tail #connect
As0 f82 head f78 in #connect
As0 f78 out f54 tail #connect
As0 f54 head f35 mainIn #connect
As0 f40 mainOut f86 tail #connect
As0 f86 head f85 in #connect
As0 f85 out f88 tail #connect
As0 f88 head f87 mainIn #connect
As0 f85 out f89 tail #connect
As0 f89 head f36 mainIn #connect
As0 f92 mainOut f94 tail #connect
As0 f94 head f71 in #connect
As0 f90 out f93 tail #connect
As0 f93 head f92 mainIn #connect
As0 f90 out f72 tail #connect
As0 f72 head f71 in #connect
As0 f0 mainOut f96 tail #connect
As0 f96 head f1 mainIn #connect
As0 f95 mainOut f2 tail #connect
As0 f2 head f3 mainIn #connect
As0 f97 mainOut f98 tail #connect
As0 f98 head f3 mainIn #connect
As0 f42 out f103 tail #connect
As0 f103 head f43 mainIn #connect
As0 f42 out f48 tail #connect
As0 f43 mainOut f46 tail #connect
As0 f46 head f101 mainIn #connect
As0 f65 mainOut f67 tail #connect
As0 f67 head f99 mainIn #connect
As0 f38 mainOut f104 tail #connect
As0 f104 head f68 in #connect
As0 f106 head f34 mainIn #connect
As0 f33 mainOut f107 tail #connect
As0 f107 head f105 in #connect
As0 f109 head f108 mainIn #connect
As0 f64 out f47 tail #connect
As0 f47 head f65 mainIn #connect
As0 f101 mainOut f110 tail #connect
As0 f110 head f100 mainIn #connect
As0 f100 mainOut f102 tail #connect
As0 f102 head f37 mainIn #connect
As0 f99 mainOut f111 tail #connect
As0 f111 head f100 mainIn #connect
As0 f64 out f62 tail #connect
As0 f62 head f37 mainIn #connect
As0 f69 out f61 tail #connect
As0 f61 head f13 in #connect
As0 f115 mainOut f6 tail #connect
As0 f6 head f7 mainIn #connect
As0 f68 out f24 tail #connect
As0 f24 head f14 mainIn #connect
As0 f68 out f106 tail #connect
As0 f14 mainOut f25 tail #connect
As0 f25 head f90 in #connect
As0 f87 mainOut f56 tail #connect
As0 f56 head f36 mainIn #connect
As0 f12 out f20 tail #connect
As0 f20 head f17 mainIn #connect
As0 f13 out f137 tail #connect
As0 f137 head f136 mainIn #connect
As0 f136 mainOut f144 tail #connect
As0 f144 head f143 in #connect
As0 f143 out f145 tail #connect
As0 f145 head f37 mainIn #connect
As0 f143 out f135 tail #connect
As0 f135 head f139 mainIn #connect
As0 f140 mainOut f146 tail #connect
As0 f146 head f100 mainIn #connect
As0 f149 mainOut f142 tail #connect
As0 f142 head f147 mainIn #connect
As0 f147 mainOut f154 tail #connect
As0 f154 head f153 in #connect
As0 f153 out f156 tail #connect
As0 f156 head f155 mainIn #connect
As0 f155 mainOut f157 tail #connect
As0 f157 head f148 mainIn #connect
As0 f153 out f151 tail #connect
As0 f151 head f148 mainIn #connect
As0 f161 mainOut f165 tail #connect
As0 f165 head f163 mainIn #connect
As0 f141 mainOut f166 tail #connect
As0 f166 head f162 mainIn #connect
As0 f57 mainOut f169 tail #connect
As0 f169 head f168 in #connect
As0 f168 out f10 tail #connect
As0 f10 head f115 mainIn #connect
As0 f125 mainOut f170 tail #connect
As0 f170 head f168 in #connect
As0 f168 out f126 tail #connect
As0 f126 head f8 mainIn #connect
As0 f7 mainOut f171 tail #connect
As0 f171 head f168 in #connect
As0 f49 mainOut f11 tail #connect
As0 f11 head f59 mainIn #connect
As0 f139 mainOut f26 tail #connect
As0 f26 head f140 mainIn #connect
As0 f159 mainOut f28 tail #connect
As0 f28 head f27 in #connect
As0 f27 out f29 tail #connect
As0 f29 head f161 mainIn #connect
As0 f27 out f60 tail #connect
As0 f60 head f58 mainIn #connect
As0 f58 mainOut f91 tail #connect
As0 f91 head f163 mainIn #connect
As0 f160 mainOut f117 tail #connect
As0 f117 head f116 in #connect
As0 f116 out f118 tail #connect
As0 f118 head f141 mainIn #connect
As0 f116 out f120 tail #connect
As0 f120 head f119 mainIn #connect
As0 f119 mainOut f123 tail #connect
As0 f123 head f122 mainIn #connect
As0 f122 mainOut f121 tail #connect
As0 f121 head f162 mainIn #connect
As0 f131 out f133 tail #connect
As0 f133 head f158 in #connect
As0 f131 out f134 tail #connect
As0 f134 head f167 mainIn #connect
As0 f158 out f173 tail #connect
As0 f173 head f164 mainIn #connect
As0 f158 out f178 tail #connect
As0 f178 head f167 mainIn #connect
As0 f164 mainOut f179 tail #connect
As0 f179 head f128 mainIn #connect
As0 f124 mainOut f182 tail #connect
As0 f182 head f181 mainIn #connect
As0 f181 mainOut f132 tail #connect
As0 f132 head f131 in #connect
As0 f128 mainOut f177 tail #connect
As0 f177 head f176 mainIn #connect
As0 f176 mainOut f130 tail #connect
As0 f130 head f127 mainIn #connect
As0 f167 mainOut f129 tail #connect
As0 f129 head f176 mainIn #connect
As0 f184 mainOut f185 tail #connect
As0 f185 head f38 mainIn #connect
As0 f186 mainOut f187 tail #connect
As0 f187 head f181 mainIn #connect
As0 f188 head f183 mainIn #connect
As0 f172 mainOut f189 tail #connect
As0 f189 head f175 in #connect
As0 f31 mainOut f174 tail #connect
As0 f174 head f175 in #connect
As0 f76 mainOut f77 tail #connect
As0 f77 head f39 mainIn #connect
As0 f175 out f180 tail #connect
As0 f180 head f76 mainIn #connect
As0 f175 out f188 tail #connect
As0 f150 mainOut f192 tail #connect
As0 f192 head f191 in #connect
As0 f53 mainOut f152 tail #connect
As0 f152 head f191 in #connect
As0 f191 out f190 tail #connect
As0 f190 head f149 mainIn #connect
As0 f191 out f194 tail #connect
As0 f194 head f193 mainIn #connect
As0 f195 mainOut f196 tail #connect
As0 f196 head f168 in #connect
As0 f197 mainOut f200 tail #connect
As0 f200 head f199 in #connect
As0 f32 mainOut f198 tail #connect
As0 f198 head f199 in #connect
As0 f199 out f84 tail #connect
As0 f84 head f83 mainIn #connect
As0 f199 out f202 tail #connect
As0 f202 head f201 mainIn #connect
As0 f83 mainOut f204 tail #connect
As0 f204 head f203 in #connect
As0 f203 out f55 tail #connect
As0 f55 head f40 mainIn #connect
As0 f203 out f206 tail #connect
As0 f206 head f205 mainIn #connect
As0 f207 mainOut f208 tail #connect
As0 f208 head f27 in #connect
As0 f209 mainOut f210 tail #connect
As0 f210 head f116 in #connect
As0 f27 out f211 tail #connect
As0 f211 head f163 mainIn #connect
As0 f116 out f212 tail #connect
As0 f212 head f162 mainIn #connect
As0 f213 mainOut f214 tail #connect
As0 f214 head f105 in #connect
As0 f13 out f216 tail #connect
As0 f216 head f215 mainIn #connect
As0 f215 mainOut f218 tail #connect
As0 f218 head f217 in #connect
As0 f222 head f100 mainIn #connect
As0 f13 out f138 tail #connect
As0 f138 head f37 mainIn #connect
As0 f219 mainOut f224 tail #connect
As0 f224 head f223 mainIn #connect
As0 f223 mainOut f221 tail #connect
As0 f221 head f100 mainIn #connect
As0 f217 out f227 tail #connect
As0 f227 head f226 mainIn #connect
As0 f217 out f222 tail #connect
As0 f226 mainOut f228 tail #connect
As0 f228 head f225 in #connect
As0 f229 mainOut f231 tail #connect
As0 f231 head f230 mainIn #connect
As0 f230 mainOut f233 tail #connect
As0 f233 head f232 mainIn #connect
As0 f234 mainOut f237 tail #connect
As0 f237 head f235 mainIn #connect
As0 f235 mainOut f238 tail #connect
As0 f238 head f236 mainIn #connect
As0 f239 mainOut f242 tail #connect
As0 f242 head f241 mainIn #connect
As0 f240 head f239 mainIn #connect
As0 f225 out f220 tail #connect
As0 f220 head f219 mainIn #connect
As0 f225 out f240 tail #connect
As0 f243 mainOut f245 tail #connect
As0 f245 head f244 mainIn #connect
As0 f244 mainOut f247 tail #connect
As0 f247 head f246 mainIn #connect
As0 f105 out f249 tail #connect
As0 f249 head f248 mainIn #connect
As0 f105 out f109 tail #connect
As0 f248 mainOut f112 tail #connect
As0 f112 head f69 in #connect
As0 f69 out f250 tail #connect
As0 f250 head f108 mainIn #connect
