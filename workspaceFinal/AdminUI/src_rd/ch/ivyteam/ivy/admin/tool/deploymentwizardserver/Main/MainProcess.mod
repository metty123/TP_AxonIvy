[Ivy]
[>Created: Mon Feb 22 10:43:43 ICT 2016]
13C6FDFE79C25BB9 3.18 #module
>Proto >Proto Collection #zClass
ds0 MainProcess Big #zClass
ds0 RD #cInfo
ds0 #process
ds0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
ds0 @TextInP .rdData2UIAction .rdData2UIAction #zField
ds0 @TextInP .resExport .resExport #zField
ds0 @TextInP .type .type #zField
ds0 @TextInP .processKind .processKind #zField
ds0 @AnnotationInP-0n ai ai #zField
ds0 @TextInP .xml .xml #zField
ds0 @TextInP .responsibility .responsibility #zField
ds0 @RichDialogInitStart f0 '' #zField
ds0 @RichDialogProcessEnd f1 '' #zField
ds0 @RichDialogProcessStep f8 '' #zField
ds0 @RichDialogProcessStart f10 '' #zField
ds0 @RichDialogProcessStart f13 '' #zField
ds0 @RichDialogProcessStart f2 '' #zField
ds0 @RichDialogProcessEnd f6 '' #zField
ds0 @RichDialogProcessStep f9 '' #zField
ds0 @RichDialogProcessStart f19 '' #zField
ds0 @RichDialogProcessStep f32 '' #zField
ds0 @RichDialogFireEvent f34 '' #zField
ds0 @PushWFArc f35 '' #zField
ds0 @Alternative f36 '' #zField
ds0 @PushWFArc f16 '' #zField
ds0 @RichDialogProcessStep f39 '' #zField
ds0 @Alternative f40 '' #zField
ds0 @PushWFArc f44 '' #zField
ds0 @PushWFArc f41 '' #zField
ds0 @PushWFArc f42 '' #zField
ds0 @RichDialog f45 '' #zField
ds0 @PushWFArc f46 '' #zField
ds0 @RichDialogEnd f47 '' #zField
ds0 @PushWFArc f48 '' #zField
ds0 @Alternative f4 '' #zField
ds0 @RichDialogFireEvent f25 '' #zField
ds0 @RichDialogProcessEnd f26 '' #zField
ds0 @PushWFArc f28 '' #zField
ds0 @RichDialogProcessStart f51 '' #zField
ds0 @RichDialogEnd f52 '' #zField
ds0 @RichDialogBroadcastStart f14 '' #zField
ds0 @RichDialogBroadcastStart f3 '' #zField
ds0 @PushWFArc f5 '' #zField
ds0 @PushWFArc f15 '' #zField
ds0 @PushWFArc f55 '' #zField
ds0 @PushWFArc f37 '' #zField
ds0 @Alternative f11 '' #zField
ds0 @PushWFArc f12 '' #zField
ds0 @PushWFArc f27 '' #zField
ds0 @PushWFArc f29 '' #zField
ds0 @RichDialogMethodStart f30 '' #zField
ds0 @RichDialogProcessEnd f31 '' #zField
ds0 @RichDialogProcessStep f43 '' #zField
ds0 @PushWFArc f49 '' #zField
ds0 @RichDialogProcessStep f50 '' #zField
ds0 @Alternative f57 '' #zField
ds0 @PushWFArc f58 '' #zField
ds0 @RichDialogProcessEnd f33 '' #zField
ds0 @RichDialogProcessStep f60 '' #zField
ds0 @RichDialogProcessStart f64 '' #zField
ds0 @RichDialogProcessEnd f65 '' #zField
ds0 @RichDialogProcessStart f67 '' #zField
ds0 @RichDialogProcessStart f69 '' #zField
ds0 @RichDialogProcessStart f71 '' #zField
ds0 @RichDialogProcessStart f73 '' #zField
ds0 @RichDialogProcessStart f75 '' #zField
ds0 @RichDialogMethodStart f77 '' #zField
ds0 @PushWFArc f17 '' #zField
ds0 @RichDialogMethodStart f62 '' #zField
ds0 @RichDialogProcessStep f79 '' #zField
ds0 @PushWFArc f80 '' #zField
ds0 @PushWFArc f78 '' #zField
ds0 @RichDialogProcessStep f81 '' #zField
ds0 @PushWFArc f82 '' #zField
ds0 @RichDialogBroadcastStart f83 '' #zField
ds0 @RichDialogProcessStep f87 '' #zField
ds0 @PushWFArc f88 '' #zField
ds0 @PushWFArc f22 '' #zField
ds0 @PushWFArc f84 '' #zField
ds0 @RichDialogProcessStart f91 '' #zField
ds0 @RichDialogProcessStep f95 '' #zField
ds0 @RichDialogProcessEnd f98 '' #zField
ds0 @PushWFArc f99 '' #zField
ds0 @RichDialogProcessStep f101 '' #zField
ds0 @PushWFArc f100 '' #zField
ds0 @RichDialogUiSync f104 '' #zField
ds0 @PushWFArc f105 '' #zField
ds0 @RichDialogProcessStep f106 '' #zField
ds0 @PushWFArc f107 '' #zField
ds0 @RichDialogUiSync f108 '' #zField
ds0 @PushWFArc f109 '' #zField
ds0 @PushWFArc f103 '' #zField
ds0 @RichDialogUiSync f110 '' #zField
ds0 @PushWFArc f111 '' #zField
ds0 @PushWFArc f38 '' #zField
ds0 @RichDialogUiSync f53 '' #zField
ds0 @RichDialogProcessStart f114 '' #zField
ds0 @PushWFArc f54 '' #zField
ds0 @RichDialogProcessStart f102 '' #zField
ds0 @RichDialogProcessStep f117 '' #zField
ds0 @PushWFArc f118 '' #zField
ds0 @RichDialogProcessStart f119 '' #zField
ds0 @RichDialogProcessStep f120 '' #zField
ds0 @PushWFArc f121 '' #zField
ds0 @RichDialogMethodStart f124 '' #zField
ds0 @PushWFArc f125 '' #zField
ds0 @RichDialogMethodStart f126 '' #zField
ds0 @PushWFArc f127 '' #zField
ds0 @RichDialogMethodStart f21 '' #zField
ds0 @RichDialogProcessStep f113 '' #zField
ds0 @PushWFArc f130 '' #zField
ds0 @RichDialogMethodStart f133 '' #zField
ds0 @RichDialogProcessStep f134 '' #zField
ds0 @PushWFArc f136 '' #zField
ds0 @RichDialogProcessStep f138 '' #zField
ds0 @PushWFArc f139 '' #zField
ds0 @PushWFArc f129 '' #zField
ds0 @RichDialogProcessStart f142 '' #zField
ds0 @RichDialogProcessStep f143 '' #zField
ds0 @PushWFArc f145 '' #zField
ds0 @RichDialogProcessStart f85 '' #zField
ds0 @RichDialogProcessStep f90 '' #zField
ds0 @PushWFArc f96 '' #zField
ds0 @RichDialogProcessStart f97 '' #zField
ds0 @RichDialogProcessEnd f147 '' #zField
ds0 @RichDialogProcessStep f149 '' #zField
ds0 @PushWFArc f150 '' #zField
ds0 @PushWFArc f86 '' #zField
ds0 @PushWFArc f89 '' #zField
ds0 @RichDialogProcessStep f148 '' #zField
ds0 @PushWFArc f151 '' #zField
ds0 @PushWFArc f76 '' #zField
ds0 @PushWFArc f94 '' #zField
ds0 @PushWFArc f115 '' #zField
ds0 @PushWFArc f92 '' #zField
ds0 @PushWFArc f93 '' #zField
ds0 @PushWFArc f112 '' #zField
ds0 @PushWFArc f116 '' #zField
ds0 @RichDialogProcessEnd f18 '' #zField
ds0 @PushWFArc f122 '' #zField
ds0 @Alternative f131 '' #zField
ds0 @RichDialogProcessStep f137 '' #zField
ds0 @PushWFArc f144 '' #zField
ds0 @PushWFArc f146 '' #zField
ds0 @RichDialogProcessStep f154 '' #zField
ds0 @PushWFArc f155 '' #zField
ds0 @PushWFArc f163 '' #zField
ds0 @RichDialogProcessStep f164 '' #zField
ds0 @PushWFArc f165 '' #zField
ds0 @PushWFArc f166 '' #zField
ds0 @PushWFArc f167 '' #zField
ds0 @PushWFArc f168 '' #zField
ds0 @RichDialogInitStart f7 '' #zField
ds0 @PushWFArc f123 '' #zField
ds0 @PushWFArc f156 '' #zField
ds0 @RichDialogProcessStep f63 '' #zField
ds0 @PushWFArc f128 '' #zField
ds0 @PushWFArc f68 '' #zField
ds0 @PushWFArc f141 '' #zField
ds0 @PushWFArc f66 '' #zField
ds0 @PushWFArc f72 '' #zField
ds0 @RichDialogMethodStart f70 '' #zField
ds0 @RichDialogProcessEnd f152 '' #zField
ds0 @RichDialogProcessStep f159 '' #zField
ds0 @PushWFArc f160 '' #zField
ds0 @RichDialogProcessStep f161 '' #zField
ds0 @PushWFArc f162 '' #zField
ds0 @PushWFArc f158 '' #zField
ds0 @RichDialogProcessStep f169 '' #zField
ds0 @PushWFArc f170 '' #zField
ds0 @PushWFArc f157 '' #zField
ds0 @RichDialogMethodStart f171 '' #zField
ds0 @PushWFArc f172 '' #zField
ds0 @RichDialogProcessStep f173 '' #zField
ds0 @PushWFArc f135 '' #zField
ds0 @RichDialogProcessEnd f153 '' #zField
ds0 @PushWFArc f178 '' #zField
ds0 @PushWFArc f74 '' #zField
ds0 @RichDialogProcessStart f24 '' #zField
ds0 @RichDialogProcessStep f176 '' #zField
ds0 @PushWFArc f177 '' #zField
ds0 @PushWFArc f179 '' #zField
ds0 @PushWFArc f56 '' #zField
ds0 @PushWFArc f59 '' #zField
ds0 @PushWFArc f174 '' #zField
ds0 @RichDialogProcessStart f186 '' #zField
ds0 @RichDialog f188 '' #zField
ds0 @PushWFArc f189 '' #zField
ds0 @Alternative f191 '' #zField
ds0 @PushWFArc f192 '' #zField
ds0 @PushWFArc f140 '' #zField
ds0 @PushWFArc f193 '' #zField
ds0 @PushWFArc f20 '' #zField
ds0 @PushWFArc f23 '' #zField
>Proto ds0 ds0 MainProcess #zField
ds0 f0 guid 13952358A1CF2B10 #txt
ds0 f0 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f0 method start() #txt
ds0 f0 disableUIEvents true #txt
ds0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
ds0 f0 outParameterDecl '<java.lang.Boolean willRefresh> result;
' #txt
ds0 f0 outParameterMapAction 'result.willRefresh=in.willRefresh;
' #txt
ds0 f0 embeddedRdInitializations '{/validationPanel {/fieldName "validationPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/targetSelectionPanel {/fieldName "targetSelectionPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/sourceSelectionPanel {/fieldName "sourceSelectionPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/deployPanel {/fieldName "deployPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/previewPanel {/fieldName "previewPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
ds0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
        <nameStyle>7,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f0 14 30 20 20 12 1 #rect
ds0 f0 @|RichDialogInitStartIcon #fIcon
ds0 f1 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f1 542 630 20 20 13 0 #rect
ds0 f1 @|RichDialogProcessEndIcon #fIcon
ds0 f8 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f8 actionTable 'out=in;
' #txt
ds0 f8 actionCode 'panel.setupCloseHandler();
panel.btnPrevious.setEnabled(false);
panel.btnFinish.setEnabled(false);
panel.btnNext.setEnabled(false);

panel.btnAbort.setVisible(false);

panel.CardPane.setSelectedComponent(panel.sourceSelectionPanel);
' #txt
ds0 f8 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f8 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set up GUI</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f8 334 508 36 24 20 -2 #rect
ds0 f8 @|RichDialogProcessStepIcon #fIcon
ds0 f10 guid 1397AB8C933C6360 #txt
ds0 f10 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f10 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f10 actionTable 'out=in;
' #txt
ds0 f10 actionCode 'panel.btnNext.setEnabled(false);
panel.targetSelectionPanel.disableDetailButton();' #txt
ds0 f10 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>disable 
Next button</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f10 1094 270 20 20 -31 -46 #rect
ds0 f10 @|RichDialogProcessStartIcon #fIcon
ds0 f13 guid 1397ABA5EB7AAD99 #txt
ds0 f13 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f13 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f13 actionTable 'out=in;
' #txt
ds0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>enable 
Next button</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f13 1422 270 20 20 -48 -50 #rect
ds0 f13 @|RichDialogProcessStartIcon #fIcon
ds0 f2 guid 13995D43AE33E0AC #txt
ds0 f2 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f2 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f2 actionTable 'out=in;
' #txt
ds0 f2 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Next button</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f2 934 270 20 20 -44 -34 #rect
ds0 f2 @|RichDialogProcessStartIcon #fIcon
ds0 f6 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f6 1094 590 20 20 13 0 #rect
ds0 f6 @|RichDialogProcessEndIcon #fIcon
ds0 f9 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f9 actionTable 'out=in;
' #txt
ds0 f9 actionCode 'panel.btnPrevious.setEnabled(true);
panel.btnNext.setEnabled(false);
panel.btnFinish.setEnabled(false);
in.isNextButtonClicked = true;
panel.startPollingTimer(in.isNextButtonClicked);

// if current panel is SourceSelection, move to TargetSelection 
panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Target"));

panel.targetSelectionPanel.reset();

panel.CardPane.setSelectedComponent(panel.targetSelectionPanel);
panel.targetSelectionPanel.disableDetailButton();
	
// transfer manual selection from Admin UI tree
panel.targetSelectionPanel.setAppsFromAdmin(in.appsFromAdmin);
panel.targetSelectionPanel.setPmsFromAdmin(in.pmsFromAdmin);
panel.targetSelectionPanel.setPmvsFromAdmin(in.pmvsFromAdmin);

// get available app list on server
in.apps = panel.targetSelectionPanel.getAvailableAppList();

// clean up app, pm, pmv from tree selection
//in.appsFromAdmin.clear();
//in.pmsFromAdmin.clear();
//in.pmvsFromAdmin.clear();' #txt
ds0 f9 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Target</name>
        <nameStyle>6,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f9 1606 1124 36 24 21 -2 #rect
ds0 f9 @|RichDialogProcessStepIcon #fIcon
ds0 f19 guid 1399A5A6EAF2F937 #txt
ds0 f19 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f19 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f19 actionTable 'out=in;
' #txt
ds0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Previous button</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f19 774 270 20 20 -54 -33 #rect
ds0 f19 @|RichDialogProcessStartIcon #fIcon
ds0 f32 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f32 actionTable 'out=in;
' #txt
ds0 f32 actionCode 'import java.util.UUID;
import ch.ivyteam.ivy.event.SystemEventCategory;
import ch.ivyteam.ivy.event.SystemEvent;

// register (will unregister automatically when panel is unloaded)
ivy.rd.subscribeToSystemEvents(SystemEventCategory.THIRD_PARTY);


in.isAnotherAppOpening = false;

// generate id for this panel
in.panelId = UUID.randomUUID().toString();' #txt
ds0 f32 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>register system event</name>
        <nameStyle>21
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f32 334 188 36 24 20 -2 #rect
ds0 f32 @|RichDialogProcessStepIcon #fIcon
ds0 f34 actionDecl 'String panelId;
' #txt
ds0 f34 actionTable 'panelId=in.panelId;
' #txt
ds0 f34 actionCode panel.fireNotifyOtherApps(panelId); #txt
ds0 f34 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f34 fireEvent notifyOtherApps(String) #txt
ds0 f34 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire notify event  to check 
whether app can be started</name>
        <nameStyle>55
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f34 334 284 36 24 -43 24 #rect
ds0 f34 @|RichDialogFireEventIcon #fIcon
ds0 f35 expr out #txt
ds0 f35 352 212 352 284 #arcP
ds0 f36 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f36 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check whether another app
is already opened?</name>
        <nameStyle>44
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f36 338 410 28 28 -56 4 #rect
ds0 f36 @|AlternativeIcon #fIcon
ds0 f16 expr in #txt
ds0 f16 outCond 'in.isAnotherAppOpening == false' #txt
ds0 f16 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f16 352 438 352 508 #arcP
ds0 f16 0 0.6410256410256411 10 0 #arcLabel
ds0 f39 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f39 actionTable 'out=in;
' #txt
ds0 f39 actionCode 'in.isAnotherAppOpening = true;' #txt
ds0 f39 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>another app is already opened</name>
        <nameStyle>29
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f39 526 284 36 24 -73 19 #rect
ds0 f39 @|RichDialogProcessStepIcon #fIcon
ds0 f40 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>current app is already opened
or just in starting process?</name>
        <nameStyle>58
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f40 530 186 28 28 -78 -55 #rect
ds0 f40 @|AlternativeIcon #fIcon
ds0 f44 expr in #txt
ds0 f44 outCond 'in.panelId.equals(in.receivedId) == true ' #txt
ds0 f44 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app is already opened, ignore event</name>
        <nameStyle>35
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f44 558 200 562 640 #arcP
ds0 f44 1 648 200 #addKink
ds0 f44 2 648 640 #addKink
ds0 f44 2 0.25925925925925924 0 12 #arcLabel
ds0 f41 expr in #txt
ds0 f41 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app is in start process</name>
        <nameStyle>23
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f41 544 214 544 284 #arcP
ds0 f41 0 0.37209302325581395 -3 1 #arcLabel
ds0 f42 expr out #txt
ds0 f42 544 308 366 424 #arcP
ds0 f42 1 544 424 #addKink
ds0 f42 1 0.25665875252167014 0 0 #arcLabel
ds0 f45 targetWindow NEW:card: #txt
ds0 f45 targetDisplay TOP #txt
ds0 f45 richDialogId ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ErrorDialog #txt
ds0 f45 startMethod start(String) #txt
ds0 f45 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f45 requestActionDecl '<String errorMessage> param;' #txt
ds0 f45 requestMappingAction 'param.errorMessage=ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/message/errorOpen2Instance");
' #txt
ds0 f45 responseActionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f45 responseMappingAction 'out=in;
' #txt
ds0 f45 windowConfiguration '{/title "<%=ivy.cms.co(\"/Dialogs/general/error\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
ds0 f45 isAsynch false #txt
ds0 f45 isInnerRd true #txt
ds0 f45 userContext '* ' #txt
ds0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show error dialog</name>
        <nameStyle>17
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f45 198 508 36 24 20 -2 #rect
ds0 f45 @|RichDialogIcon #fIcon
ds0 f46 expr in #txt
ds0 f46 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f46 338 424 216 508 #arcP
ds0 f46 1 216 424 #addKink
ds0 f46 1 0.5869565217391305 -12 0 #arcLabel
ds0 f47 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f47 guid 139C2C6F1DBA3F76 #txt
ds0 f47 206 630 20 20 13 0 #rect
ds0 f47 @|RichDialogEndIcon #fIcon
ds0 f48 expr out #txt
ds0 f48 216 532 216 630 #arcP
ds0 f4 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>this event is fired by current app?</name>
        <nameStyle>35
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f4 818 946 28 28 -62 -33 #rect
ds0 f4 @|AlternativeIcon #fIcon
ds0 f25 actionDecl 'String panelId;
' #txt
ds0 f25 actionTable 'panelId=in.panelId;
' #txt
ds0 f25 actionCode panel.fireConflictWithOtherApps(panelId); #txt
ds0 f25 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f25 fireEvent conflictWithOtherApps(String) #txt
ds0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fire conflict event </name>
        <nameStyle>20
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f25 966 1084 36 24 20 -2 #rect
ds0 f25 @|RichDialogFireEventIcon #fIcon
ds0 f26 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f26 822 1166 20 20 13 0 #rect
ds0 f26 @|RichDialogProcessEndIcon #fIcon
ds0 f28 expr out #txt
ds0 f28 984 1108 842 1176 #arcP
ds0 f28 1 984 1176 #addKink
ds0 f28 1 0.06816605961288365 0 0 #arcLabel
ds0 f51 guid 139C306607567908 #txt
ds0 f51 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f51 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f51 actionTable 'out=in;
' #txt
ds0 f51 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Cancel button</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f51 774 30 20 20 13 0 #rect
ds0 f51 @|RichDialogProcessStartIcon #fIcon
ds0 f52 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f52 guid 139C30685CE6B561 #txt
ds0 f52 1302 94 20 20 13 0 #rect
ds0 f52 @|RichDialogEndIcon #fIcon
ds0 f14 guid 139C3CFEE0A364A0 #txt
ds0 f14 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f14 broadcast conflictWithOtherApps #txt
ds0 f14 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f14 actionTable 'out=in;
out.receivedId=param.panelId;
' #txt
ds0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>conflictWithOtherApps</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f14 534 102 20 20 13 0 #rect
ds0 f14 @|RichDialogBroadcastStartIcon #fIcon
ds0 f3 guid 139C3D084E45758E #txt
ds0 f3 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f3 broadcast notifyOtherApps #txt
ds0 f3 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f3 actionTable 'out=in;
' #txt
ds0 f3 actionCode 'in.receivedId = param.panelId;

' #txt
ds0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>notifyOtherApps</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f3 822 854 20 20 13 0 #rect
ds0 f3 @|RichDialogBroadcastStartIcon #fIcon
ds0 f5 expr out #txt
ds0 f5 832 874 832 946 #arcP
ds0 f15 expr out #txt
ds0 f15 544 122 544 186 #arcP
ds0 f55 expr out #txt
ds0 f55 352 308 352 410 #arcP
ds0 f37 expr in #txt
ds0 f37 outCond 'in.panelId.equals(in.receivedId) == true' #txt
ds0 f37 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f37 818 960 822 1176 #arcP
ds0 f37 1 748 960 #addKink
ds0 f37 2 748 1176 #addKink
ds0 f37 2 0.18794346383558452 8 -9 #arcLabel
ds0 f11 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is current app is the opening app?</name>
        <nameStyle>34
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f11 970 1002 28 28 14 0 #rect
ds0 f11 @|AlternativeIcon #fIcon
ds0 f12 expr in #txt
ds0 f12 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f12 846 960 984 1002 #arcP
ds0 f12 1 984 960 #addKink
ds0 f12 0 0.5622585171171612 0 11 #arcLabel
ds0 f27 expr in #txt
ds0 f27 outCond 'in.isAnotherAppOpening == false' #txt
ds0 f27 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes, fire event to notify other apps</name>
        <nameStyle>36
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f27 984 1030 984 1084 #arcP
ds0 f29 expr in #txt
ds0 f29 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no, do nothing</name>
        <nameStyle>14
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f29 970 1016 832 1166 #arcP
ds0 f29 1 832 1016 #addKink
ds0 f29 0 0.7547169811320755 0 -11 #arcLabel
ds0 f30 guid 139D7781AC0432C3 #txt
ds0 f30 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f30 method terminate() #txt
ds0 f30 disableUIEvents false #txt
ds0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>terminate()</name>
    </language>
</elementInfo>
' #txt
ds0 f30 1614 62 20 20 13 0 #rect
ds0 f30 @|RichDialogMethodStartIcon #fIcon
ds0 f31 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f31 1806 286 20 20 13 0 #rect
ds0 f31 @|RichDialogProcessEndIcon #fIcon
ds0 f43 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f43 actionTable 'out=in;
' #txt
ds0 f43 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Validation.ValidationPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.SourceSelection.SourceSelectionPanel;

if (panel.CardPane.getSelectedComponent() instanceof SourceSelectionPanel) 
{
	panel.sourceSelectionPanel.cancelProjectExtraction();
} 
else if (panel.CardPane.getSelectedComponent() instanceof ValidationPanel) 
{
	panel.displayCancelButton();
	panel.validationPanel.stopCurrentProcess();
} 
else if (panel.CardPane.getSelectedComponent() instanceof DeployPanel) 
{
	panel.deployPanel.cancelDeploy();
}' #txt
ds0 f43 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f43 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>terminate running thread</name>
        <nameStyle>24,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f43 1606 156 36 24 20 -2 #rect
ds0 f43 @|RichDialogProcessStepIcon #fIcon
ds0 f49 expr out #txt
ds0 f49 1624 82 1624 156 #arcP
ds0 f50 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f50 actionTable 'out=in;
' #txt
ds0 f50 actionCode panel.terminate(); #txt
ds0 f50 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f50 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>terminate running process</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f50 1046 1836 36 24 20 -2 #rect
ds0 f50 @|RichDialogProcessStepIcon #fIcon
ds0 f57 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f57 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check enviroment whether to allow multiple instances</name>
        <nameStyle>52,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f57 202 98 28 28 -130 -34 #rect
ds0 f57 @|AlternativeIcon #fIcon
ds0 f58 expr out #txt
ds0 f58 33 43 206 108 #arcP
ds0 f33 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f33 1806 550 20 20 13 0 #rect
ds0 f33 @|RichDialogProcessEndIcon #fIcon
ds0 f60 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f60 actionTable 'out=in;
' #txt
ds0 f60 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.PanelEnum;

if (PanelEnum.PREVIEW_PANEL.name().equalsIgnoreCase(in.selectedPage))
{			
	panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Target"));
	panel.CardPane.setSelectedComponent(panel.targetSelectionPanel);	
	panel.targetSelectionPanel.setEnableNextButton();
} 
else if (PanelEnum.VALIDATION_PANEL.name().equalsIgnoreCase(in.selectedPage))
{
	panel.CardPane.setSelectedComponent(panel.previewPanel);
	panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Preview"));		
} 
else if (PanelEnum.TARGET_SELECTION_PANEL.name().equalsIgnoreCase(in.selectedPage))
{
	panel.CardPane.setSelectedComponent(panel.sourceSelectionPanel);	
	panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Source"));	
	panel.sourceSelectionPanel.setEnableNextButton();	
} 
else if (PanelEnum.DEPLOYMENT_PANEL.name().equalsIgnoreCase(in.selectedPage))
{
	panel.CardPane.setSelectedComponent(panel.validationPanel);	
	panel.validationPanel.setEnableNextButton();
	panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Validate"));
	panel.btnNext.setVisible(true);
}

panel.setEnabled(true);
panel.btnFinish.setEnabled(false);' #txt
ds0 f60 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set selected component
to card pane</name>
        <nameStyle>35,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f60 1606 484 36 24 26 -2 #rect
ds0 f60 @|RichDialogProcessStepIcon #fIcon
ds0 f64 guid 13A01EC46A2F90BE #txt
ds0 f64 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f64 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f64 actionTable 'out=in;
out.selectedPage=ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.PanelEnum.PREVIEW_PANEL.name();
' #txt
ds0 f64 actionCode 'out.isFromPreview = true;' #txt
ds0 f64 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fromPreviewMask</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f64 774 662 20 20 -26 -30 #rect
ds0 f64 @|RichDialogProcessStartIcon #fIcon
ds0 f65 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f65 934 798 20 20 13 0 #rect
ds0 f65 @|RichDialogProcessEndIcon #fIcon
ds0 f67 guid 13A023CB437420CE #txt
ds0 f67 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f67 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f67 actionTable 'out=in;
out.selectedPage=ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.PanelEnum.VALIDATION_PANEL.name();
' #txt
ds0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fromValidationMask</name>
        <nameStyle>18,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f67 934 662 20 20 -38 -31 #rect
ds0 f67 @|RichDialogProcessStartIcon #fIcon
ds0 f69 guid 13A023DC79965D43 #txt
ds0 f69 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f69 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f69 actionTable 'out=in;
out.selectedPage=ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.PanelEnum.TARGET_SELECTION_PANEL.name();
' #txt
ds0 f69 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fromTargetSelection</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f69 1086 662 20 20 -61 -29 #rect
ds0 f69 @|RichDialogProcessStartIcon #fIcon
ds0 f71 guid 13A24BFCBD6D35D8 #txt
ds0 f71 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f71 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f71 actionTable 'out=in;
out.selectedPage=ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.PanelEnum.DEPLOYMENT_PANEL.name();
' #txt
ds0 f71 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>fromDeployMask</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f71 1246 662 20 20 -41 -29 #rect
ds0 f71 @|RichDialogProcessStartIcon #fIcon
ds0 f73 guid 13A2A9EC4983CD70 #txt
ds0 f73 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f73 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f73 actionTable 'out=in;
' #txt
ds0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>enable
Finish button</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f73 1246 270 20 20 -39 -44 #rect
ds0 f73 @|RichDialogProcessStartIcon #fIcon
ds0 f75 guid 13A2EC981976C8D5 #txt
ds0 f75 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f75 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f75 actionTable 'out=in;
' #txt
ds0 f75 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Finish button</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f75 1150 30 20 20 13 0 #rect
ds0 f75 @|RichDialogProcessStartIcon #fIcon
ds0 f77 guid 13A3F6DB584A5C10 #txt
ds0 f77 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f77 method startMainTimerForPreviousButton() #txt
ds0 f77 disableUIEvents false #txt
ds0 f77 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startMainTimerForPreviousButton()</name>
    </language>
</elementInfo>
' #txt
ds0 f77 1614 406 20 20 -98 19 #rect
ds0 f77 @|RichDialogMethodStartIcon #fIcon
ds0 f17 expr out #txt
ds0 f17 1624 426 1624 484 #arcP
ds0 f62 guid 13A3F8F47DDB979C #txt
ds0 f62 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f62 method startMainTimerForNextButton() #txt
ds0 f62 disableUIEvents false #txt
ds0 f62 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
ds0 f62 outParameterDecl '<> result;
' #txt
ds0 f62 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startMainTimerForNextButton()</name>
        <nameStyle>29,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f62 1806 406 20 20 -71 19 #rect
ds0 f62 @|RichDialogMethodStartIcon #fIcon
ds0 f79 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f79 actionTable 'out=in;
' #txt
ds0 f79 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelection.TargetSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Preview.PreviewPanel;

if (panel.CardPane.getSelectedComponent() instanceof TargetSelectionPanel) {
	panel.targetSelectionPanel.setEnableNextButton();
} else if (panel.CardPane.getSelectedComponent() instanceof PreviewPanel) {
	panel.btnNext.setEnabled(true);
}' #txt
ds0 f79 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>enable Next button</name>
        <nameStyle>18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f79 1798 484 36 24 20 -2 #rect
ds0 f79 @|RichDialogProcessStepIcon #fIcon
ds0 f80 expr out #txt
ds0 f80 1816 426 1816 484 #arcP
ds0 f80 0 0.4978296253282244 0 0 #arcLabel
ds0 f78 expr out #txt
ds0 f78 1816 508 1816 550 #arcP
ds0 f78 0 0.5660077483222762 0 0 #arcLabel
ds0 f81 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f81 actionTable 'out=in;
' #txt
ds0 f81 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;

if (panel.CardPane.getSelectedComponent() instanceof DeployPanel)
{
	panel.btnFinish.setEnabled(true);
	panel.btnCancel.setEnabled(false);
	panel.btnPrevious.setEnabled(false);
}
' #txt
ds0 f81 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f81 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>enable Finish button
disable Cancel button
disable Previous button</name>
        <nameStyle>21,7
45,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f81 1238 364 36 24 20 -2 #rect
ds0 f81 @|RichDialogProcessStepIcon #fIcon
ds0 f82 expr out #txt
ds0 f82 1256 290 1256 364 #arcP
ds0 f82 0 0.5004903261879103 0 0 #arcLabel
ds0 f83 guid 13AC73238D828E5E #txt
ds0 f83 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f83 broadcast updateDetailInfo #txt
ds0 f83 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f83 actionTable 'out=in;
' #txt
ds0 f83 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;

in.projectsToDeploy.clear();
in.projectsToDeploy.addAll(param.projectInfoList.deepClone());

' #txt
ds0 f83 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateDeployInfo</name>
        <nameStyle>16,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f83 1150 854 20 20 13 0 #rect
ds0 f83 @|RichDialogBroadcastStartIcon #fIcon
ds0 f87 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f87 actionTable 'out=in;
' #txt
ds0 f87 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.LibraryUtil;
import ch.ivyteam.ivy.application.IProcessModel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelection.TargetSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.SourceSelection.SourceSelectionPanel;
import ch.ivyteam.ivy.application.IProcessModelVersion;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;
import ch.ivyteam.ivy.application.IApplication;

boolean applyManualSelection = panel.targetSelectionPanel.getApplyManualSelection();
panel.btnNext.setEnabled(true);
panel.targetSelectionPanel.enableDetailButton();

if (panel.CardPane.getSelectedComponent() instanceof TargetSelectionPanel && in.isFromPreview == false)
{
	in.projectsToDeploy.clear();
	
	List<IApplication> checkedApps = panel.targetSelectionPanel.getCheckedAppList();
	if (checkedApps != null && checkedApps.size() > 0) 
	{
		for (IApplication app: checkedApps) 
		{
			List<ProjectInfo> selectedProjectList = panel.sourceSelectionPanel.getSelectedProjectList();
			
			for (ProjectInfo item : selectedProjectList) 
			{
				ProjectInfo newItem = item.deepClone();
				newItem.setApplication(app.getName());
				
				// apply manual selection here
				if (applyManualSelection)
				{
					List<IProcessModel> pmsList = panel.targetSelectionPanel.getPmsFromAdmin();
					for (IProcessModel pm: pmsList)
					{
						if (pm.getApplication().getName().equals(app.getName()))
						{
							IProcessModelVersion matchingPmv = LibraryUtil.findLibrary(pm.getApplication(), newItem.getLibraryId(), newItem.getQualifiedProjectVersion());
							IProcessModelVersion matchingLibIdPmv = LibraryUtil.findLibraryWithMatchId(pm.getApplication(), newItem.getLibraryId());
							
							//only apply manual selection if not found any match pmv and match libId pmv
							if (matchingPmv == null && matchingLibIdPmv == null)
							{
								newItem.setProcessModel(pm.getName());			
							}
						}
					}
					
					List<IProcessModelVersion> pmvList = panel.targetSelectionPanel.getPmvsFromAdmin();
					for (IProcessModelVersion pmv: pmvList)
					{
						if (pmv.getApplication().getName().equals(app.getName()))
						{
							IProcessModelVersion matchingPmv = LibraryUtil.findLibrary(pmv.getApplication(), newItem.getLibraryId(), newItem.getQualifiedProjectVersion());
							IProcessModelVersion matchingLibIdPmv = LibraryUtil.findLibraryWithMatchId(pmv.getApplication(), newItem.getLibraryId());
							
							//only apply manual selection if not found any match pmv and match libId pmv
							if (matchingPmv == null && matchingLibIdPmv == null)
							{
								newItem.setProcessModel(pmv.getProcessModel().getName());		
								newItem.setProcessModelVersion(pmv.getVersionNumber());			
							}
						}
					}
					// don''t apply manual selection for the next time
					panel.targetSelectionPanel.setApplyManualSelction(false);
				}
				
				// XIVYADMUI-6: Activate/Release ALL buttons
				// Set default PM for PMVs to get default state and default release state
				String defaultPM = item.getProjectName();
						
				IProcessModelVersion matchingPmv = LibraryUtil.findLibrary(app, item.getLibraryId(), item.getQualifiedProjectVersion());
						
				// check if this project is already deployed to app 
				if (matchingPmv == null)
				{
					// check if there is pmv has same lib Id
					IProcessModelVersion matchingLibIdPmv = LibraryUtil.findLibraryWithMatchId(app, item.getLibraryId());
				
					if (matchingLibIdPmv != null)
					{
						defaultPM = matchingLibIdPmv.getProcessModel().getName();
						item.setProcessModel(defaultPM);
					}
				}
				else
				{						
					defaultPM = matchingPmv.getProcessModel().getName();
				}
				
				newItem.setProcessModel(defaultPM);
				in.projectsToDeploy.add(newItem);
			}
		}
	}

	for (int i = 0; i < in.projectsToDeploy.size(); i++) {
		for (ProjectInfo savedItem : panel.targetSelectionPanel.getDeployProjectList()) {
			if (savedItem.getApplication().equalsIgnoreCase(in.projectsToDeploy.get(i).getApplication())
				 	&& savedItem.getProjectName().equalsIgnoreCase(in.projectsToDeploy.get(i).getProjectName())
				 	&& savedItem.getQualifiedProjectVersion().equals(in.projectsToDeploy.get(i).getQualifiedProjectVersion())) {
				in.projectsToDeploy.set(i, savedItem);
				break;
			}
		}
	}

	// set deploy project list 
	panel.targetSelectionPanel.setDeployProjectList(in.projectsToDeploy);
	
	// set mask loaded
	panel.targetSelectionPanel.setMaskLoaded();	
}

in.isFromPreview = false;

if(panel.CardPane.getSelectedComponent() instanceof SourceSelectionPanel)
{
	panel.btnPrevious.setEnabled(false);
}' #txt
ds0 f87 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f87 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>enable Next, Detail button, 
set default data from Admin tree</name>
        <nameStyle>61,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f87 1414 492 36 24 -85 14 #rect
ds0 f87 @|RichDialogProcessStepIcon #fIcon
ds0 f88 expr out #txt
ds0 f88 1432 290 1432 492 #arcP
ds0 f88 0 0.506929388880755 0 0 #arcLabel
ds0 f22 expr out #txt
ds0 f22 1432 516 1114 600 #arcP
ds0 f22 1 1432 600 #addKink
ds0 f22 1 0.382964500889316 0 0 #arcLabel
ds0 f84 expr out #txt
ds0 f84 1160 874 842 1176 #arcP
ds0 f84 1 1160 1176 #addKink
ds0 f84 1 0.09409574925641798 0 0 #arcLabel
ds0 f91 guid 13B3F6824DBCD241 #txt
ds0 f91 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f91 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f91 actionTable 'out=in;
' #txt
ds0 f91 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateUIBeforeProgress</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f91 742 1214 20 20 13 0 #rect
ds0 f91 @|RichDialogProcessStartIcon #fIcon
ds0 f95 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f95 actionTable 'out=in;
' #txt
ds0 f95 actionCode panel.btnNext.setEnabled(false); #txt
ds0 f95 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f95 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>disable next button</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f95 734 1300 36 24 20 -2 #rect
ds0 f95 @|RichDialogProcessStepIcon #fIcon
ds0 f98 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f98 902 1638 20 20 13 0 #rect
ds0 f98 @|RichDialogProcessEndIcon #fIcon
ds0 f99 expr out #txt
ds0 f99 752 1234 752 1300 #arcP
ds0 f101 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f101 actionTable 'out=in;
' #txt
ds0 f101 actionCode panel.sourceSelectionPanel.refreshDisplayingProjects(); #txt
ds0 f101 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f101 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refresh display project</name>
        <nameStyle>23,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f101 734 1564 36 24 20 -2 #rect
ds0 f101 @|RichDialogProcessStepIcon #fIcon
ds0 f100 expr out #txt
ds0 f100 752 1588 902 1648 #arcP
ds0 f100 1 752 1648 #addKink
ds0 f100 1 0.08876061635898172 0 0 #arcLabel
ds0 f104 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f104 guid 13B3F79F5CECBC50 #txt
ds0 f104 739 1371 26 26 13 0 #rect
ds0 f104 @|RichDialogUiSyncIcon #fIcon
ds0 f105 expr out #txt
ds0 f105 752 1324 752 1371 #arcP
ds0 f106 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f106 actionTable 'out=in;
' #txt
ds0 f106 actionCode panel.displayAbortButton(); #txt
ds0 f106 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f106 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>display Abort button</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f106 734 1436 36 24 20 -2 #rect
ds0 f106 @|RichDialogProcessStepIcon #fIcon
ds0 f107 expr out #txt
ds0 f107 752 1397 752 1436 #arcP
ds0 f108 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f108 guid 13B401EF258F1C6B #txt
ds0 f108 739 1499 26 26 13 0 #rect
ds0 f108 @|RichDialogUiSyncIcon #fIcon
ds0 f109 expr out #txt
ds0 f109 752 1460 752 1499 #arcP
ds0 f103 expr out #txt
ds0 f103 752 1525 752 1564 #arcP
ds0 f110 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f110 guid 013B402DDB0DD940 #txt
ds0 f110 1611 227 26 26 13 0 #rect
ds0 f110 @|RichDialogUiSyncIcon #fIcon
ds0 f111 expr out #txt
ds0 f111 1624 180 1624 227 #arcP
ds0 f38 expr out #txt
ds0 f38 1624 253 1806 296 #arcP
ds0 f38 1 1624 296 #addKink
ds0 f38 1 0.20898362682551672 0 0 #arcLabel
ds0 f53 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f53 guid 13B407A596E6D5F9 #txt
ds0 f53 1731 1291 26 26 13 0 #rect
ds0 f53 @|RichDialogUiSyncIcon #fIcon
ds0 f114 guid 13B40CFAC511F827 #txt
ds0 f114 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f114 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f114 actionTable 'out=in;
' #txt
ds0 f114 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Abort button</name>
        <nameStyle>18,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f114 1054 1750 20 20 13 0 #rect
ds0 f114 @|RichDialogProcessStartIcon #fIcon
ds0 f54 expr out #txt
ds0 f54 1064 1770 1064 1836 #arcP
ds0 f102 guid 13B411DC0B1E8071 #txt
ds0 f102 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f102 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f102 actionTable 'out=in;
' #txt
ds0 f102 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>displayAbortButton</name>
        <nameStyle>18,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f102 902 1214 20 20 13 0 #rect
ds0 f102 @|RichDialogProcessStartIcon #fIcon
ds0 f117 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f117 actionTable 'out=in;
' #txt
ds0 f117 actionCode 'panel.btnAbort.setVisible(true);
panel.btnCancel.setVisible(false);' #txt
ds0 f117 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f117 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>display Abort button
&amp; hide Cancel button</name>
        <nameStyle>21,7
20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f117 894 1436 36 24 20 -2 #rect
ds0 f117 @|RichDialogProcessStepIcon #fIcon
ds0 f118 expr out #txt
ds0 f118 912 1234 912 1436 #arcP
ds0 f119 guid 13B411F8EDF774A0 #txt
ds0 f119 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f119 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f119 actionTable 'out=in;
' #txt
ds0 f119 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>displayCancelButton</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f119 1230 1206 20 20 13 0 #rect
ds0 f119 @|RichDialogProcessStartIcon #fIcon
ds0 f120 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f120 actionTable 'out=in;
' #txt
ds0 f120 actionCode 'panel.btnAbort.setVisible(false);
panel.btnCancel.setVisible(true);' #txt
ds0 f120 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f120 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>display Cancel button
&amp; hide Abort button</name>
        <nameStyle>41,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f120 1222 1428 36 24 20 -2 #rect
ds0 f120 @|RichDialogProcessStepIcon #fIcon
ds0 f121 expr out #txt
ds0 f121 1240 1226 1240 1428 #arcP
ds0 f124 guid 13B4156F8B14EE73 #txt
ds0 f124 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f124 method displayAbortButton() #txt
ds0 f124 disableUIEvents false #txt
ds0 f124 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>displayAbortButton()</name>
    </language>
</elementInfo>
' #txt
ds0 f124 1054 1302 20 20 13 0 #rect
ds0 f124 @|RichDialogMethodStartIcon #fIcon
ds0 f125 expr out #txt
ds0 f125 1064 1322 930 1448 #arcP
ds0 f125 1 1064 1448 #addKink
ds0 f125 1 0.06232087852269954 0 0 #arcLabel
ds0 f126 guid 13B415708825219A #txt
ds0 f126 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f126 method displayCancelButton() #txt
ds0 f126 disableUIEvents false #txt
ds0 f126 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>displayCancelButton()</name>
    </language>
</elementInfo>
' #txt
ds0 f126 1310 1302 20 20 13 0 #rect
ds0 f126 @|RichDialogMethodStartIcon #fIcon
ds0 f127 expr out #txt
ds0 f127 1320 1322 1258 1440 #arcP
ds0 f127 1 1320 1440 #addKink
ds0 f127 0 0.9796164601864588 0 0 #arcLabel
ds0 f21 guid 13B82C559615AE81 #txt
ds0 f21 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f21 method updateUIForValidation() #txt
ds0 f21 disableUIEvents false #txt
ds0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateUIForValidation()</name>
    </language>
</elementInfo>
' #txt
ds0 f21 1806 62 20 20 13 0 #rect
ds0 f21 @|RichDialogMethodStartIcon #fIcon
ds0 f113 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f113 actionTable 'out=in;
' #txt
ds0 f113 actionCode 'panel.firstFlowLayoutPane.setVisible(true);
panel.btnDetails.setVisible(true);
panel.btnCopy.setVisible(false);
panel.btnWriteToFile.setVisible(false);' #txt
ds0 f113 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f113 1798 156 36 24 20 -2 #rect
ds0 f113 @|RichDialogProcessStepIcon #fIcon
ds0 f130 expr out #txt
ds0 f130 1816 82 1816 156 #arcP
ds0 f133 guid 13B82C7497610E61 #txt
ds0 f133 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f133 method updateUIForDeploy() #txt
ds0 f133 disableUIEvents false #txt
ds0 f133 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>updateUIForDeploy()</name>
    </language>
</elementInfo>
' #txt
ds0 f133 1998 62 20 20 13 0 #rect
ds0 f133 @|RichDialogMethodStartIcon #fIcon
ds0 f134 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f134 actionTable 'out=in;
' #txt
ds0 f134 actionCode 'panel.firstFlowLayoutPane.setVisible(true);
panel.btnDetails.setVisible(false);
panel.btnCopy.setVisible(true);
panel.btnWriteToFile.setVisible(true);' #txt
ds0 f134 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f134 1990 156 36 24 20 -2 #rect
ds0 f134 @|RichDialogProcessStepIcon #fIcon
ds0 f136 expr out #txt
ds0 f136 2008 82 2008 156 #arcP
ds0 f138 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f138 actionTable 'out=in;
' #txt
ds0 f138 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.SourceSelection.SourceSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelection.TargetSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Preview.PreviewPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Validation.ValidationPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;

if (panel.CardPane.getSelectedComponent() instanceof SourceSelectionPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof TargetSelectionPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof PreviewPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof ValidationPanel) 
{
	panel.updateUIForValidation();	
} 
else if (panel.CardPane.getSelectedComponent() instanceof DeployPanel) 
{
	panel.updateUIForDeploy();	
}

' #txt
ds0 f138 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f138 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update GUI for
displayed mask</name>
        <nameStyle>29,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f138 1726 1204 36 24 20 -2 #rect
ds0 f138 @|RichDialogProcessStepIcon #fIcon
ds0 f139 expr out #txt
ds0 f139 1624 1148 1726 1216 #arcP
ds0 f139 1 1624 1216 #addKink
ds0 f139 1 0.4240480605386088 0 0 #arcLabel
ds0 f129 expr out #txt
ds0 f129 1744 1228 1744 1291 #arcP
ds0 f142 guid 13B8305D1BE496BD #txt
ds0 f142 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f142 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f142 actionTable 'out=in;
' #txt
ds0 f142 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Details button</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f142 1230 1750 20 20 13 0 #rect
ds0 f142 @|RichDialogProcessStartIcon #fIcon
ds0 f143 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f143 actionTable 'out=in;
' #txt
ds0 f143 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Validation.ValidationPanel;

if (panel.CardPane.getSelectedComponent() instanceof ValidationPanel) 
{
	panel.validationPanel.showValidationDetail();
}' #txt
ds0 f143 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show validation detail mask</name>
        <nameStyle>27
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f143 1222 1836 36 24 20 -2 #rect
ds0 f143 @|RichDialogProcessStepIcon #fIcon
ds0 f145 expr out #txt
ds0 f145 1240 1770 1240 1836 #arcP
ds0 f85 guid 13B8DDF410124D77 #txt
ds0 f85 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f85 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f85 actionTable 'out=in;
' #txt
ds0 f85 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Write to file btn</name>
        <nameStyle>23,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f85 742 1750 20 20 13 0 #rect
ds0 f85 @|RichDialogProcessStartIcon #fIcon
ds0 f90 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f90 actionTable 'out=in;
' #txt
ds0 f90 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.LogExportUtil;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;

if (panel.CardPane.getSelectedComponent() instanceof DeployPanel) 
{
	String logToExport = panel.deployPanel.getLogEntry();
	LogExportUtil.writeLogToFile(logToExport);
}
' #txt
ds0 f90 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f90 734 1836 36 24 20 -2 #rect
ds0 f90 @|RichDialogProcessStepIcon #fIcon
ds0 f96 expr out #txt
ds0 f96 752 1770 752 1836 #arcP
ds0 f97 guid 13B8DDFF5B3AAE46 #txt
ds0 f97 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f97 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f97 actionTable 'out=in;
' #txt
ds0 f97 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>click Copy btn</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f97 902 1750 20 20 13 0 #rect
ds0 f97 @|RichDialogProcessStartIcon #fIcon
ds0 f147 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f147 902 1926 20 20 13 0 #rect
ds0 f147 @|RichDialogProcessEndIcon #fIcon
ds0 f149 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f149 actionTable 'out=in;
' #txt
ds0 f149 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.LogExportUtil;

if (panel.CardPane.getSelectedComponent() instanceof DeployPanel) 
{
	String logToExport = panel.deployPanel.getLogEntry();
	LogExportUtil.copyLogToClipboard(logToExport);
}' #txt
ds0 f149 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f149 894 1836 36 24 20 -2 #rect
ds0 f149 @|RichDialogProcessStepIcon #fIcon
ds0 f150 expr out #txt
ds0 f150 912 1770 912 1836 #arcP
ds0 f86 expr out #txt
ds0 f86 752 1860 902 1936 #arcP
ds0 f86 1 752 1936 #addKink
ds0 f86 1 0.26676386558558546 0 0 #arcLabel
ds0 f89 expr out #txt
ds0 f89 912 1860 912 1926 #arcP
ds0 f89 0 0.26859751713702024 0 0 #arcLabel
ds0 f148 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f148 actionTable 'out=in;
' #txt
ds0 f148 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.GlobalVariable;
import org.apache.commons.io.FileUtils;

if(GlobalVariable.ENABLE_CLEAN_TEMPORARY_FILE_S_FUNCTION)
{
	// Delete folder which contains uploaded files
	String uploadFolderPath = panel.validationPanel.getUploadFolderPath();
	java.io.File uploadFolder = new java.io.File(uploadFolderPath);
	if (uploadFolder.exists())
	{
		FileUtils.deleteQuietly(uploadFolder);
	}
	
	// Delete folder which contains temporary extracted files
	java.io.File extractionFolder = new java.io.File(GlobalVariable.PROJECT_EXTRACTION_PATH);
	if (extractionFolder.exists())
	{
		FileUtils.deleteQuietly(new java.io.File(GlobalVariable.PROJECT_EXTRACTION_PATH));
	}
}

if (panel.CardPane.getSelectedComponent() instanceof DeployPanel)
{
	in.willRefresh = panel.deployPanel.getSuccessfulDeployedProjects() > 0 ? true : false;
}
else
{
	in.willRefresh = false;
}' #txt
ds0 f148 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f148 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clean up the
temporary file(s)</name>
        <nameStyle>13,7
17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f148 1142 92 36 24 20 -2 #rect
ds0 f148 @|RichDialogProcessStepIcon #fIcon
ds0 f151 expr out #txt
ds0 f151 1160 50 1160 92 #arcP
ds0 f151 0 0.31068051318776063 0 0 #arcLabel
ds0 f76 expr out #txt
ds0 f76 1178 104 1302 104 #arcP
ds0 f94 expr out #txt
ds0 f94 912 1460 912 1638 #arcP
ds0 f94 0 0.5047381889232756 0 0 #arcLabel
ds0 f115 expr out #txt
ds0 f115 1240 1452 922 1648 #arcP
ds0 f115 1 1240 1648 #addKink
ds0 f115 1 0.24153905096168832 0 0 #arcLabel
ds0 f92 expr out #txt
ds0 f92 1064 1860 922 1936 #arcP
ds0 f92 1 1064 1936 #addKink
ds0 f92 1 0.3454990744178364 0 0 #arcLabel
ds0 f93 expr out #txt
ds0 f93 1240 1860 922 1936 #arcP
ds0 f93 1 1240 1936 #addKink
ds0 f93 1 0.426928923319289 0 0 #arcLabel
ds0 f112 expr out #txt
ds0 f112 1816 180 1816 286 #arcP
ds0 f112 0 0.5075831199527245 0 0 #arcLabel
ds0 f116 expr out #txt
ds0 f116 2008 180 1826 296 #arcP
ds0 f116 1 2008 296 #addKink
ds0 f116 1 0.37631977206256567 0 0 #arcLabel
ds0 f18 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f18 1734 1350 20 20 13 0 #rect
ds0 f18 @|RichDialogProcessEndIcon #fIcon
ds0 f122 expr out #txt
ds0 f122 1744 1317 1744 1350 #arcP
ds0 f131 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f131 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>current mask?</name>
        <nameStyle>13,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f131 1730 938 28 28 14 0 #rect
ds0 f131 @|AlternativeIcon #fIcon
ds0 f137 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f137 actionTable 'out=in;
' #txt
ds0 f137 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.LibraryInfo;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelectionDetail.TargetSelectionDetailPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.LibraryUtil;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.common.GlobalVariable;
import java.util.Arrays;
import ch.ivyteam.ivy.application.ReleaseState;
import ch.ivyteam.ivy.application.ActivityState;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.RequireLibraryInfo;
import java.util.ArrayList;
import java.util.Iterator;
import ch.ivyteam.ivy.application.IApplication;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;

import ch.ivyteam.ivy.application.IProcessModelVersion;

panel.btnPrevious.setEnabled(true);
panel.btnNext.setEnabled(false);
panel.btnFinish.setEnabled(false);
in.isNextButtonClicked = true;
panel.startPollingTimer(in.isNextButtonClicked);

panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Preview"));

panel.previewPanel.reset();

panel.CardPane.setSelectedComponent(panel.previewPanel);
		
List<IApplication> appList = panel.targetSelectionPanel.getCheckedAppList();

// for each application
for (IApplication app: appList)
{		
	List<LibraryInfo> availableLibs = LibraryUtil.getAvailableLib(app, in.projectsToDeploy); 		
	// get each project info object to process
	for (ProjectInfo projectInfo : in.projectsToDeploy)
	{	
		if (app.getName().equals(projectInfo.getApplication()))
		{
			int defaultPMV = 1;
			String defaultPM = projectInfo.getProjectName();			
			
			// set default env as "Add"
			projectInfo.setEnvironment(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/labelName/add"));
			projectInfo.setEnvironmentTooltip(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/labelName/addWhenMissing"));
			
			String activeState = ActivityState.ACTIVE.name();
			String releaseState = ReleaseState.RELEASED.name();
						
			IProcessModelVersion matchingPmv = LibraryUtil.findLibrary(app, projectInfo.getLibraryId(), projectInfo.getQualifiedProjectVersion());
			IProcessModelVersion matchingLibIdPmv = null;
						
			// check if this project is already deployed to app 
			if (matchingPmv == null)
			{
				if (projectInfo.getProcessModel().isEmpty())
				{
					// check if there is pmv has same lib Id
					matchingLibIdPmv = LibraryUtil.findLibraryWithMatchId(app, projectInfo.getLibraryId());
				
					if (matchingLibIdPmv != null)
					{
						defaultPM = matchingLibIdPmv.getProcessModel().getName();
						projectInfo.setProcessModel(defaultPM);
					}
				}
			}
			else
			{						
				defaultPMV = matchingPmv.getVersionNumber();
				defaultPM = matchingPmv.getProcessModel().getName();
				projectInfo.setProcessModel(defaultPM);
				projectInfo.setProcessModelVersion(defaultPMV);
			}
			
			//set PM if it is not configured
			if (projectInfo.getProcessModel().isEmpty() || projectInfo.getProcessModel().equals(TargetSelectionDetailPanel.DEFAULT_ITEM))
			{															
				projectInfo.setProcessModel(defaultPM);
			}

			if (projectInfo.getRequireProjects().isEmpty() == false)
			{
				// if not find match version
				if (projectInfo.getRequireProjects().contains(GlobalVariable.ARROW) == false)
				{
					List<RequireLibraryInfo> projectRequiredLibs = projectInfo.getRequireProjects();
					LibraryUtil.createRequireLibTextAndToolTip(availableLibs, projectRequiredLibs, projectInfo);
				} 
			}
			
			// set default value only if not configured yet
			if (projectInfo.getProcessModelVersion() == 0)
			{
				Boolean newDeploy = true;
				String defaultPMVTooltip = ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmvNewDeployTooltip", 
													Arrays.asList(projectInfo.getLibraryId(), projectInfo.getQualifiedProjectVersion().toString(), String.valueOf(defaultPMV)));
													
				IProcessModelVersion searchPmv = app.findProcessModelVersion(projectInfo.getProcessModel() + GlobalVariable.PMV_NAME_DELIMITER + projectInfo.getProcessModelVersion());
								
				if (searchPmv != null)
				{
					// don''t accept pmv with different libId or pmv in deleted state
					if (searchPmv.getReleaseState().name().equals(ReleaseState.DELETED.name()) || 
						(searchPmv.getLibrary() != null && searchPmv.getLibrary().getId().equals(projectInfo.getLibraryId()) == false))
					{
						// find new number where we can create really new pmv
						defaultPMV = LibraryUtil.findNewPmvNumber(app, projectInfo.getProcessModel());
						defaultPMVTooltip = ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmvNewDeployTooltip", 
													Arrays.asList(projectInfo.getLibraryId(), projectInfo.getQualifiedProjectVersion().toString(), String.valueOf(defaultPMV)));
					}
					else 
					{
						defaultPMVTooltip = ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmvRedeployTooltip", 
													Arrays.asList(projectInfo.getLibraryId(), projectInfo.getQualifiedProjectVersion().toString(), String.valueOf(searchPmv.getVersionNumber())));
						newDeploy = false;
						// Set original state of activity and release
						projectInfo.setOriginalActivityState(searchPmv.getActivityState().name());
						projectInfo.setOriginalReleaseState(searchPmv.getReleaseState().name());							
					}					
				}			
			
				projectInfo.setProcessModelVersion(defaultPMV);
				projectInfo.setProcessModelVersionTooltip(defaultPMVTooltip);
				projectInfo.setNewlyDeployed(newDeploy);
			} 
			else 
			{
				// set tooltip
				IProcessModelVersion pmv = app.findProcessModelVersion(projectInfo.getProcessModel() + GlobalVariable.PMV_NAME_DELIMITER + projectInfo.getProcessModelVersion());
				if (pmv == null)
				{
					projectInfo.setProcessModelVersionTooltip(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmvNewDeployTooltip", 
													Arrays.asList(projectInfo.getLibraryId(), projectInfo.getQualifiedProjectVersion().toString(), String.valueOf(projectInfo.getProcessModelVersion()))));
					projectInfo.setNewlyDeployed(true);
				} 
				else 
				{
					projectInfo.setProcessModelVersionTooltip(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmvRedeployTooltip", 
													Arrays.asList(projectInfo.getLibraryId(), projectInfo.getQualifiedProjectVersion().toString(), String.valueOf(projectInfo.getProcessModelVersion()))));
					projectInfo.setNewlyDeployed(false);
					// Set original state of activity and release
					projectInfo.setOriginalActivityState(pmv.getActivityState().name());
					projectInfo.setOriginalReleaseState(pmv.getReleaseState().name());
				}
			}
			
			// set display PMV for Preview mask
			IProcessModelVersion searchPmv = app.findProcessModelVersion(projectInfo.getProcessModel() + GlobalVariable.PMV_NAME_DELIMITER + projectInfo.getProcessModelVersion());
			String displayPmv = "";
			if (searchPmv == null)
			{
				displayPmv = ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmv") + GlobalVariable.PMV_NAME_DELIMITER + projectInfo.getProcessModelVersion();
			}
			else
			{
				if (searchPmv.getLibrary() == null)
				{
					displayPmv = ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmv") + GlobalVariable.PMV_NAME_DELIMITER + searchPmv.getVersionNumber();
				}
				else
				{	
					displayPmv = ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/tableHeaderName/pmvTooltip", 
																				Arrays.asList(String.valueOf(searchPmv.getVersionNumber()), 
																											String.valueOf(searchPmv.getLibrary().getId()), 
																											String.valueOf(searchPmv.getLibrary().getQualifiedVersion()))
																	);		
				}
			}
			projectInfo.setDisplayPmv(displayPmv);
			
			// if active all is not checked			
			if (panel.targetSelectionPanel.getActivateAllStatus() == false)
			{
				if (panel.targetSelectionPanel.isUserChangeActivateAll()) {
					activeState = ActivityState.INACTIVE.name();
				} else {
					if (projectInfo.getActivity().isEmpty())
					{
						// search default state on server
						activeState = LibraryUtil.getDefaultActivityState(app, projectInfo.getProcessModel()).name();
					}
					else
					{
						activeState = projectInfo.getActivity();
					}
				}
			} 
			projectInfo.setActivity(activeState);
			
			// if release all is not checked			
			if (panel.targetSelectionPanel.getReleaseAllStatus() == false)
			{
				//XIVYADMUI-115: If pmv has original release and releaseAll is unchecked
				if (projectInfo.getOriginalReleaseState() != null && !projectInfo.getOriginalReleaseState().isEmpty()) {
					releaseState = projectInfo.getOriginalReleaseState();
				} else if (panel.targetSelectionPanel.isUserChangeReleaseAll()) {
					releaseState = ReleaseState.PREPARED.name();
				} else {
					if (projectInfo.getRelease().isEmpty())
					{
						// search default state on server
						releaseState = LibraryUtil.getDefaultReleaseState(app, projectInfo.getProcessModel()).name();
					}
					else
					{
						releaseState = projectInfo.getRelease();
					}
				}
			}
			projectInfo.setRelease(releaseState);
		}
	}
}

panel.previewPanel.setProjectsToDeploy(in.projectsToDeploy);

' #txt
ds0 f137 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f137 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Preview</name>
        <nameStyle>7,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f137 1726 1036 36 24 20 -2 #rect
ds0 f137 @|RichDialogProcessStepIcon #fIcon
ds0 f144 expr in #txt
ds0 f144 outCond 'panel.CardPane.getSelectedComponent() instanceof ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelection.TargetSelectionPanel' #txt
ds0 f144 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Target</name>
        <nameStyle>6
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f144 1744 966 1744 1036 #arcP
ds0 f146 expr out #txt
ds0 f146 1744 1060 1744 1204 #arcP
ds0 f154 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f154 actionTable 'out=in;
' #txt
ds0 f154 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;

panel.btnPrevious.setEnabled(true);
panel.btnNext.setEnabled(false); // this button will be enable again when Validation is finished
// Change the title of this btn from "Next" to "Deploy" on the Validation step
panel.btnNext.setText(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/buttonName/deploy"));
panel.btnFinish.setEnabled(false);
in.isNextButtonClicked = true;

panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Validate"));
panel.CardPane.setSelectedComponent(panel.validationPanel);

panel.validationPanel.reset();

panel.validationPanel.setApps(panel.targetSelectionPanel.getCheckedAppList());

// List project to validate, update PM and PMV info
List<ProjectInfo>	projectToValidate = panel.previewPanel.getProjectToDeploy();

for (ProjectInfo validateProject: projectToValidate)
{
	for (ProjectInfo item : in.projectsToDeploy)
	{
		if (validateProject.getProjectName().equals(item.getProjectName()) && validateProject.getQualifiedProjectVersion().equals(item.getQualifiedProjectVersion()))
		{						
			validateProject.setProcessModel(item.getProcessModel());
			validateProject.setProcessModelVersion(item.getProcessModelVersion());				
		}
	}
	// restore original path for project list
	validateProject.setProjectPath(validateProject.getOriginPath());
	
}
	
panel.validationPanel.setListProjectToDeploy(projectToValidate);
	
boolean isNeedUploadFile = panel.sourceSelectionPanel.isFromServer() ? false : true;
panel.displayAbortButton();
panel.validationPanel.validate(isNeedUploadFile);
' #txt
ds0 f154 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f154 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Validation</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f154 1846 1036 36 24 20 -2 #rect
ds0 f154 @|RichDialogProcessStepIcon #fIcon
ds0 f155 expr in #txt
ds0 f155 outCond 'panel.CardPane.getSelectedComponent() instanceof ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Preview.PreviewPanel' #txt
ds0 f155 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Preview</name>
        <nameStyle>7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f155 1758 952 1864 1036 #arcP
ds0 f155 1 1864 952 #addKink
ds0 f155 1 0.5394736842105263 1 0 #arcLabel
ds0 f163 expr out #txt
ds0 f163 1864 1060 1762 1216 #arcP
ds0 f163 1 1864 1216 #addKink
ds0 f163 1 0.13281077729540702 0 0 #arcLabel
ds0 f164 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f164 actionTable 'out=in;
' #txt
ds0 f164 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;

panel.setTitle(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/deploymentWizard_Deploy"));
// Change text of this btn back to "Next"
panel.btnNext.setText(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/buttonName/next"));

in.isNextButtonClicked = true;	
// update path for deploy project list
if (panel.sourceSelectionPanel.isFromServer() == false)
{
	List<ProjectInfo>	validatedProjectList = panel.validationPanel.getValidatedProjects();
		
	for (ProjectInfo itemDeploy : in.projectsToDeploy)
	{
		for (ProjectInfo item : validatedProjectList)
		{
			if (itemDeploy.getProjectName().equals(item.getProjectName()) && itemDeploy.getQualifiedProjectVersion().equals(item.getQualifiedProjectVersion()))
			{				
				itemDeploy.setProjectPath(item.getProjectPath());
			}
		}
	}
}

panel.CardPane.setSelectedComponent(panel.deployPanel);
panel.btnNext.setEnabled(false);
panel.btnFinish.setEnabled(false);
panel.btnPrevious.setEnabled(false);
	
panel.deployPanel.setProjectList(panel.validationPanel.getValidatedProjects());
panel.deployPanel.setAppList(panel.targetSelectionPanel.getCheckedAppList().deepClone());
panel.displayAbortButton();
panel.deployPanel.deploy();' #txt
ds0 f164 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f164 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Deployment</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f164 1966 1036 36 24 20 -2 #rect
ds0 f164 @|RichDialogProcessStepIcon #fIcon
ds0 f165 expr in #txt
ds0 f165 outCond 'panel.CardPane.getSelectedComponent() instanceof ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Validation.ValidationPanel' #txt
ds0 f165 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Validation</name>
        <nameStyle>10
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f165 1758 952 1984 1036 #arcP
ds0 f165 1 1984 952 #addKink
ds0 f165 1 0.5394736842105263 3 0 #arcLabel
ds0 f166 expr out #txt
ds0 f166 1984 1060 1762 1216 #arcP
ds0 f166 1 1984 1216 #addKink
ds0 f166 1 0.3077014316564197 0 0 #arcLabel
ds0 f167 expr in #txt
ds0 f167 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>other</name>
        <nameStyle>5
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f167 1758 952 1754 1360 #arcP
ds0 f167 1 2088 952 #addKink
ds0 f167 2 2088 1360 #addKink
ds0 f167 1 0.12 2 0 #arcLabel
ds0 f168 expr out #txt
ds0 f168 352 532 542 640 #arcP
ds0 f168 1 352 640 #addKink
ds0 f168 1 0.21093776887249038 0 0 #arcLabel
ds0 f7 guid 13C8EA7DA2321CA8 #txt
ds0 f7 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f7 method startWithSelection(List<ch.ivyteam.ivy.application.IApplication>,List<ch.ivyteam.ivy.application.IProcessModel>,List<ch.ivyteam.ivy.application.IProcessModelVersion>) #txt
ds0 f7 disableUIEvents true #txt
ds0 f7 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<List<ch.ivyteam.ivy.application.IApplication> appsFromAdmin,List<ch.ivyteam.ivy.application.IProcessModel> pmsFromAdmin,List<ch.ivyteam.ivy.application.IProcessModelVersion> pmvsFromAdmin> param = methodEvent.getInputArguments();
' #txt
ds0 f7 inActionCode 'out.appsFromAdmin.clear();
out.pmsFromAdmin.clear();
out.pmvsFromAdmin.clear();

out.appsFromAdmin.addAll(param.appsFromAdmin);
out.pmsFromAdmin.addAll(param.pmsFromAdmin);
out.pmvsFromAdmin.addAll(param.pmvsFromAdmin);' #txt
ds0 f7 outParameterDecl '<java.lang.Boolean willRefresh> result;
' #txt
ds0 f7 outParameterMapAction 'result.willRefresh=in.willRefresh;
' #txt
ds0 f7 embeddedRdInitializations '{/validationPanel {/fieldName "validationPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/targetSelectionPanel {/fieldName "targetSelectionPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/sourceSelectionPanel {/fieldName "sourceSelectionPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/deployPanel {/fieldName "deployPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }/previewPanel {/fieldName "previewPanel"/startMethod "start()"/parameterMapping ""/initScript ""/userContext * }}' #txt
ds0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>startWithSelection(List&lt;IApplication&gt;,List&lt;IProcessModel&gt;,List&lt;IProcessModelVersion&gt;)</name>
        <nameStyle>85,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f7 286 30 20 20 -99 11 #rect
ds0 f7 @|RichDialogInitStartIcon #fIcon
ds0 f123 expr out #txt
ds0 f123 288 46 223 105 #arcP
ds0 f156 expr out #txt
ds0 f156 1624 508 1806 560 #arcP
ds0 f156 1 1624 560 #addKink
ds0 f156 1 0.33662602839216743 0 0 #arcLabel
ds0 f63 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f63 actionTable 'out=in;
' #txt
ds0 f63 actionCode panel.setRunning(false); #txt
ds0 f63 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f63 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set running false (everything is ready to switch mask)</name>
        <nameStyle>54,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f63 926 732 36 24 20 -2 #rect
ds0 f63 @|RichDialogProcessStepIcon #fIcon
ds0 f128 expr out #txt
ds0 f128 944 682 944 732 #arcP
ds0 f68 expr out #txt
ds0 f68 944 756 944 798 #arcP
ds0 f141 expr out #txt
ds0 f141 784 682 926 744 #arcP
ds0 f141 1 784 744 #addKink
ds0 f141 1 0.02667855209830764 0 0 #arcLabel
ds0 f66 expr out #txt
ds0 f66 1256 682 962 744 #arcP
ds0 f66 1 1256 744 #addKink
ds0 f66 1 0.3009902041587495 0 0 #arcLabel
ds0 f72 expr out #txt
ds0 f72 1096 682 962 744 #arcP
ds0 f72 1 1096 744 #addKink
ds0 f72 0 0.8914611445655023 0 0 #arcLabel
ds0 f70 guid 13D24D70FCBB2215 #txt
ds0 f70 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f70 method clickPreviousBtn() #txt
ds0 f70 disableUIEvents true #txt
ds0 f70 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
ds0 f70 outParameterDecl '<> result;
' #txt
ds0 f70 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clickPreviousBtn</name>
        <nameStyle>16,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f70 1614 614 20 20 13 0 #rect
ds0 f70 @|RichDialogMethodStartIcon #fIcon
ds0 f152 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f152 1614 806 20 20 13 0 #rect
ds0 f152 @|RichDialogProcessEndIcon #fIcon
ds0 f159 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f159 actionTable 'out=in;
' #txt
ds0 f159 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.SourceSelection.SourceSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelection.TargetSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Preview.PreviewPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Validation.ValidationPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;

if (panel.CardPane.getSelectedComponent() instanceof SourceSelectionPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof TargetSelectionPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof PreviewPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof ValidationPanel) 
{
	panel.firstFlowLayoutPane.setVisible(false);	
} 
else if (panel.CardPane.getSelectedComponent() instanceof DeployPanel) 
{
	panel.updateUIForValidation();
}' #txt
ds0 f159 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f159 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update GUI for
displayed mask</name>
        <nameStyle>29,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f159 1606 676 36 24 20 -2 #rect
ds0 f159 @|RichDialogProcessStepIcon #fIcon
ds0 f160 expr out #txt
ds0 f160 1624 634 1624 676 #arcP
ds0 f161 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f161 actionTable 'out=in;
' #txt
ds0 f161 actionCode 'import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.TargetSelection.TargetSelectionPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Validation.ValidationPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Preview.PreviewPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Deploy.DeployPanel;
import ch.ivyteam.ivy.admin.tool.deploymentwizardserver.ProjectInfo;

in.isNextButtonClicked = false;
panel.startPollingTimer(in.isNextButtonClicked);

//disable all btn while application is processing
panel.btnNext.setEnabled(false);
panel.btnFinish.setEnabled(false);
panel.btnCancel.setEnabled(false);
panel.setEnabled(false);	

if (panel.CardPane.getSelectedComponent() instanceof TargetSelectionPanel) 
{
	panel.targetSelectionPanel.storeSelectedApps();
	
	// if current panel is TargetSelection, back to SourceSelection panel
	panel.sourceSelectionPanel.previousBtnClicked();
} 
else if(panel.CardPane.getSelectedComponent() instanceof PreviewPanel)
{
	// if current panel is PreviewPanel, back to TargetSelectionPanel panel
	panel.targetSelectionPanel.previousBtnClicked();
} 
else if(panel.CardPane.getSelectedComponent() instanceof ValidationPanel)
{
	panel.terminate();
	// Change text of this btn back to "Next"
	panel.btnNext.setText(ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/component/buttonName/next"));
	// if current panel is ValidationPanel, back to Preview panel
	panel.previewPanel.previousBtnClicked();
} 
else if (panel.CardPane.getSelectedComponent() instanceof DeployPanel)
{
	panel.terminate();
	
	// if current panel is DeployPanel, back to ValidationPanel panel
	panel.validationPanel.previousBtnClicked();
}
' #txt
ds0 f161 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f161 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>move to previous panel
&amp; terminate running process</name>
        <nameStyle>50,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f161 1606 740 36 24 20 -2 #rect
ds0 f161 @|RichDialogProcessStepIcon #fIcon
ds0 f162 expr out #txt
ds0 f162 1624 700 1624 740 #arcP
ds0 f158 expr out #txt
ds0 f158 1624 764 1624 806 #arcP
ds0 f169 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f169 actionTable 'out=in;
' #txt
ds0 f169 actionCode panel.clickPreviousBtn(); #txt
ds0 f169 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>call method</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f169 766 340 36 24 20 -2 #rect
ds0 f169 @|RichDialogProcessStepIcon #fIcon
ds0 f170 expr out #txt
ds0 f170 784 290 784 340 #arcP
ds0 f157 expr out #txt
ds0 f157 784 364 1094 600 #arcP
ds0 f157 1 784 600 #addKink
ds0 f157 1 0.3229252119945743 0 0 #arcLabel
ds0 f171 guid 13D24F3EE34E6EA2 #txt
ds0 f171 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f171 method clickNextBtn() #txt
ds0 f171 disableUIEvents true #txt
ds0 f171 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
ds0 f171 outParameterDecl '<> result;
' #txt
ds0 f171 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clickNextBtn</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f171 1734 870 20 20 13 0 #rect
ds0 f171 @|RichDialogMethodStartIcon #fIcon
ds0 f172 expr out #txt
ds0 f172 1744 890 1744 938 #arcP
ds0 f173 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f173 actionTable 'out=in;
' #txt
ds0 f173 actionCode panel.clickNextBtn(); #txt
ds0 f173 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f173 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>call method</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f173 926 340 36 24 20 -2 #rect
ds0 f173 @|RichDialogProcessStepIcon #fIcon
ds0 f135 expr out #txt
ds0 f135 944 364 1094 600 #arcP
ds0 f135 1 944 600 #addKink
ds0 f135 0 0.8266402708960098 0 0 #arcLabel
ds0 f153 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f153 774 158 20 20 13 0 #rect
ds0 f153 @|RichDialogProcessEndIcon #fIcon
ds0 f178 expr out #txt
ds0 f178 1256 388 1114 600 #arcP
ds0 f178 1 1256 600 #addKink
ds0 f178 0 0.9123965210361186 0 0 #arcLabel
ds0 f74 expr out #txt
ds0 f74 1104 290 1104 590 #arcP
ds0 f74 0 0.7616410718201295 0 0 #arcLabel
ds0 f24 guid 13D7C437392B0064 #txt
ds0 f24 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f24 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f24 actionTable 'out=in;
' #txt
ds0 f24 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clear selection from admin tree</name>
        <nameStyle>31,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f24 910 2102 20 20 13 0 #rect
ds0 f24 @|RichDialogProcessStartIcon #fIcon
ds0 f176 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f176 actionTable 'out=in;
' #txt
ds0 f176 actionCode '// clean up app, pm, pmv from tree selection
in.appsFromAdmin.clear();
in.pmsFromAdmin.clear();
in.pmvsFromAdmin.clear();' #txt
ds0 f176 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f176 894 2012 36 24 20 -2 #rect
ds0 f176 @|RichDialogProcessStepIcon #fIcon
ds0 f177 expr out #txt
ds0 f177 919 2102 913 2036 #arcP
ds0 f179 expr out #txt
ds0 f179 930 2024 922 1936 #arcP
ds0 f179 1 976 2024 #addKink
ds0 f179 2 976 1936 #addKink
ds0 f179 1 0.5454545454545454 0 0 #arcLabel
ds0 f56 expr in #txt
ds0 f56 outCond 'ivy.var.get("allowMultipleDeploymentInstances") != null && ivy.var.get("allowMultipleDeploymentInstances").equals("true")' #txt
ds0 f56 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f56 202 112 342 532 #arcP
ds0 f56 1 96 112 #addKink
ds0 f56 2 96 704 #addKink
ds0 f56 3 192 704 #addKink
ds0 f56 0 0.5094339622641509 0 8 #arcLabel
ds0 f59 expr in #txt
ds0 f59 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>No</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f59 230 112 352 188 #arcP
ds0 f59 1 352 112 #addKink
ds0 f59 0 0.3442622950819672 0 9 #arcLabel
ds0 f174 expr out #txt
ds0 f174 944 290 944 340 #arcP
ds0 f174 0 0.5046229682143474 0 0 #arcLabel
ds0 f186 guid 13DAF3183DB374EA #txt
ds0 f186 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f186 actionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f186 actionTable 'out=in;
' #txt
ds0 f186 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>hidden_closeDeplWiz</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f186 942 30 20 20 13 0 #rect
ds0 f186 @|RichDialogProcessStartIcon #fIcon
ds0 f188 targetWindow NEW:card: #txt
ds0 f188 targetDisplay TOP #txt
ds0 f188 richDialogId ch.ivyteam.ivy.commondialogs.QuestionDialog #txt
ds0 f188 startMethod askQuestionWithTitle(String,String,String,List<String>,String) #txt
ds0 f188 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f188 requestActionDecl '<String icon, String questionTitle, String questionText, List<String> buttons, String defaultButton> param;' #txt
ds0 f188 requestMappingAction 'param.questionText=ivy.cms.co("/ch/ivyteam/ivy/server/deploymentWizard/message/closedeploymentWizard");
param.buttons=["yes", "no"];
param.defaultButton="no";
' #txt
ds0 f188 responseActionDecl 'ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData out;
' #txt
ds0 f188 responseMappingAction 'out=in;
out.isClose=result.pressedButton;
' #txt
ds0 f188 windowConfiguration '{/title "<%=ivy.cms.co(\"/ch/ivyteam/ivy/server/deploymentWizard/dialogTitle/confirmCloseDialog\")%>"/width 0 /height 0 /centered true /resizable true /maximized false /close_after_last_rd true }' #txt
ds0 f188 isAsynch false #txt
ds0 f188 isInnerRd true #txt
ds0 f188 userContext '* ' #txt
ds0 f188 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>confirm Dialog</name>
        <nameStyle>14,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f188 854 92 36 24 -24 -37 #rect
ds0 f188 @|RichDialogIcon #fIcon
ds0 f189 expr out #txt
ds0 f189 952 50 890 104 #arcP
ds0 f189 1 952 104 #addKink
ds0 f189 1 0.005734134575267934 0 0 #arcLabel
ds0 f191 type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
ds0 f191 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is close deployment wizard</name>
        <nameStyle>26,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f191 858 154 28 28 7 -27 #rect
ds0 f191 @|AlternativeIcon #fIcon
ds0 f192 expr out #txt
ds0 f192 872 116 872 154 #arcP
ds0 f140 expr in #txt
ds0 f140 outCond in.isClose.equalsIgnoreCase("yes") #txt
ds0 f140 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f140 886 168 1160 116 #arcP
ds0 f140 1 1160 168 #addKink
ds0 f140 0 0.5517241379310345 0 12 #arcLabel
ds0 f193 expr in #txt
ds0 f193 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>No</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f193 858 168 794 168 #arcP
ds0 f193 0 0.375 0 -13 #arcLabel
ds0 f20 expr out #txt
ds0 f20 784 50 854 104 #arcP
ds0 f20 1 784 104 #addKink
ds0 f20 1 0.1227720859148132 0 0 #arcLabel
ds0 f23 expr in #txt
ds0 f23 outCond 'panel.CardPane.getSelectedComponent() instanceof ch.ivyteam.ivy.admin.tool.deploymentwizardserver.SourceSelection.SourceSelectionPanel' #txt
ds0 f23 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Source</name>
        <nameStyle>6
</nameStyle>
    </language>
</elementInfo>
' #txt
ds0 f23 1730 952 1624 1124 #arcP
ds0 f23 1 1624 952 #addKink
ds0 f23 1 0.47058823529411764 -1 0 #arcLabel
>Proto ds0 .type ch.ivyteam.ivy.admin.tool.deploymentwizardserver.Main.MainData #txt
>Proto ds0 .processKind RICH_DIALOG #txt
>Proto ds0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>Starts</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel>Method</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>688</swimlaneSize>
    <swimlaneSize>888</swimlaneSize>
    <swimlaneSize>576</swimlaneSize>
    <swimlaneColor>-10040065</swimlaneColor>
    <swimlaneColor>-10066177</swimlaneColor>
    <swimlaneColor>-39322</swimlaneColor>
</elementInfo>
' #txt
>Proto ds0 -8 -8 16 16 16 26 #rect
>Proto ds0 '' #fIcon
ds0 f32 mainOut f35 tail #connect
ds0 f35 head f34 mainIn #connect
ds0 f36 out f16 tail #connect
ds0 f16 head f8 mainIn #connect
ds0 f40 out f44 tail #connect
ds0 f44 head f1 mainIn #connect
ds0 f40 out f41 tail #connect
ds0 f41 head f39 mainIn #connect
ds0 f39 mainOut f42 tail #connect
ds0 f42 head f36 in #connect
ds0 f36 out f46 tail #connect
ds0 f46 head f45 mainIn #connect
ds0 f45 mainOut f48 tail #connect
ds0 f48 head f47 mainIn #connect
ds0 f25 mainOut f28 tail #connect
ds0 f28 head f26 mainIn #connect
ds0 f3 mainOut f5 tail #connect
ds0 f5 head f4 in #connect
ds0 f14 mainOut f15 tail #connect
ds0 f15 head f40 in #connect
ds0 f34 mainOut f55 tail #connect
ds0 f55 head f36 in #connect
ds0 f4 out f37 tail #connect
ds0 f37 head f26 mainIn #connect
ds0 f4 out f12 tail #connect
ds0 f12 head f11 in #connect
ds0 f11 out f27 tail #connect
ds0 f27 head f25 mainIn #connect
ds0 f11 out f29 tail #connect
ds0 f29 head f26 mainIn #connect
ds0 f30 mainOut f49 tail #connect
ds0 f49 head f43 mainIn #connect
ds0 f0 mainOut f58 tail #connect
ds0 f58 head f57 in #connect
ds0 f77 mainOut f17 tail #connect
ds0 f17 head f60 mainIn #connect
ds0 f62 mainOut f80 tail #connect
ds0 f80 head f79 mainIn #connect
ds0 f79 mainOut f78 tail #connect
ds0 f78 head f33 mainIn #connect
ds0 f73 mainOut f82 tail #connect
ds0 f82 head f81 mainIn #connect
ds0 f13 mainOut f88 tail #connect
ds0 f88 head f87 mainIn #connect
ds0 f87 mainOut f22 tail #connect
ds0 f22 head f6 mainIn #connect
ds0 f83 mainOut f84 tail #connect
ds0 f84 head f26 mainIn #connect
ds0 f91 mainOut f99 tail #connect
ds0 f99 head f95 mainIn #connect
ds0 f101 mainOut f100 tail #connect
ds0 f100 head f98 mainIn #connect
ds0 f95 mainOut f105 tail #connect
ds0 f105 head f104 mainIn #connect
ds0 f104 mainOut f107 tail #connect
ds0 f107 head f106 mainIn #connect
ds0 f106 mainOut f109 tail #connect
ds0 f109 head f108 mainIn #connect
ds0 f108 mainOut f103 tail #connect
ds0 f103 head f101 mainIn #connect
ds0 f43 mainOut f111 tail #connect
ds0 f111 head f110 mainIn #connect
ds0 f110 mainOut f38 tail #connect
ds0 f38 head f31 mainIn #connect
ds0 f114 mainOut f54 tail #connect
ds0 f54 head f50 mainIn #connect
ds0 f102 mainOut f118 tail #connect
ds0 f118 head f117 mainIn #connect
ds0 f119 mainOut f121 tail #connect
ds0 f121 head f120 mainIn #connect
ds0 f124 mainOut f125 tail #connect
ds0 f125 head f117 mainIn #connect
ds0 f126 mainOut f127 tail #connect
ds0 f127 head f120 mainIn #connect
ds0 f21 mainOut f130 tail #connect
ds0 f130 head f113 mainIn #connect
ds0 f133 mainOut f136 tail #connect
ds0 f136 head f134 mainIn #connect
ds0 f9 mainOut f139 tail #connect
ds0 f139 head f138 mainIn #connect
ds0 f138 mainOut f129 tail #connect
ds0 f129 head f53 mainIn #connect
ds0 f142 mainOut f145 tail #connect
ds0 f145 head f143 mainIn #connect
ds0 f85 mainOut f96 tail #connect
ds0 f96 head f90 mainIn #connect
ds0 f97 mainOut f150 tail #connect
ds0 f150 head f149 mainIn #connect
ds0 f90 mainOut f86 tail #connect
ds0 f86 head f147 mainIn #connect
ds0 f149 mainOut f89 tail #connect
ds0 f89 head f147 mainIn #connect
ds0 f75 mainOut f151 tail #connect
ds0 f151 head f148 mainIn #connect
ds0 f148 mainOut f76 tail #connect
ds0 f76 head f52 mainIn #connect
ds0 f117 mainOut f94 tail #connect
ds0 f94 head f98 mainIn #connect
ds0 f120 mainOut f115 tail #connect
ds0 f115 head f98 mainIn #connect
ds0 f50 mainOut f92 tail #connect
ds0 f92 head f147 mainIn #connect
ds0 f143 mainOut f93 tail #connect
ds0 f93 head f147 mainIn #connect
ds0 f113 mainOut f112 tail #connect
ds0 f112 head f31 mainIn #connect
ds0 f134 mainOut f116 tail #connect
ds0 f116 head f31 mainIn #connect
ds0 f53 mainOut f122 tail #connect
ds0 f122 head f18 mainIn #connect
ds0 f144 head f137 mainIn #connect
ds0 f137 mainOut f146 tail #connect
ds0 f146 head f138 mainIn #connect
ds0 f155 head f154 mainIn #connect
ds0 f154 mainOut f163 tail #connect
ds0 f163 head f138 mainIn #connect
ds0 f165 head f164 mainIn #connect
ds0 f164 mainOut f166 tail #connect
ds0 f166 head f138 mainIn #connect
ds0 f167 head f18 mainIn #connect
ds0 f8 mainOut f168 tail #connect
ds0 f168 head f1 mainIn #connect
ds0 f7 mainOut f123 tail #connect
ds0 f123 head f57 in #connect
ds0 f60 mainOut f156 tail #connect
ds0 f156 head f33 mainIn #connect
ds0 f67 mainOut f128 tail #connect
ds0 f128 head f63 mainIn #connect
ds0 f63 mainOut f68 tail #connect
ds0 f68 head f65 mainIn #connect
ds0 f64 mainOut f141 tail #connect
ds0 f141 head f63 mainIn #connect
ds0 f71 mainOut f66 tail #connect
ds0 f66 head f63 mainIn #connect
ds0 f69 mainOut f72 tail #connect
ds0 f72 head f63 mainIn #connect
ds0 f70 mainOut f160 tail #connect
ds0 f160 head f159 mainIn #connect
ds0 f159 mainOut f162 tail #connect
ds0 f162 head f161 mainIn #connect
ds0 f161 mainOut f158 tail #connect
ds0 f158 head f152 mainIn #connect
ds0 f19 mainOut f170 tail #connect
ds0 f170 head f169 mainIn #connect
ds0 f169 mainOut f157 tail #connect
ds0 f157 head f6 mainIn #connect
ds0 f171 mainOut f172 tail #connect
ds0 f172 head f131 in #connect
ds0 f2 mainOut f174 tail #connect
ds0 f174 head f173 mainIn #connect
ds0 f173 mainOut f135 tail #connect
ds0 f135 head f6 mainIn #connect
ds0 f81 mainOut f178 tail #connect
ds0 f178 head f6 mainIn #connect
ds0 f10 mainOut f74 tail #connect
ds0 f74 head f6 mainIn #connect
ds0 f24 mainOut f177 tail #connect
ds0 f177 head f176 mainIn #connect
ds0 f176 mainOut f179 tail #connect
ds0 f179 head f147 mainIn #connect
ds0 f57 out f56 tail #connect
ds0 f56 head f8 mainIn #connect
ds0 f57 out f59 tail #connect
ds0 f59 head f32 mainIn #connect
ds0 f186 mainOut f189 tail #connect
ds0 f189 head f188 mainIn #connect
ds0 f188 mainOut f192 tail #connect
ds0 f192 head f191 in #connect
ds0 f191 out f140 tail #connect
ds0 f140 head f148 mainIn #connect
ds0 f191 out f193 tail #connect
ds0 f193 head f153 mainIn #connect
ds0 f51 mainOut f20 tail #connect
ds0 f20 head f188 mainIn #connect
ds0 f131 out f23 tail #connect
ds0 f23 head f9 mainIn #connect
ds0 f131 out f144 tail #connect
ds0 f131 out f155 tail #connect
ds0 f131 out f165 tail #connect
ds0 f131 out f167 tail #connect
